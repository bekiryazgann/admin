!function(){"use strict";function r(e){var t;return null===e?"null":void 0===e?"undefined":"object"==(t=typeof e)&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}function f(o){return d(function(e,t){if(e.length!==t.length)return!1;for(var n=e.length,r=0;r<n;r++)if(!o.eq(e[r],t[r]))return!1;return!0})}function V(l){return d(function(e,t){function n(e){return t=r,Array.prototype.slice.call(e).sort(t);var t}var r,o=Object.keys(e),i=Object.keys(t),a=f(m);if(!d(function(e,t){return a.eq(n(e),n(t))}).eq(o,i))return!1;for(var u=o.length,s=0;s<u;s++){var c=o[s];if(!l.eq(e[c],t[c]))return!1}return!0})}function o(n){return function(e){return t=typeof e,(null===e?"null":"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t)===n;var t}}function i(t){return function(e){return typeof e===t}}function a(t){return function(e){return t===e}}function Y(e){return null==e}function ne(e){return!Y(e)}function Le(){}function u(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(r.apply(null,e))}}function s(t,n){return function(e){return t(n(e))}}function Ie(e){return function(){return e}}function G(e){return e}function c(e,t){return e===t}function d(e){return{eq:e}}var m=d(function(e,t){return e===t}),J=d(function(e,t){var n;return e===t||(n=r(e))===r(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(n)?e===t:"array"===n?f(J).eq(e,t):"object"===n&&V(J).eq(e,t))}),Me=o("string"),et=o("object"),Q=o("array"),l=a(null),g=i("boolean"),v=a(void 0),y=i("function"),b=i("number");function Fe(r){for(var o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.concat(e);return r.apply(null,n)}}function p(t){return function(e){return!t(e)}}function h(e){return e()}function x(e){e()}function S(){return E}var Ue=Ie(!1),ze=Ie(!0),E={fold:function(e,t){return e()},isSome:Ue,isNone:ze,getOr:G,getOrThunk:k,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:Ie(null),getOrUndefined:Ie(void 0),or:G,orThunk:k,map:S,each:Le,bind:S,exists:Ue,forall:ze,filter:function(){return E},toArray:function(){return[]},toString:Ie("none()")};function k(e){return e()}function N(e,t){return ge.call(e,t)}function tt(e,t){return-1<N(e,t)}function Z(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1}function He(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function je(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function _(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)}function A(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}}function Ve(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}function R(e,n,r){return _(e,function(e,t){r=n(r,e,t)}),r}function nt(e,n,r){return je(e,function(e,t){r=n(r,e,t)}),r}function D(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return $e.some(i);if(n(i,r))break}return $e.none()}function rt(e,t){return D(e,t,Ue)}function T(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return $e.some(n);return $e.none()}function O(e,t){for(var n=He(e,t),r=[],o=0,i=n.length;o<i;++o){if(!Q(n[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+n);pe.apply(r,n[o])}return r}function ot(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0}function B(e){return(e=me.call(e,0)).reverse(),e}function it(e,t){return Ve(e,function(e){return!tt(t,e)})}function P(e,t){return(e=me.call(e,0)).sort(t),e}function at(e,t){return 0<=t&&t<e.length?$e.some(e[t]):$e.none()}function L(e){return at(e,0)}function ut(e){return at(e,e.length-1)}function U(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return $e.none()}function q(e,t){for(var n=he(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}function z(e,n){return r=function(e,t){return{k:t,v:n(e,t)}},o={},q(e,function(e,t){e=r(e,t),o[e.k]=e.v}),o;var r,o}function H(n){return function(e,t){n[t]=e}}function ee(e,n,r,o){q(e,function(e,t){(n(e,t)?r:o)(e,t)})}function te(e,t){var n={};return ee(e,t,H(n),Le),n}function qe(e,t){return re(e,t)?$e.from(e[t]):$e.none()}function oe(e,t){return re(e,t)&&void 0!==e[t]&&null!==e[t]}function ie(e,t,n){var r,o;if(!e)return!1;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(re(e,r)&&!1===t.call(n,e[r],r,e))return!1;return!0}function ae(n,r){var o=[];return ie(n,function(e,t){o.push(r(e,t,n))}),o}function ue(n,r){var o=[];return ie(n,function(e,t){r&&!r(e,t,n)||o.push(e)}),o}function se(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function ce(e,t,n,r){for(var o=v(n)?e[0]:n,i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o}function le(e,t,n){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1}function fe(e){return e[e.length-1]}function de(n){function e(){return o}function t(e){return e(n)}var r=Ie(n),o={fold:function(e,t){return t(n)},isSome:ze,isNone:Ue,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return de(e(n))},each:function(e){e(n)},bind:t,exists:t,forall:t,filter:function(e){return e(n)?o:E},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o}var $e={some:de,none:S,from:function(e){return null==e?E:de(e)}},me=Array.prototype.slice,ge=Array.prototype.indexOf,pe=Array.prototype.push,st=y(Array.from)?Array.from:function(e){return me.call(e)},he=Object.keys,ve=Object.hasOwnProperty,re=function(e,t){return ve.call(e,t)},be=Array.isArray,We=function(){return(We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ye(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Ce(n){var r,o=!1;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o||(o=!0,r=n.apply(null,e)),r}}function xe(e,t){var n=String(t).toLowerCase();return rt(e,function(e){return e.search(n)})}function we(e,t){return-1!==e.indexOf(t)}function Se(t){return function(e){return e.replace(t,"")}}function Ee(e){return 0<e.length}function ke(e){return!Ee(e)}function Ne(t){return function(e){return we(e,t)}}function _e(e){return window.matchMedia(e).matches}function Ae(e){return null==e?"":(""+e).replace(Lt,"")}function Re(e,t){return t?!("array"!==t||!be(e))||typeof e===t:void 0!==e}function De(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n}function Te(e,t){if(1!==(e=e.dom).nodeType)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}function Oe(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount}function I(e,t){return e.dom===t.dom}function Be(e,t){return Rt().browser.isIE()?(r=e.dom,o=t.dom,n=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(r.compareDocumentPosition(o)&n)):(r=e.dom)!==(o=t.dom)&&r.contains(o);var n,r,o}function Pe(){return dt(0,0)}function ct(e){function t(e){return function(){return n===e}}var n=e.current,e=e.version;return{current:n,version:e,isEdge:t("Edge"),isChrome:t("Chrome"),isIE:t("IE"),isOpera:t("Opera"),isFirefox:t(xt),isSafari:t("Safari")}}function lt(e){function t(e){return function(){return n===e}}var n=e.current,e=e.version;return{current:n,version:e,isWindows:t(St),isiOS:t("iOS"),isAndroid:t(Et),isOSX:t("OSX"),isLinux:t("Linux"),isSolaris:t(kt),isFreeBSD:t(Nt),isChromeOS:t(_t)}}function ft(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}function dt(e,t){return{major:e,minor:t}}function mt(){return ct({current:void 0,version:pt.unknown()})}function gt(){return lt({current:void 0,version:pt.unknown()})}var pt={nu:dt,detect:function(e,t){var n,r,t=String(t).toLowerCase();return 0===e.length?Pe():(r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,n=t))?dt(o(1),o(2)):{major:0,minor:0};function o(e){return Number(n.replace(r,"$"+e))}},unknown:Pe},ht=function(e,t){return""===t||e.length>=t.length&&e.substr(0,0+t.length)===t},vt=Se(/^\s+|\s+$/g),bt=Se(/^\s+/g),yt=Se(/\s+$/g),Ct={browsers:Ie([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return we(e,"edge/")&&we(e,"chrome")&&we(e,"safari")&&we(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Dt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/],search:function(e){return we(e,"chrome")&&!we(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return we(e,"msie")||we(e,"trident")}},{name:"Opera",versionRegexes:[Dt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ne("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ne("firefox")},{name:"Safari",versionRegexes:[Dt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(we(e,"safari")||we(e,"mobile/"))&&we(e,"applewebkit")}}]),oses:Ie([{name:"Windows",search:Ne("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return we(e,"iphone")||we(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ne("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ne("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ne("linux"),versionRegexes:[]},{name:"Solaris",search:Ne("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ne("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ne("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},xt="Firefox",wt=ct,St=(Ie("Edge"),Ie("Chrome"),Ie("IE"),Ie("Opera"),Ie(xt),Ie("Safari"),"Windows"),Et="Android",kt="Solaris",Nt="FreeBSD",_t="ChromeOS",At=lt,Rt=(Ie(St),Ie("iOS"),Ie(Et),Ie("Linux"),Ie("OSX"),Ie(kt),Ie(Nt),Ie(_t),Ce(function(){return e=navigator.userAgent,c=$e.from(navigator.userAgentData),a=_e,s=Ct.browsers(),l=Ct.oses(),{browser:c=c.bind(function(e){return r=s,U(e.brands,function(t){var n=t.brand.toLowerCase();return rt(r,function(e){return n===(null==(e=e.brand)?void 0:e.toLowerCase())}).map(function(e){return{current:e.name,version:pt.nu(parseInt(t.version,10),0)}})});var r}).orThunk(function(){return xe(s,n=e).map(function(e){var t=pt.detect(e.versionRegexes,n);return{current:e.name,version:t}});var n}).fold(mt,wt),os:l=xe(l,n=e).map(function(e){var t=pt.detect(e.versionRegexes,n);return{current:e.name,version:t}}).fold(gt,At),deviceType:(t=e,r=l.isiOS()&&!0===/ipad/i.test(t),o=l.isiOS()&&!r,i=(u=l.isiOS()||l.isAndroid())||a("(pointer:coarse)"),a=r||!o&&u&&a("(min-device-width:768px)"),u=o||u&&!a,c=c.isSafari()&&l.isiOS()&&!1===/safari/i.test(t),{isiPad:Ie(r),isiPhone:Ie(o),isTablet:Ie(a),isPhone:Ie(u),isTouch:Ie(i),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:Ie(c),isDesktop:Ie(!u&&!a&&!c)})};var e,n,t,r,o,i,a,u,s,c,l})),Dt=navigator.userAgent,e=(Ot=Rt()).browser,Tt=Ot.os,Ot=Ot.deviceType,Bt=/WebKit/.test(Dt)&&!e.isEdge(),Pt="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Dt=-1!==Dt.indexOf("Windows Phone"),Ke={opera:e.isOpera(),webkit:Bt,ie:!(!e.isIE()&&!e.isEdge())&&e.version.major,gecko:e.isFirefox(),mac:Tt.isOSX()||Tt.isiOS(),iOS:Ot.isiPad()||Ot.isiPhone(),android:Tt.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:e.isIE()?document.documentMode||7:10,fileApi:Pt,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!e.isIE(),desktop:Ot.isDesktop(),windowsPhone:Dt,browser:{current:e.current,version:e.version,isChrome:e.isChrome,isEdge:e.isEdge,isFirefox:e.isFirefox,isIE:e.isIE,isOpera:e.isOpera,isSafari:e.isSafari},os:{current:Tt.current,version:Tt.version,isAndroid:Tt.isAndroid,isChromeOS:Tt.isChromeOS,isFreeBSD:Tt.isFreeBSD,isiOS:Tt.isiOS,isLinux:Tt.isLinux,isOSX:Tt.isOSX,isSolaris:Tt.isSolaris,isWindows:Tt.isWindows},deviceType:{isDesktop:Ot.isDesktop,isiPad:Ot.isiPad,isiPhone:Ot.isiPhone,isPhone:Ot.isPhone,isTablet:Ot.isTablet,isTouch:Ot.isTouch,isWebView:Ot.isWebView}},Lt=/^\s*|\s*$/g,Xe={trim:Ae,isArray:be,is:Re,toArray:function(e){if(be(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},makeMap:function(e,t,n){var r;for(t=t||",",n=n||{},r=(e="string"==typeof(e=e||[])?e.split(t):e).length;r--;)n[e[r]]={};return n},each:ie,map:ae,grep:ue,inArray:se,hasOwn:re,extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o,i,a=t[r];for(o in a)re(a,o)&&void 0!==(i=a[o])&&(e[o]=i)}return e},create:function(e,t,n){var r,o,i,a=this,u=0,s=(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e))[3].match(/(^|\.)(\w+)$/i)[2],c=a.createNS(e[3].replace(/\.\w+$/,""),n);c[s]||("static"===e[2]?(c[s]=t,this.onCreate&&this.onCreate(e[2],e[3],c[s])):(t[s]||(t[s]=function(){},u=1),c[s]=t[s],a.extend(c[s].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=c[s],c[s]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[s].prototype[s]=c[s],a.each(r,function(e,t){c[s].prototype[t]=r[t]}),a.each(t,function(e,t){r[t]?c[s].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==s&&(c[s].prototype[t]=e)})),a.each(t.static,function(e,t){c[s][t]=e})))},walk:function n(e,r,o,i){i=i||this,e&&ie(e=o?e[o]:e,function(e,t){return!1!==r.call(i,e,t,o)&&void n(e,r,o,i)})},createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||Re(e,"array")?e:ae(e.split(t||","),Ae)},_addCacheSuffix:function(e){var t=Ke.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Ye={fromHtml:function(e,t){if((t=(t||document).createElement("div")).innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return ft(t.childNodes[0])},fromTag:function(e,t){return ft((t||document).createElement(e))},fromText:function(e,t){return ft((t||document).createTextNode(e))},fromDom:ft,fromPoint:function(e,t,n){return $e.from(e.dom.elementFromPoint(t,n)).map(ft)}};function $(e){return e.dom.nodeName.toLowerCase()}function It(e){return e.dom.nodeType}function Mt(t){return function(e){return It(e)===t}}function Ft(e){return Ye.fromDom(e.dom.ownerDocument)}function Ut(e){return Mn(e)?e:Ft(e)}function zt(e){return Ye.fromDom(Ut(e).dom.defaultView)}function Ht(e){return $e.from(e.dom.parentNode).map(Ye.fromDom)}function jt(e){return $e.from(e.dom.previousSibling).map(Ye.fromDom)}function Vt(e){return $e.from(e.dom.nextSibling).map(Ye.fromDom)}function qt(e){return B(De(e,jt))}function $t(e){return De(e,Vt)}function Wt(e,t){return e=e.dom.childNodes,$e.from(e[t]).map(Ye.fromDom)}function Kt(e){return Wt(e,0)}function Xt(e){return Wt(e,e.dom.childNodes.length-1)}function Yt(e){return e.dom.childNodes.length}function Gt(e){return Fn(e)&&ne(e.dom.host)}function Jt(e){if(Gt(e))return e;if(null==(e=Ut(e).dom.head))throw new Error("Head is not available yet");return Ye.fromDom(e)}function Qt(e){return Ye.fromDom(e.dom.host)}function Zt(t,n){Ht(t).each(function(e){e.dom.insertBefore(n.dom,t.dom)})}function en(e,t){Vt(e).fold(function(){Ht(e).each(function(e){jn(e,t)})},function(e){Zt(e,t)})}function tn(t,n){Kt(t).fold(function(){jn(t,n)},function(e){t.dom.insertBefore(n.dom,e.dom)})}function nn(t,e){je(e,function(e){jn(t,e)})}function rn(e){e.dom.textContent="",je(Un(e),function(e){Vn(e)})}function on(e){var t,n=Un(e);0<n.length&&(t=e,je(n,function(e){Zt(t,e)})),Vn(e)}function an(e,t){return void 0!==e?e:void 0!==t?t:0}function un(e){var t=(e=void 0!==e?e.dom:document).body.scrollLeft||e.documentElement.scrollLeft,e=e.body.scrollTop||e.documentElement.scrollTop;return $n(t,e)}function sn(e,t,n){(n=(void 0!==n?n.dom:document).defaultView)&&n.scrollTo(e,t)}function cn(e,t){Rt().browser.isSafari()&&y(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)}function ln(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}}function fn(e){var n=void 0===e?window:e,e=n.document,r=un(Ye.fromDom(e)),e=void 0===n?window:n;return(Rt().browser.isFirefox()?$e.none():$e.from(e.visualViewport)).fold(function(){var e=(t=n.document.documentElement).clientWidth,t=t.clientHeight;return ln(r.left,r.top,e,t)},function(e){return ln(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)})}function dn(t){return function(e){return!!e&&e.nodeType===t}}function mn(e){return e&&!Object.getPrototypeOf(e)}function gn(e){var t=e.map(function(e){return e.toLowerCase()});return function(e){return!(!e||!e.nodeName)&&(e=e.nodeName.toLowerCase(),tt(t,e))}}function pn(r,e){var o=e.toLowerCase().split(" ");return function(e){if(W(e))for(var t=0;t<o.length;t++){var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if((n?n.getPropertyValue(r):null)===o[t])return!0}return!1}}function hn(t){return function(e){return W(e)&&e.hasAttribute(t)}}function vn(e){return W(e)&&e.hasAttribute("data-mce-bogus")}function bn(e){return W(e)&&"TABLE"===e.tagName}function yn(t){return function(e){if(W(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}function Cn(e,t,n){return void 0===n&&(n=c),e.exists(function(e){return n(e,t)})}function xn(e,t,n){return e.isSome()&&t.isSome()?$e.some(n(e.getOrDie(),t.getOrDie())):$e.none()}function wn(e){return void 0!==e.style&&y(e.style.getPropertyValue)}function Sn(e,t,n){if(!(Me(n)||g(n)||b(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")}function En(e,t,n){Sn(e.dom,t,n)}function kn(e,t){var n=e.dom;q(t,function(e,t){Sn(n,t,e)})}function Nn(e,t){return null===(e=e.dom.getAttribute(t))?void 0:e}function _n(e,t){return $e.from(Nn(e,t))}function An(e,t){e.dom.removeAttribute(t)}function Rn(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||qn(e)?r:er(n,t)}function Dn(e,t){return e=e.dom,e=er(e,t),$e.from(e).filter(function(e){return 0<e.length})}function Tn(e){var t={},n=e.dom;if(wn(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t}function On(e){return rt(e,Ln)}function Bn(e,t){return e.children&&tt(e.children,t)}function Pn(e){var t=e.dom,n=t.ownerDocument.body;return n===t?$n(n.offsetLeft,n.offsetTop):qn(e)?(n=t.getBoundingClientRect(),$n(n.left,n.top)):$n(0,0)}"undefined"==typeof window&&Function("return this;")();var Ln=Mt(1),In=Mt(3),Mn=Mt(9),Fn=Mt(11),Un=function(e){return He(e.dom.childNodes,Ye.fromDom)},zn=Ie(Bt=y(Element.prototype.attachShadow)&&y(Node.prototype.getRootNode)),Hn=Bt?function(e){return Ye.fromDom(e.dom.getRootNode())}:Ut,jn=function(e,t){e.dom.appendChild(t.dom)},Vn=function(e){null!==(e=e.dom).parentNode&&e.parentNode.removeChild(e)},qn=function(e){var t,n=In(e)?e.dom.parentNode:e.dom;return null!=n&&null!==n.ownerDocument&&(t=n.ownerDocument,e=Ye.fromDom(n),(Gt(e=Hn(e))?$e.some(e):$e.none()).fold(function(){return t.body.contains(n)},s(qn,Qt)))},$n=function n(r,o){return{left:r,top:o,translate:function(e,t){return n(r+e,o+t)}}},W=dn(1),Wn=gn(["textarea","input"]),j=dn(3),Kn=dn(8),Xn=dn(9),Yn=dn(11),M=gn(["br"]),Gn=gn(["img"]),Jn=yn("true"),F=yn("false"),Qn=gn(["td","th"]),Zn=gn(["video","audio","object","embed"]),er=function(e,t){return wn(e)?e.style.getPropertyValue(t):""},tr=Rt().browser,nr={},rr={exports:nr};function or(e){setTimeout(function(){throw e},0)}function ir(e){return cr(function(){return new ur(e)})}function ar(a){if(!Q(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var u=[],n={};return je(a,function(e,r){var t=he(e);if(1!==t.length)throw new Error("one and only one name per case");var o=t[0],i=e[o];if(void 0!==n[o])throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!Q(i))throw new Error("case arguments must be an array");u.push(o),n[o]=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.length;if(t!==i.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+i.length+" ("+i+"), got "+t);return{fold:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+e.length);return e[r].apply(null,n)},match:function(e){var t=he(e);if(u.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+u.join(",")+"\nActual: "+t.join(","));if(ot(u,function(e){return tt(t,e)}))return e[o].apply(null,n);throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+u.join(", "))},log:function(e){console.log(e,{constructors:u,constructor:o,params:n})}}}}),n}!function(){function e(){var e,t,n={exports:{}};function r(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function o(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn(function(){var e,t=1===n._state?r.onFulfilled:r.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void u(r.promise,e)}a(r.promise,e)}else(1===n._state?a:u)(r.promise,n._value)})):n._deferreds.push(r)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,s(e);if("function"==typeof n)return l((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,s(e)}catch(t){u(e,t)}var r,o}function u(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){n||(n=!0,u(t,e))}}f=n,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=setTimeout,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new c(e,t,n)),n},i.all=function(e){var u=Array.prototype.slice.call(e);return new i(function(o,i){if(0===u.length)return o([]);for(var a=u.length,e=0;e<u.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,function(e){t(n,e)},i),0}u[n]=e,0==--a&&o(u)}catch(e){i(e)}}(e,u[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(o){return new i(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},i._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){t(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},f.exports?f.exports=i:e.Promise||(e.Promise=i);var f=n.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||f}}var t=this;"object"==typeof nr&&void 0!==rr?rr.exports=e():(t="undefined"!=typeof globalThis?globalThis:t||self).EphoxContactWrapper=e()}();var ur=rr.exports.boltExport,sr=function e(t){function r(e){n()?o(e):a.push(e)}function n(){return i.isSome()}function o(t){i.each(function(e){setTimeout(function(){t(e)},0)})}var i=$e.none(),a=[];return t(function(e){n()||(i=$e.some(e),je(a,o),a=[])}),{get:r,map:function(n){return e(function(t){r(function(e){t(n(e))})})},isReady:n}},cr=function(n){function e(e){n().then(e,or)}return{map:function(e){return cr(function(){return n().then(e)})},bind:function(t){return cr(function(){return n().then(function(e){return t(e).toPromise()})})},anonBind:function(e){return cr(function(){return n().then(function(){return e.toPromise()})})},toLazy:function(){return sr(e)},toCached:function(){var e=null;return cr(function(){return e=null===e?n():e})},toPromise:n,get:e}},lr=function t(n){return{isValue:ze,isError:Ue,getOr:Ie(n),getOrThunk:Ie(n),getOrDie:Ie(n),or:function(e){return t(n)},orThunk:function(e){return t(n)},fold:function(e,t){return t(n)},map:function(e){return t(e(n))},mapError:function(e){return t(n)},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOptional:function(){return $e.some(n)}}},fr=function t(n){return{isValue:Ue,isError:ze,getOr:G,getOrThunk:function(e){return e()},getOrDie:function(){throw e=String(n),new Error(e);var e},or:G,orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return t(n)},mapError:function(e){return t(e(n))},each:Le,bind:function(e){return t(n)},exists:Ue,forall:ze,toOptional:$e.none}};function dr(e){return e.fold(G,G)}function mr(e,t,n,r,o){return e(n,r)?$e.some(n):y(o)&&o(n)?$e.none():t(n,r,o)}function gr(e,t,n){for(var r=e.dom,o=y(n)?n:Ue;r.parentNode;){var r=r.parentNode,i=Ye.fromDom(r);if(t(i))return $e.some(i);if(o(i))break}return $e.none()}function pr(e,t,n){return mr(function(e,t){return t(e)},gr,e,t,n)}function hr(e,t,n){return gr(e,function(e){return Te(e,t)},n)}function vr(e,t){return Oe(e=void 0===e?document:e.dom)?$e.none():$e.from(e.querySelector(t)).map(Ye.fromDom)}function br(e,t,n){return mr(Te,hr,e,t,n)}function yr(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function Cr(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function xr(n,r){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(o),o=yr(function(){n.apply(this,e)},r)}var o;return e.stop=function(){clearTimeout(o)},e}function wr(c,l){function n(e,t,n){var r,o,e=Xe._addCacheSuffix(e),i=qe(d,e).getOrThunk(function(){return{id:"mce-u"+f++,passed:[],failed:[],count:0}});function a(e,t){for(var n=e.length;n--;)e[n]();i.status=t,i.passed=[],i.failed=[],r&&(r.onload=null,r.onerror=null,r=null)}function u(){a(i.passed,2)}function s(){return a(i.failed,3)}(d[e]=i).count++,t&&i.passed.push(t),n&&i.failed.push(n),1!==i.status&&(2!==i.status?3!==i.status?(i.status=1,kn(t=Ye.fromTag("link",g.dom),{rel:"stylesheet",type:"text/css",id:i.id}),o=Date.now(),l.contentCssCors&&En(t,"crossOrigin","anonymous"),l.referrerPolicy&&En(t,"referrerpolicy",l.referrerPolicy),(r=t.dom).onload=function e(){var t=e;!function(){for(var e=c.styleSheets,t=e.length;t--;){var n=e[t].ownerNode;if(n&&n.id===r.id)return u(),1}}()&&(Date.now()-o<p?Nr.setTimeout(t):s())},r.onerror=s,n=t,jn(Jt(m),n),En(t,"href",e)):s():u())}function r(t){return ir(function(e){n(t,u(e,Ie(lr(t))),u(e,Ie(fr(t))))})}function t(e){var t=Xe._addCacheSuffix(e);qe(d,t).each(function(e){0==--e.count&&(delete d[t],e=e.id,vr(Jt(m),"#"+e).each(Vn))})}void 0===l&&(l={});var f=0,d={},m=Ye.fromDom(c),g=Ut(m),p=l.maxLoadTime||5e3;return{load:n,loadAll:function(e,t,n){var a=He(e,r);ir(function(r){var o=[],i=0;0===a.length?r([]):je(a,function(e,t){var n;e.get((n=t,function(e){o[n]=e,++i>=a.length&&r(o)}))})}).get(function(e){0<(e=A(e,function(e){return e.isValue()})).fail.length?n(e.fail.map(dr)):t(e.pass.map(dr))})},unload:t,unloadAll:function(e){je(e,function(e){t(e)})},_setReferrerPolicy:function(e){l.referrerPolicy=e}}}ar([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Sr,Er,kr=window.Promise||ur,Nr={requestAnimationFrame:function(e,i){Sr?Sr.then(e):Sr=new kr(function(e){for(var t=i=i||document.body,n=window.requestAnimationFrame,r=["ms","moz","webkit"],o=0;o<r.length&&!n;o++)n=window[r[o]+"RequestAnimationFrame"];(n=n||function(e){window.setTimeout(e,0)})(e,t)}).then(e)},setTimeout:yr,setInterval:Cr,setEditorTimeout:function(e,t,n){return yr(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=Cr(function(){e.removed?clearInterval(r):t()},n);return r},debounce:xr,throttle:xr,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},_r=(Er=new WeakMap,{forElement:function(e,t){var n=Hn(e).dom;return $e.from(Er.get(n)).getOrThunk(function(){var e=wr(n,t);return Er.set(n,e),e})}}),Ar=(Rr.prototype.current=function(){return this.node},Rr.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},Rr.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},Rr.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},Rr.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},Rr.prototype.findPreviousNode=function(e,t,n,r){var o;if(e&&(n=e[n],!this.rootNode||n!==this.rootNode)){if(n){if(!r)for(o=n[t];o;o=o[t])if(!o[t])return o;return n}return(r=e.parentNode)&&r!==this.rootNode?r:void 0}},Rr);function Rr(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function Dr(t){var n;return function(e){return n=n||function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}(t,ze),re(n,$(e))}}function Tr(e){return Ln(e)&&!po(e)}function Or(e){return Ln(e)&&"br"===$(e)}function Br(e){return Ao(e)&&(e=e.parentNode),_o(e)&&e.hasAttribute("data-mce-caret")}function Pr(e){return Ao(e)&&ko(e.data)}function Lr(e){return Br(e)||Pr(e)}function Ir(e){return e.firstChild!==e.lastChild||!M(e.firstChild)}function Mr(e){var t=e.container();return!!j(t)&&(t.data.charAt(e.offset())===Eo||e.isAtStart()&&Pr(t.previousSibling))}function Fr(e){var t=e.container();return!!j(t)&&(t.data.charAt(e.offset()-1)===Eo||e.isAtEnd()&&Pr(t.nextSibling))}function Ur(e){return e&&e.hasAttribute("data-mce-caret")?(vn(t=(t=e.getElementsByTagName("br"))[t.length-1])&&t.parentNode.removeChild(t),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t}function zr(e){return Br(e.startContainer)}function Hr(e){return!Io(e)&&(Oo(e)?!Bo(e.parentNode):Po(e)||To(e)||Lo(e)||mo(e))}function jr(e,t){return Hr(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(mo(e))return!1;if(Ro(e))return!0}return!0}(e,t)}function Vr(e){return Mo.test(e)}function qr(e,t){return Hr(e)&&!1===(j(n=e)&&Vr(n.data)&&!1===(t=Ye.fromDom(t),hr(Ye.fromDom(n),"pre,code",Fe(I,t)).isSome()))||W(n=e)&&"A"===n.nodeName&&!n.hasAttribute("href")&&(n.hasAttribute("name")||n.hasAttribute("id"))||Fo(e);var n}function $r(e,t){var n=e.dom,r=t=void 0===t||t,o=0;if(qr(n,n))return!1;var i=n.firstChild;if(!i)return!0;var a,u=new Ar(i,n);do{if(r){if(W(a=i)&&"all"===a.getAttribute("data-mce-bogus")){i=u.next(!0);continue}if(Uo(i)){i=u.next();continue}}if(M(i))o++;else if(qr(i,n))return!1;i=u.next()}while(i);return o<=1}function Wr(e,t){return ne(e)&&(qr(e,t)||Tr(Ye.fromDom(e)))}function Kr(e){return"span"===e.nodeName.toLowerCase()&&"bookmark"===e.getAttribute("data-mce-type")}function Xr(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Ko[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}}function Yr(e,t){return e.replace(t?jo:Vo,function(e){return Ko[e]||e})}function Gr(e,t){return e.replace(t?jo:Vo,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Ko[e]||"&#"+e.charCodeAt(0)+";"})}function Jr(e,t,n){return n=n||Yo,e.replace(t?jo:Vo,function(e){return Ko[e]||n[e]||e})}function Qr(e,t){return(e=Xe.trim(e))?e.split(t||" "):[]}function Zr(e,t){return e=Zo(e," ",Zo(e.toUpperCase()," ")),ti(e,t)}function eo(e){return Zr("td th li dt dd figcaption caption details summary",e.getTextBlockElements())}function to(e,n){var r;return e&&(r={},ei(e="string"==typeof e?{"*":e}:e,function(e,t){r[t]=r[t.toUpperCase()]=("map"===n?Zo:ni)(e,/[, ]/)})),r}function no(o){function e(e,t,n){var r=o[e];return r?r=Zo(r,/[, ]/,Zo(r.toUpperCase(),/[, ]/)):(r=Jo[e])||(r=Zr(t,n),Jo[e]=r),r}var u,t,n,s,S={},i={},E=[],a={},r={},c=(m=(o=o||{}).schema,s={},Jo[m]||(u="id accesskey class dir lang style tabindex title role",d="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",t="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==m&&(u+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",d+=" article aside details dialog figure main header footer hgroup section nav",t+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==m&&(u+=" xml:lang",t=[t,"acronym applet basefont big font strike tt"].join(" "),ei(Qr("acronym applet basefont big font strike tt"),function(e){l(e,"",t)}),d=[d,"center dir isindex noframes"].join(" "),n=[d,t].join(" "),ei(Qr("center dir isindex noframes"),function(e){l(e,"",n)})),n=n||[d,t].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",n),l("address dt dd div caption","",n),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",t),l("blockquote","cite",n),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",n),l("dl","","dt dd"),l("a","href target rel media hreflang type",t),l("q","cite",t),l("ins del","cite datetime",n),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",n),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[n,"param"].join(" ")),l("param","name value"),l("map","name",[n,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===m?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",n),l("th","colspan rowspan headers scope abbr",n),l("form","accept-charset action autocomplete enctype method name novalidate target",n),l("fieldset","disabled form name",[n,"legend"].join(" ")),l("label","form for",t),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===m?n:t),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[n,"li"].join(" ")),l("noscript","",n),"html4"!==m&&(l("wbr"),l("ruby","",[t,"rt rp"].join(" ")),l("figcaption","",n),l("mark rt rp summary bdi","",t),l("canvas","width height",n),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[n,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[n,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[t,"option"].join(" ")),l("article section nav aside main header footer","",n),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[n,"figcaption"].join(" ")),l("time","datetime",t),l("dialog","open",n),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",t),l("progress","value max",t),l("meter","value min max low high optimum",t),l("details","open",[n,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==m&&(f("script","language xml:space"),f("style","xml:space"),f("object","declare classid code codebase codetype archive standby align border hspace vspace"),f("embed","align name hspace vspace"),f("param","valuetype type"),f("a","charset name rev shape coords"),f("br","clear"),f("applet","codebase archive code object alt name width height align hspace vspace"),f("img","name longdesc align border hspace vspace"),f("iframe","longdesc frameborder marginwidth marginheight scrolling align"),f("font basefont","size color face"),f("input","usemap align"),f("select"),f("textarea"),f("h1 h2 h3 h4 h5 h6 div p legend caption","align"),f("ul","type compact"),f("li","type"),f("ol dl menu dir","compact"),f("pre","width xml:space"),f("hr","align noshade size width"),f("isindex","prompt"),f("table","summary width frame rules cellspacing cellpadding align bgcolor"),f("col","width align char charoff valign"),f("colgroup","width align char charoff valign"),f("thead","align char charoff valign"),f("tr","align char charoff valign bgcolor"),f("th","axis align char charoff valign nowrap bgcolor width height"),f("form","accept"),f("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),f("tfoot","align char charoff valign"),f("tbody","align char charoff valign"),f("area","nohref"),f("body","background bgcolor text link vlink alink")),"html4"!==m&&(f("input button select textarea","autofocus"),f("input textarea","placeholder"),f("a","download"),f("link script img","crossorigin"),f("img","loading"),f("iframe","sandbox seamless allowfullscreen loading")),ei(Qr("a form meter progress dfn"),function(e){s[e]&&delete s[e].children[e]}),delete s.caption.children.table,delete s.script,Jo[m]=s));function l(e,t,n){function r(e,t){for(var n={},r=0,o=e.length;r<o;r++)n[e[r]]=t||{};return n}var o;t=t||"","string"==typeof(n=n||[])&&(n=Qr(n));for(var i=Qr(e),a=i.length;a--;)o={attributes:r(o=Qr([u,t].join(" "))),attributesOrder:o,children:r(n,Qo)},s[i[a]]=o}function f(e,t){for(var n,r,o,i=Qr(e),a=i.length,u=Qr(t);a--;)for(n=s[i[a]],r=0,o=u.length;r<o;r++)n.attributes[u[r]]={},n.attributesOrder.push(u[r])}!1===o.verify_html&&(o.valid_elements="*[*]");var d=to(o.valid_styles),m=to(o.invalid_styles,"map"),g=to(o.valid_classes,"map"),p=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),h=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),v=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),b=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),y=e("non_empty_elements",(C="td th iframe video audio object script code")+" pre",v),C=e("move_caret_before_on_enter_elements",C+" table",v),x=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),w=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",x),k=e("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");function N(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function _(e){var t,n,r,o,i,a,u,s,c,l,f,d,m,g,p,h,v,b,y=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,C=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,x=/[*?+]/;if(e){var w=Qr(e,",");for(S["@"]&&(h=S["@"].attributes,v=S["@"].attributesOrder),t=0,n=w.length;t<n;t++)if(i=y.exec(w[t])){if(g=i[1],c=i[2],p=i[3],s=i[5],a={attributes:d={},attributesOrder:m=[]},"#"===g&&(a.paddEmpty=!0),"-"===g&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),h&&(q(h,function(e,t){d[t]=e}),m.push.apply(m,v)),s)for(r=0,o=(s=Qr(s,"|")).length;r<o;r++)(i=C.exec(s[r]))&&(u={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),g=i[3],b=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),u.required=!0),"-"!==f?(g&&("="===g&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:b}),u.defaultValue=b),":"===g&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:b}),u.forcedValue=b),"<"===g)&&(u.validValues=Zo(b,"?")),x.test(l)?(a.attributePatterns=a.attributePatterns||[],u.pattern=N(l),a.attributePatterns.push(u)):(d[l]||m.push(l),d[l]=u)):(delete d[l],m.splice(ri(m,l),1)));h||"@"!==c||(h=d,v=m),p&&(a.outputName=c,S[p]=a),x.test(c)?(a.pattern=N(c),E.push(a)):S[c]=a}}}function A(e){S={},E=[],_(e),ei(c,function(e,t){i[t]=e.children})}function R(e){var o=/^(~)?(.+)$/;e&&(Jo.text_block_elements=Jo.block_elements=null,ei(Qr(e,","),function(e){var t="~"===(e=o.exec(e))[1],n=t?"span":"div",r=e[2];i[r]=i[n],a[r]=n,t||(w[r.toUpperCase()]={},w[r]={}),S[r]||(e=S[n],delete(e=ti({},e)).removeEmptyAttrs,delete e.removeEmpty,S[r]=e),ei(i,function(e,t){e[n]&&(i[t]=e=ti({},i[t]),e[r]=e[n])})}))}function D(e){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Jo[o.schema]=null,e&&ei(Qr(e,","),function(e){var t,n;(e=r.exec(e))&&(n=e[1],t=n?i[e[2]]:i[e[2]]={"#comment":{}},t=i[e[2]],ei(Qr(e[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})}function T(e){var t,n=S[e];if(n)return n;for(t=E.length;t--;)if((n=E[t]).pattern.test(e))return n}ei((o.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(e){r[e]=new RegExp("</"+e+"[^>]*>","gi")}),o.valid_elements?A(o.valid_elements):(ei(c,function(e,t){S[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},i[t]=e.children}),"html5"!==o.schema&&ei(Qr("strong/b em/i"),function(e){e=Qr(e,"/"),S[e[1]].outputName=e[0]}),ei(k,function(e,t){S[t]&&(o.padd_empty_block_inline_children&&(S[t].paddInEmptyBlock=!0),S[t].removeEmpty=!0)}),ei(Qr("ol ul blockquote a table tbody"),function(e){S[e]&&(S[e].removeEmpty=!0)}),ei(Qr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){S[e].paddEmpty=!0}),ei(Qr("span"),function(e){S[e].removeEmptyAttrs=!0})),R(o.custom_elements),D(o.valid_children),_(o.extended_valid_elements),D("+ol[ul|ol],+ul[ul|ol]"),ei({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){S[t]&&(S[t].parentsRequired=Qr(e))}),o.invalid_elements&&ei(ni(o.invalid_elements),function(e){S[e]&&delete S[e]}),T("span")||_("span[!data-mce-type|*]");var d=Ie(d),m=Ie(m),g=Ie(g),b=Ie(b),O=Ie(w),x=Ie(x),k=Ie(k),v=Ie(v),h=Ie(h),y=Ie(y),C=Ie(C),p=Ie(p),B=Ie(r),P=Ie(a);return{children:i,elements:S,getValidStyles:d,getValidClasses:g,getBlockElements:O,getInvalidStyles:m,getShortEndedElements:v,getTextBlockElements:x,getTextInlineElements:k,getBoolAttrs:b,getElementRule:T,getSelfClosingElements:h,getNonEmptyElements:y,getMoveCaretBeforeOnEnterElements:C,getWhiteSpaceElements:p,getSpecialElements:B,isValidChild:function(e,t){return!(!(e=i[e.toLowerCase()])||!e[t.toLowerCase()])},isValid:function(e,t){var n,r,o=T(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:P,addValidElements:_,setValidElements:A,addCustomElements:R,addValidChildren:D}}function ro(e,t,n,r){function o(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+o(t)+o(n)+o(r)}function oo(v,e){var u,o,b=this,y=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,C=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,x=/\s*([^:]+):\s*([^;]+);?/g,w=/\s+$/,S={},E=wo;v=v||{},e&&(u=e.getValidStyles(),o=e.getInvalidStyles());for(var t=("\\\" \\' \\; \\: ; : "+E).split(" "),k=0;k<t.length;k++)S[t[k]]=E+k,S[E+k]=t[k];return{toHex:function(e){return e.replace(y,ro)},parse:function(e){function t(e,t,n){var r=g[e+"-top"+t];if(r){var o=g[e+"-right"+t];if(o){var i=g[e+"-bottom"+t];if(i){var a=g[e+"-left"+t];if(a){var u=[r,o,i,a];for(k=u.length-1;k--&&u[k]===u[k+1];);-1<k&&n||(g[e+t]=-1===k?u[0]:u.join(" "),delete g[e+"-top"+t],delete g[e+"-right"+t],delete g[e+"-bottom"+t],delete g[e+"-left"+t])}}}}}function n(e){var t,n=g[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return;return g[e]=n[0],1}}function r(e){return l=!0,S[e]}function a(e,t){return l&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return S[e]})),t?e:e.replace(/\\([\'\";:])/g,"$1")}function o(e){return String.fromCharCode(parseInt(e.slice(1),16))}function i(e){return e.replace(/\\[0-9a-f]+/gi,o)}function u(e,t,n,r,o,i){if(o=o||i)return"'"+(o=a(o)).replace(/\'/g,"\\'")+"'";if(t=a(t||n||r),!v.allow_script_urls){if(i=t.replace(/[\s\r\n]+/g,""),/(java|vb)script:/i.test(i))return"";if(!v.allow_svg_data_urls&&/^data:image\/svg/i.test(i))return""}return"url('"+(t=p?p.call(h,t,"style"):t).replace(/\'/g,"\\'")+"')"}var s,c,l,f,d,m,g={},p=v.url_converter,h=v.url_converter_scope||b;if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,r).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,r)});c=x.exec(e);)x.lastIndex=c.index+c[0].length,s=c[1].replace(w,"").toLowerCase(),c=c[2].replace(w,""),s&&c&&(s=i(s),c=i(c),-1===s.indexOf(E))&&-1===s.indexOf('"')&&(v.allow_script_urls||"behavior"!==s&&!/expression\s*\(|\/\*|\*\//.test(c))&&("font-weight"===s&&"700"===c?c="bold":"color"!==s&&"background-color"!==s||(c=c.toLowerCase()),c=(c=c.replace(y,ro)).replace(C,u),g[s]=l?a(c,!0):c);t("border","",!0),t("border","-width"),t("border","-color"),t("border","-style"),t("padding",""),t("margin",""),d="border-style",m="border-color",n(f="border-width")&&n(d)&&n(m)&&(g.border=g[f]+" "+g[d]+" "+g[m],delete g[f],delete g[d],delete g[m]),"medium none"===g.border&&delete g.border,"none"===g["border-image"]&&delete g["border-image"]}return g},serialize:function(i,r){function e(e){var t,n=u[e];if(n)for(var r=0,o=n.length;r<o;r++)e=n[r],(t=i[e])&&(a+=(0<a.length?" ":"")+e+": "+t+";")}var a="";return r&&u?(e("*"),e(r)):q(i,function(e,t){var n;!e||o&&((n=o["*"])&&n[t]||(n=o[r])&&n[t])||(a+=(0<a.length?" ":"")+t+": "+e+";")}),a}}}function io(e){return e instanceof Event||y(e.initEvent)}function ao(e,t,n,r){var o=function(e){var t,n=null!=r?r:{};for(t in e)re(oi,t)||(n[t]=e[t]);return ne(n.composedPath)&&(n.composedPath=function(){return e.composedPath()}),n}(t);return o.type=e,Y(o.target)&&(o.target=null!=(e=o.srcElement)?e:n),(Y((e=t).preventDefault)||io(e))&&(o.preventDefault=function(){o.defaultPrevented=!0,o.isDefaultPrevented=ze,y(t.preventDefault)?t.preventDefault():io(t)&&(t.returnValue=!1)},o.stopPropagation=function(){o.cancelBubble=!0,o.isPropagationStopped=ze,y(t.stopPropagation)?t.stopPropagation():io(t)&&(t.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=ze,o.stopPropagation()},o.isDefaultPrevented!==ze)&&o.isDefaultPrevented!==Ue&&(o.isDefaultPrevented=!0===o.defaultPrevented?ze:Ue,o.isPropagationStopped=!0===o.cancelBubble?ze:Ue,o.isImmediatePropagationStopped=Ue),o}function uo(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function so(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function co(e,t){var n,r,t=ao(e.type,e,document,t);return ne(r=e)&&ii.test(r.type)&&v(e.pageX)&&!v(e.clientX)&&(n=(r=t.target.ownerDocument||document).documentElement,r=r.body,t.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),v(t.metaKey)&&(t.metaKey=!1),t}function lo(e){return Ao(e)&&e.data[0]===Eo}function fo(e){return Ao(e)&&e.data[e.data.length-1]===Eo}function mo(e){return!1===(W(t=e)&&"true"===t.getAttribute("unselectable"))&&Do(e);var t}var go=Dr(["h1","h2","h3","h4","h5","h6"]),po=Dr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),ho=Dr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),vo=Dr(["ul","ol","dl"]),bo=Dr(["li","dd","dt"]),yo=Dr(["thead","tbody","tfoot"]),Co=Dr(["td","th"]),xo=Dr(["pre","script","textarea","style"]),wo="\ufeff",So=" ",Eo=wo,ko=function(e){return e===wo},No=function(e){return e.replace(/\uFEFF/g,"")},_o=W,Ao=j,Ro=Jn,Do=F,To=M,Oo=j,Bo=gn(["script","style","textarea"]),Po=gn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Lo=gn(["table"]),Io=Lr,Mo=/^[ \t\r\n]*$/,Fo=hn("data-mce-bookmark"),Uo=hn("data-mce-bogus"),zo=function(e,t,n){var r=n||t;if(!W(t)||!Kr(t)){for(var o,i,a=t.childNodes,u=a.length-1;0<=u;u--)zo(e,a[u],r);W(t)&&1===(n=t.childNodes).length&&Kr(n[0])&&t.parentNode.insertBefore(n[0],t),Yn(n=t)||Xn(n)||qr(t,r)||W(n=t)&&0<n.childNodes.length||(n=r,j(i=t)&&0<i.data.length&&(o=new Ar(i,n).prev(!1),i=new Ar(i,n).next(!1),o=v(o)||Wr(o,n),i=v(i)||Wr(i,n),o)&&i)||e.remove(t)}return t},Ho=Xe.makeMap,jo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vo=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qo=/[<>&\"\']/g,$o=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Wo={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Ko={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Xo={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Yo=Xr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Go={encodeRaw:Yr,encodeAllRaw:function(e){return(""+e).replace(qo,function(e){return Ko[e]||e})},encodeNumeric:Gr,encodeNamed:Jr,getEncodeFunc:function(e,t){var n=Xr(t)||Yo;return(e=Ho(e.replace(/\+/g,","))).named&&e.numeric?function(e,t){return e.replace(t?jo:Vo,function(e){return void 0!==Ko[e]?Ko[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:e.named?t?function(e,t){return Jr(e,t,n)}:Jr:e.numeric?Gr:Yr},decode:function(e){return e.replace($o,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Wo[t]||String.fromCharCode(t):Xo[e]||Yo[e]||(t=e,(e=Ye.fromTag("div").dom).innerHTML=t,e.textContent)||e.innerText||t})}},Jo={},Qo={},Zo=Xe.makeMap,ei=Xe.each,ti=Xe.extend,ni=Xe.explode,ri=Xe.inArray,oi={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ii=/^(?:mouse|contextmenu)|click/,ai=(ui.prototype.bind=function(e,t,n,r){function o(e){f.executeHandlers(co(e||d.event),i)}var i,a,u,s,c,l,f=this,d=window;if(e&&3!==e.nodeType&&8!==e.nodeType){e[f.expando]?i=e[f.expando]:(i=f.count++,e[f.expando]=i,f.events[i]={}),r=r||e;for(var m=t.split(" "),g=m.length;g--;)c=o,s=l=!1,"DOMContentLoaded"===(u=m[g])&&(u="ready"),f.domLoaded&&"ready"===u&&"complete"===e.readyState?n.call(r,co({type:u})):(f.hasMouseEnterLeave||(s=f.mouseEnterLeave[u])&&(c=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=co(e||d.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,f.executeHandlers(e,i))}),f.hasFocusIn||"focusin"!==u&&"focusout"!==u||(l=!0,s="focusin"===u?"focus":"blur",c=function(e){(e=co(e||d.event)).type="focus"===e.type?"focusin":"focusout",f.executeHandlers(e,i)}),(a=f.events[i][u])?"ready"===u&&f.domLoaded?n(co({type:u})):a.push({func:n,scope:r}):(f.events[i][u]=a=[{func:n,scope:r}],a.fakeName=s,a.capture=l,a.nativeHandler=c,"ready"===u?function(e,t,n){var r,o=e.document,i={type:"ready"};n.domLoaded?t(i):(r=function(){so(e,"DOMContentLoaded",r),so(e,"load",r),n.domLoaded||(n.domLoaded=!0,t(i)),e=null},"complete"===o.readyState||"interactive"===o.readyState&&o.body?r():uo(e,"DOMContentLoaded",r),n.domLoaded||uo(e,"load",r))}(e,c,f):uo(e,s||u,c,l)));return e=a=null,n}},ui.prototype.unbind=function(n,e,t){var r,o,i;if(n&&3!==n.nodeType&&8!==n.nodeType){var a=n[this.expando];if(a){if(i=this.events[a],e){for(var u,s,c,l,f=e.split(" "),d=f.length;d--;)if(l=i[o=f[d]]){if(t)for(r=l.length;r--;)l[r].func===t&&(u=l.nativeHandler,s=l.fakeName,c=l.capture,(l=l.slice(0,r).concat(l.slice(r+1))).nativeHandler=u,l.fakeName=s,l.capture=c,i[o]=l);t&&0!==l.length||(delete i[o],so(n,l.fakeName||o,l.nativeHandler,l.capture))}}else q(i,function(e,t){so(n,e.fakeName||t,e.nativeHandler,e.capture)}),i={};for(o in i)if(re(i,o))return this;delete this.events[a];try{delete n[this.expando]}catch(e){n[this.expando]=null}}}return this},ui.prototype.fire=function(e,t,n){var r;if(e&&3!==e.nodeType&&8!==e.nodeType)for(var o=co({type:t,target:e},n);(r=e[this.expando])&&this.executeHandlers(o,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!o.isPropagationStopped(););return this},ui.prototype.clean=function(e){var t,n;if(e&&3!==e.nodeType&&8!==e.nodeType&&(e[this.expando]&&this.unbind(e),e=e.getElementsByTagName?e:e.document)&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},ui.prototype.destroy=function(){this.events={}},ui.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},ui.prototype.executeHandlers=function(e,t){var n=(t=this.events[t])&&t[e.type];if(n)for(var r=0,o=n.length;r<o;r++){var i=n[r];if(i&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},ui.Event=new ui,ui);function ui(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}function si(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}var ci,C,li,fi,di,mi,gi,pi,hi,vi,bi,yi,Ci,xi,wi,Si,Ei,ki="sizzle"+-new Date,Ni=window.document,_i=0,Ai=0,Ri=ea(),Di=ea(),Ti=ea(),Oi=function(e,t){return e===t&&(vi=!0),0},Bi="undefined",Pi={}.hasOwnProperty,Li=(Pt=[]).pop,Ii=Pt.push,Mi=Pt.push,Fi=Pt.slice,Ui=Pt.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},n="[\\x20\\t\\r\\n\\f]",Tt=":("+(Dt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+")+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+(e="\\["+n+"*("+Dt+")(?:"+n+"*([*^$|!~]?=)"+n+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Dt+"))|)"+n+"*\\]")+")*)|.*)\\)|)",zi=new RegExp("^"+n+"+|((?:^|[^\\\\])(?:\\\\.)*)"+n+"+$","g"),Hi=new RegExp("^"+n+"*,"+n+"*"),ji=new RegExp("^"+n+"*([>+~]|"+n+")"+n+"*"),Vi=new RegExp("="+n+"*([^\\]'\"]*?)"+n+"*\\]","g"),qi=new RegExp(Tt),$i=new RegExp("^"+Dt+"$"),Wi={ID:new RegExp("^#("+Dt+")"),CLASS:new RegExp("^\\.("+Dt+")"),TAG:new RegExp("^("+Dt+"|[*])"),ATTR:new RegExp("^"+e),PSEUDO:new RegExp("^"+Tt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+n+"*(even|odd|(([+-]|)(\\d*)n|)"+n+"*(?:([+-]|)"+n+"*(\\d+)|))"+n+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+n+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+n+"*((?:-\\d)?\\d*)"+n+"*\\)|)(?=[^-]|$)","i")},Ki=/^(?:input|select|textarea|button)$/i,Xi=/^h\d$/i,Yi=/^[^{]+\{\s*\[native \w/,Gi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ji=/[+~]/,Qi=/'|\\/g,Zi=new RegExp("\\\\([\\da-f]{1,6}"+n+"?|("+n+")|.)","ig");try{Mi.apply(Pt=Fi.call(Ni.childNodes),Ni.childNodes),Pt[Ni.childNodes.length].nodeType}catch(o){Mi={apply:Pt.length?function(e,t){Ii.apply(e,Fi.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function K(e,t,n,r){var o,i,a,u,s,c,l;if((t?t.ownerDocument||t:Ni)!==yi&&bi(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=(t=t||yi).nodeType)&&9!==o)return[];if(xi&&!r){if(c=Gi.exec(e))if(l=c[1]){if(9===o){if(!(u=t.getElementById(l))||!u.parentNode)return n;if(u.id===l)return n.push(u),n}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(l))&&Ei(t,u)&&u.id===l)return n.push(u),n}else{if(c[2])return Mi.apply(n,t.getElementsByTagName(e)),n;if((l=c[3])&&ci.getElementsByClassName)return Mi.apply(n,t.getElementsByClassName(l)),n}if(ci.qsa&&(!wi||!wi.test(e))){if(s=u=ki,c=t,l=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(a=di(e),(u=t.getAttribute("id"))?s=u.replace(Qi,"\\$&"):t.setAttribute("id",s),s="[id='"+s+"'] ",i=a.length;i--;)a[i]=s+aa(a[i]);c=Ji.test(e)&&oa(t.parentNode)||t,l=a.join(",")}if(l)try{return Mi.apply(n,c.querySelectorAll(l)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return gi(e.replace(zi,"$1"),t,n,r)}function ea(){var n=[];function r(e,t){return n.push(e+" ")>C.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function ta(e){return e[ki]=!0,e}function na(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ra(a){return ta(function(i){return i=+i,ta(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function oa(e){return e&&typeof e.getElementsByTagName!=Bi&&e}function ia(){}function aa(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ua(a,e,t){var u=e.dir,s=t&&"parentNode"===u,c=Ai++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||s)return a(e,t,n)}:function(e,t,n){var r,o,i=[_i,c];if(n){for(;e=e[u];)if((1===e.nodeType||s)&&a(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||s){if((r=(o=e[ki]||(e[ki]={}))[u])&&r[0]===_i&&r[1]===c)return i[2]=r[2];if((o[u]=i)[2]=a(e,t,n))return!0}}}function sa(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function ca(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,c=null!=t;u<s;u++)!(i=e[u])||n&&!n(i,r,o)||(a.push(i),c&&t.push(u));return a}function la(e){return void 0!==e}function fa(e){return"string"==typeof e}function da(e,t){var n,r=(t=t||xa).createElement("div"),o=t.createDocumentFragment();for(r.innerHTML=e;n=r.firstChild;)o.appendChild(n);return o}function ma(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function ga(e,t,n){var r,o;return t=X(t)[0],e.each(function(){n&&r===this.parentNode||(r=this.parentNode,o=t.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)}),e}function pa(e,t){return new X.fn.init(e,t)}function ha(e){return null==e?"":(""+e).replace(Ba,"")}function va(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e}function ba(e,n){var r=[];return va(e,function(e,t){n(t,e)&&r.push(t)}),r}function ya(e,t,n,r){var o;if(fa(t))t=da(t,Ca(e[0]));else if(t.length&&!t.nodeType){if(t=X.makeArray(t),r)for(o=t.length-1;0<=o;o--)ya(e,t[o],n,r);else for(o=0;o<t.length;o++)ya(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e}function Ca(e){return e?9===e.nodeType?e:e.ownerDocument:xa}ci=K.support={},fi=K.isXML=function(e){return!!(e=e&&(e.ownerDocument||e).documentElement)&&"HTML"!==e.nodeName},bi=K.setDocument=function(e){var s=e?e.ownerDocument||e:Ni,e=s.defaultView;return s!==yi&&9===s.nodeType&&s.documentElement?(Ci=(yi=s).documentElement,xi=!fi(s),e&&e!==function(e){try{return e.top}catch(e){}return null}(e)&&(e.addEventListener?e.addEventListener("unload",function(){bi()},!1):e.attachEvent&&e.attachEvent("onunload",function(){bi()})),ci.attributes=!0,ci.getElementsByTagName=!0,ci.getElementsByClassName=Yi.test(s.getElementsByClassName),ci.getById=!0,C.find.ID=function(e,t){if(typeof t.getElementById!=Bi&&xi)return(t=t.getElementById(e))&&t.parentNode?[t]:[]},C.filter.ID=function(e){var t=e.replace(Zi,si);return function(e){return e.getAttribute("id")===t}},C.find.TAG=ci.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=Bi)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},C.find.CLASS=ci.getElementsByClassName&&function(e,t){if(xi)return t.getElementsByClassName(e)},Si=[],wi=[],ci.disconnectedMatch=!0,wi=wi.length&&new RegExp(wi.join("|")),Si=Si.length&&new RegExp(Si.join("|")),e=Yi.test(Ci.compareDocumentPosition),Ei=e||Yi.test(Ci.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e;return e===(t=t&&t.parentNode)||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Oi=e?function(e,t){return e===t?(vi=!0,0):!e.compareDocumentPosition-!t.compareDocumentPosition||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!ci.sortDetached&&t.compareDocumentPosition(e)===n?e===s||e.ownerDocument===Ni&&Ei(Ni,e)?-1:t===s||t.ownerDocument===Ni&&Ei(Ni,t)?1:hi?Ui.call(hi,e)-Ui.call(hi,t):0:4&n?-1:1);var n}:function(e,t){if(e===t)return vi=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!o||!i)return e===s?-1:t===s?1:o?-1:i?1:hi?Ui.call(hi,e)-Ui.call(hi,t):0;if(o===i)return na(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?na(a[r],u[r]):a[r]===Ni?-1:u[r]===Ni?1:0},s):yi},K.matches=function(e,t){return K(e,null,null,t)},K.matchesSelector=function(e,t){if((e.ownerDocument||e)!==yi&&bi(e),t=t.replace(Vi,"='$1']"),ci.matchesSelector&&xi&&(!Si||!Si.test(t))&&(!wi||!wi.test(t)))try{var n=(void 0).call(e,t);if(n||ci.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<K(t,yi,null,[e]).length},K.contains=function(e,t){return(e.ownerDocument||e)!==yi&&bi(e),Ei(e,t)},K.attr=function(e,t){(e.ownerDocument||e)!==yi&&bi(e);var n=C.attrHandle[t.toLowerCase()];return void 0!==(n=n&&Pi.call(C.attrHandle,t.toLowerCase())?n(e,t,!xi):void 0)?n:ci.attributes||!xi?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},K.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},K.uniqueSort=function(e){var t,n=[],r=0,o=0;if(vi=!ci.detectDuplicates,hi=!ci.sortStable&&e.slice(0),e.sort(Oi),vi){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return hi=null,e},li=K.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=li(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=li(t);return n},(C=K.selectors={cacheLength:50,createPseudo:ta,match:Wi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Zi,si),e[3]=(e[3]||e[4]||e[5]||"").replace(Zi,si),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||K.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&K.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Wi.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&qi.test(n)&&(t=(t=di(n,!0))&&n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Zi,si).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Ri[e+" "];return t||(t=new RegExp("(^|"+n+")"+e+"("+n+"|$)"))&&Ri(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!=Bi&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){return null==(e=K.attr(e,t))?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(m,e,t,g,p){var h="nth"!==m.slice(0,3),v="last"!==m.slice(-4),b="of-type"===e;return 1===g&&0===p?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,a,u,s,c=h!=v?"nextSibling":"previousSibling",l=e.parentNode,f=b&&e.nodeName.toLowerCase(),d=!n&&!b;if(l){if(h){for(;c;){for(i=e;i=i[c];)if(b?i.nodeName.toLowerCase()===f:1===i.nodeType)return!1;s=c="only"===m&&!s&&"nextSibling"}return!0}if(s=[v?l.firstChild:l.lastChild],v&&d){for(u=(r=(o=l[ki]||(l[ki]={}))[m]||[])[0]===_i&&r[1],a=r[0]===_i&&r[2],i=u&&l.childNodes[u];i=++u&&i&&i[c]||(a=u=0,s.pop());)if(1===i.nodeType&&++a&&i===e){o[m]=[_i,u,a];break}}else if(d&&(r=(e[ki]||(e[ki]={}))[m])&&r[0]===_i)a=r[1];else for(;(i=++u&&i&&i[c]||(a=u=0,s.pop()))&&((b?i.nodeName.toLowerCase()!==f:1!==i.nodeType)||!++a||(d&&((i[ki]||(i[ki]={}))[m]=[_i,a]),i!==e)););return(a-=p)===g||a%g==0&&0<=a/g}}},PSEUDO:function(e,i){var t,a=C.pseudos[e]||C.setFilters[e.toLowerCase()]||K.error("unsupported pseudo: "+e);return a[ki]?a(i):1<a.length?(t=[e,e,"",i],C.setFilters.hasOwnProperty(e.toLowerCase())?ta(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=Ui.call(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ta(function(e){var r=[],o=[],u=mi(e.replace(zi,"$1"));return u[ki]?ta(function(e,t,n,r){for(var o,i=u(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return r[0]=e,u(r,null,n,o),r[0]=null,!o.pop()}}),has:ta(function(t){return function(e){return 0<K(t,e).length}}),contains:ta(function(t){return t=t.replace(Zi,si),function(e){return-1<(e.textContent||e.innerText||li(e)).indexOf(t)}}),lang:ta(function(n){return $i.test(n||"")||K.error("unsupported lang: "+n),n=n.replace(Zi,si).toLowerCase(),function(e){var t;do{if(t=xi?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===Ci},focus:function(e){return e===yi.activeElement&&(!yi.hasFocus||yi.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return Xi.test(e.nodeName)},input:function(e){return Ki.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:ra(function(){return[0]}),last:ra(function(e,t){return[t-1]}),eq:ra(function(e,t,n){return[n<0?n+t:n]}),even:ra(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ra(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ra(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:ra(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=C.pseudos.eq,je(["radio","checkbox","file","password","image"],function(e){var t;C.pseudos[e]=(t=e,function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t})}),je(["submit","reset"],function(e){var n;C.pseudos[e]=(n=e,function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n})}),ia.prototype=C.filters=C.pseudos,C.setFilters=new ia,di=K.tokenize=function(e,t){var n,r,o,i,a,u,s,c=Di[e+" "];if(c)return t?0:c.slice(0);for(a=e,u=[],s=C.preFilter;a;){for(i in n&&!(r=Hi.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=ji.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(zi," ")}),a=a.slice(n.length)),C.filter)C.filter.hasOwnProperty(i)&&(r=Wi[i].exec(a))&&(!s[i]||(r=s[i](r)))&&(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?K.error(e):Di(e,u).slice(0)},mi=K.compile=function(e,t){var n,h,v,b,y,r=[],o=[],i=Ti[e+" "];if(!i){for(n=(t=t||di(e)).length;n--;)((i=function e(t){for(var r,n,o,i=t.length,a=C.relative[t[0].type],u=a||C.relative[" "],s=a?1:0,c=ua(function(e){return e===r},u,!0),l=ua(function(e){return-1<Ui.call(r,e)},u,!0),f=[function(e,t,n){return e=!a&&(n||t!==pi)||((r=t).nodeType?c:l)(e,t,n),r=null,e}];s<i;s++)if(n=C.relative[t[s].type])f=[ua(sa(f),n)];else{if((n=C.filter[t[s].type].apply(null,t[s].matches))[ki]){for(o=++s;o<i&&!C.relative[t[o].type];o++);return function e(m,g,p,h,v,t){return h&&!h[ki]&&(h=e(h)),v&&!v[ki]&&(v=e(v,t)),ta(function(e,t,n,r){var o,i,a,u=[],s=[],c=t.length,l=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)K(e,t[r],n);return n}(g||"*",n.nodeType?[n]:n,[]),f=!m||!e&&g?l:ca(l,u,m,n,r),d=p?v||(e?m:c||h)?[]:t:f;if(p&&p(f,d,n,r),h)for(o=ca(d,s),h(o,[],n,r),i=o.length;i--;)(a=o[i])&&(d[s[i]]=!(f[s[i]]=a));if(e){if(v||m){if(v){for(o=[],i=d.length;i--;)(a=d[i])&&o.push(f[i]=a);v(null,d=[],o,r)}for(i=d.length;i--;)(a=d[i])&&-1<(o=v?Ui.call(e,a):u[i])&&(e[o]=!(t[o]=a))}}else d=ca(d===t?d.splice(c,d.length):d),v?v(null,t,d,r):Mi.apply(t,d)})}(1<s&&sa(f),1<s&&aa(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(zi,"$1"),n,s<o&&e(t.slice(s,o)),o<i&&e(t=t.slice(o)),o<i&&aa(t))}f.push(n)}return sa(f)}(t[n]))[ki]?r:o).push(i);(i=Ti(e,(b=0<(v=r).length,y=0<(h=o).length,b?ta(a):a))).selector=e}function a(e,t,n,r,o){var i,a,u,s=0,c="0",l=e&&[],f=[],d=pi,m=e||y&&C.find.TAG("*",o),g=_i+=null==d?1:Math.random()||.1,p=m.length;for(o&&(pi=t!==yi&&t);c!==p&&null!=(i=m[c]);c++){if(y&&i){for(a=0;u=h[a++];)if(u(i,t,n)){r.push(i);break}o&&(_i=g)}b&&((i=!u&&i)&&s--,e)&&l.push(i)}if(s+=c,b&&c!==s){for(a=0;u=v[a++];)u(l,f,t,n);if(e){if(0<s)for(;c--;)l[c]||f[c]||(f[c]=Li.call(r));f=ca(f)}Mi.apply(r,f),o&&!e&&0<f.length&&1<s+v.length&&K.uniqueSort(r)}return o&&(_i=g,pi=d),l}return i},gi=K.select=function(e,t,n,r){var o,i,a,u,s,c="function"==typeof e&&e,l=!r&&di(e=c.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(a=i[0]).type&&ci.getById&&9===t.nodeType&&xi&&C.relative[i[1].type]){if(!(t=(C.find.ID(a.matches[0].replace(Zi,si),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Wi.needsContext.test(e)?0:i.length;o--&&(a=i[o],!C.relative[u=a.type]);)if((s=C.find[u])&&(r=s(a.matches[0].replace(Zi,si),Ji.test(i[0].type)&&oa(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&aa(i))break;return Mi.apply(n,r),n}}return(c||mi(e,l))(r,t,!xi,n,Ji.test(e)&&oa(t.parentNode)||t),n},ci.sortStable=ki.split("").sort(Oi).join("")===ki,ci.detectDuplicates=!!vi,bi(),ci.sortDetached=!0;var xa=document,wa=Array.prototype.push,Sa=Array.prototype.slice,Ea=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ka=ai.Event,Na=Xe.makeMap("children,contents,next,prev"),_a=Xe.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Aa=Xe.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Ra={for:"htmlFor",class:"className",readonly:"readOnly"},Da={float:"cssFloat"},Ta={},Oa={},Ba=/^\s*|\s*$/g;function Pa(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof X&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&X(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r}function La(e,t,n,r){var o=[];for(r instanceof X&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&X(e).is(r))break}o.push(e)}return o}function Ia(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null}function Ma(e,t){var n=t.attr("style"),e=e.serialize(e.parse(n),t[0].nodeName)||null;t.attr("data-mce-style",e)}function Fa(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o}pa.fn=pa.prototype={constructor:pa,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(e)if(e.nodeType)o.context=o[0]=e,o.length=1;else{if(t&&t.nodeType)o.context=t;else{if(t)return X(e).attr(t);o.context=t=document}if(fa(e)){if(!(n="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Ea.exec(e)))return X(t).find(e);if(n[1])for(r=da(e,Ca(t)).firstChild;r;)wa.call(o,r),r=r.nextSibling;else{if(!(r=Ca(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1)}return o},toArray:function(){return Xe.toArray(this)},add:function(e,t){var n,r;if(fa(e))return this.add(X(e));if(!1!==t)for(n=X.unique(this.toArray().concat(X.makeArray(e))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else wa.apply(this,X.makeArray(e));return this},attr:function(t,n){var e,r=this;if("object"==typeof t)va(t,function(e,t){r.attr(e,t)});else{if(!la(n)){if(r[0]&&1===r[0].nodeType){if((e=Ta[t])&&e.get)return e.get(r[0],t);if(Aa[t])return r.prop(t)?t:void 0;null===(n=r[0].getAttribute(t,2))&&(n=void 0)}return n}this.each(function(){var e;1===this.nodeType&&((e=Ta[t])&&e.set?e.set(this,n):null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2))})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Ra[e]||e))va(e,function(e,t){n.prop(e,t)});else{if(!la(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(t,n){function e(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function r(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var o,i,a=this;if("object"==typeof t)va(t,function(e,t){a.css(e,t)});else if(la(n))t=e(t),"number"!=typeof n||_a[t]||(n=n.toString()+"px"),a.each(function(){var e=this.style;if((i=Oa[t])&&i.set)i.set(this,n);else{try{this.style[Da[t]||t]=n}catch(e){}null!==n&&""!==n||(e.removeProperty?e.removeProperty(r(t)):e.removeAttribute(t))}});else{if(o=a[0],(i=Oa[t])&&i.get)return i.get(o);if(!o.ownerDocument.defaultView)return o.currentStyle?o.currentStyle[e(t)]:"";try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(r(t))}catch(e){return}}return a},remove:function(){for(var e,t=this.length;t--;)e=this[t],ka.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var n;if(la(t)){n=this.length;try{for(;n--;)this[n].innerHTML=t}catch(e){X(this[n]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(e){var t;if(la(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return ya(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return ya(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?ya(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?ya(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return X(e).append(this),this},prependTo:function(e){return X(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return ga(this,e)},wrapAll:function(e){return ga(this,e,!0)},wrapInner:function(e){return this.each(function(){X(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){X(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),X(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(o,i){var e=this;return"string"==typeof o&&(-1!==o.indexOf(" ")?va(o.split(" "),function(){e.toggleClass(this,i)}):e.each(function(e,t){var n,r=ma(t,o);r!==i&&(n=t.className,r?t.className=ha((" "+n+" ").replace(" "+o+" "," ")):t.className+=n?" "+o:o)})),e},hasClass:function(e){return ma(this[0],e)},each:function(e){return va(this,e)},on:function(e,t){return this.each(function(){ka.bind(this,e,t)})},off:function(e,t){return this.each(function(){ka.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?ka.fire(this,e.type,e):ka.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return X(Sa.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){for(var t=[],n=0,r=this.length;n<r;n++)X.find(e,this[n],t);return X(t)},filter:function(n){return X("function"==typeof n?ba(this.toArray(),function(e,t){return n(t,e)}):X.filter(n,this.toArray()))},closest:function(n){var r=[];return n instanceof X&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&X(t).is(n)){r.push(t);break}if(t===n){r.push(t);break}t=t.parentNode}}),X(r)},offset:function(e){var t,n,r=0,o=0;return e?this.css(e):((e=this[0])&&(n=(t=e.ownerDocument).documentElement,e.getBoundingClientRect)&&(r=(e=e.getBoundingClientRect()).left+(n.scrollLeft||t.body.scrollLeft)-n.clientLeft,o=e.top+(n.scrollTop||t.body.scrollTop)-n.clientTop),{left:r,top:o})},push:wa,sort:Array.prototype.sort,splice:Array.prototype.splice},Xe.extend(pa,{extend:Xe.extend,makeArray:function(e){return e&&e===e.window||e.nodeType?[e]:Xe.toArray(e)},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:Xe.isArray,each:va,trim:ha,grep:ba,find:K,expr:K.selectors,unique:K.uniqueSort,text:K.getText,contains:K.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return 1===t.length?X.find.matchesSelector(t[0],e)?[t[0]]:[]:X.find.matches(e,t)}}),va({parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},parents:function(e){return Pa(e,"parentNode")},next:function(e){return Ia(e,"nextSibling",1)},prev:function(e){return Ia(e,"previousSibling",1)},children:function(e){return La(e.firstChild,"nextSibling",1)},contents:function(e){return Xe.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(r,o){pa.fn[r]=function(t){var n=[],e=(this.each(function(){var e=o.call(n,this,t,n);e&&(X.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(Na[r]||(n=X.unique(n)),0===r.indexOf("parents"))&&(n=n.reverse()),X(n));return t?e.filter(t):e}}),va({parentsUntil:function(e,t){return Pa(e,"parentNode",t)},nextUntil:function(e,t){return La(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return La(e,"previousSibling",1,t).slice(1)}},function(o,i){pa.fn[o]=function(t,e){var n=[],r=(this.each(function(){var e=i.call(n,this,t,n);e&&(X.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=X.unique(n),0!==o.indexOf("parents")&&"prevUntil"!==o||(n=n.reverse())),X(n));return e?r.filter(e):r}}),pa.fn.is=function(e){return!!e&&0<this.filter(e).length},pa.fn.init.prototype=pa.fn,pa.overrideDefaults=function(n){function r(e,t){return o=o||n(),0===arguments.length&&(e=o.element),t=t||o.context,new r.fn.init(e,t)}var o;return X.extend(r,this),r},pa.attrHooks=Ta,pa.cssHooks=Oa;var X=pa,Ua=Xe.each,za=Xe.grep,Ha=Ke.ie,ja=/^([a-z0-9],?)+$/i,Ge=function(l,u){function f(e){return e&&l&&Me(e)?l.getElementById(e):e}function i(e){return H("string"==typeof e?f(e):e)}function r(e,t,n){var r,o;return void 0===(o=(e=i(e)).length?(r=V[t])&&r.get?r.get(e,t):e.attr(t):o)?n||"":o}function o(e){return(e=f(e))?e.attributes:[]}function a(e,t,n){""===n&&(n=null);var r,o=(e=i(e)).attr(t);e.length&&((r=V[t])&&r.set?r.set(e,n,t):e.attr(t,n),o!==n)&&u.onSetAttrib&&u.onSetAttrib({attrElm:e,attrName:t,attrValue:n})}function s(){return u.root_element||l.body}function n(e,t){var n,r=l.body,e=f(e),o=0,i=0,a=r.ownerDocument,u=t||r;if(e){if(u===r&&e.getBoundingClientRect&&"static"===Rn(Ye.fromDom(r),"position"))return{x:o=(n=e.getBoundingClientRect()).left+(a.documentElement.scrollLeft||r.scrollLeft)-a.documentElement.clientLeft,y:i=n.top+(a.documentElement.scrollTop||r.scrollTop)-a.documentElement.clientTop};for(var s=e;s&&s!==u&&s.nodeType&&!Bn(s,u);){var c=s;o+=c.offsetLeft||0,i+=c.offsetTop||0,s=c.offsetParent}for(s=e.parentNode;s&&s!==u&&s.nodeType&&!Bn(s,u);)o-=s.scrollLeft||0,i-=s.scrollTop||0,s=s.parentNode;i+=(n=Ye.fromDom(e),tr.isFirefox()&&"table"===$(n)?On(Un(n)).filter(function(e){return"caption"===$(e)}).bind(function(r){return On($t(r)).map(function(e){var e=e.dom.offsetTop,t=r.dom.offsetTop,n=r.dom.offsetHeight;return e<=t?-n:0})}).getOr(0):0)}return{x:o,y:i}}function c(e,t,n){return e=i(e),n?e.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=Ke.browser.isIE()?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)}function d(e){var t=c(e=f(e),"width"),n=c(e,"height");return-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}}function m(e,t){if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(ja.test(t)){for(var n=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase(),o=n.length-1;0<=o;o--)if(n[o]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}return 0<K(t,(e=Array.isArray(e)?e:[e])[0].ownerDocument||e[0],null,e).length}function g(e,t,n,r){var o,i=[],a=f(e);for(r=void 0===r,n=n||("BODY"!==s().nodeName?s().parentNode:null),Xe.is(t,"string")&&(t="*"===(o=t)?function(e){return 1===e.nodeType}:function(e){return m(e,o)});a&&!(a===n||Y(a.nodeType)||Xn(a)||Yn(a));){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null}function p(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return m(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null}function h(e,n,r){var o;return!!(e="string"==typeof e?f(e):e)&&(Xe.isArray(e)&&(e.length||0===e.length)?(o=[],Ua(e,function(e,t){e&&o.push(n.call(r,"string"==typeof e?f(e):e,t))}),o):n.call(r||this,e))}function v(e,t){i(e).each(function(e,n){Ua(t,function(e,t){a(n,t,e)})})}function b(e,n){e=i(e),Ha?e.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+n,t.removeChild(t.firstChild)}catch(e){X("<div></div>").html("<br>"+n).contents().slice(1).appendTo(t)}return n}}):e.html(n)}function y(e,n,r,o,i){return h(e,function(e){var t="string"==typeof n?l.createElement(n):n;return v(t,r),o&&("string"!=typeof o&&o.nodeType?t.appendChild(o):"string"==typeof o&&b(t,o)),i?t:e.appendChild(t)})}function C(e,t,n){return y(l.createElement(e),e,t,n,!0)}function x(e,t){return e=i(e),(t?e.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}):e).remove(),1<e.length?e.toArray():e[0]}function w(e,t,n){i(e).toggleClass(t,n).each(function(){""===this.className&&X(this).attr("class",null)})}function S(t,e,n){return h(e,function(e){return Xe.is(e,"array")&&(t=t.cloneNode(!0)),n&&Ua(za(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})}function E(e){var t;return W(e)&&(t="a"===e.nodeName.toLowerCase()&&!r(e,"href")&&r(e,"id"),r(e,"name")||r(e,"data-mce-bookmark")||t)}function k(){return l.createRange()}function N(e){var t;return e&&W(e)?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null}void 0===u&&(u={});var _,A,M,F,e,U={},R=window,D={},t=0,T=_r.forElement(Ye.fromDom(l),{contentCssCors:u.contentCssCors,referrerPolicy:u.referrerPolicy}),O=[],B=u.schema||no({}),P=oo({url_converter:u.url_converter,url_converter_scope:u.url_converter_scope},u.schema),L=u.ownEvents?new ai:ai.Event,z=B.getBlockElements(),H=X.overrideDefaults(function(){return{context:l,element:I.getRoot()}}),j=Go.encodeAllRaw,I={doc:l,settings:u,win:R,files:D,stdMode:!0,boxModel:!0,styleSheetLoader:T,boundEvents:O,styles:P,schema:B,events:L,isBlock:function(e){if("string"==typeof e)return!!z[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!z[e.nodeName])}return!1},$:H,$$:i,root:null,clone:function(t,e){var n;return!Ha||1!==t.nodeType||e?t.cloneNode(e):(n=l.createElement(t.nodeName),Ua(o(t),function(e){a(n,e.nodeName,r(t,e.nodeName))}),n)},getRoot:s,getViewPort:function(e){return{x:(e=fn(e)).x,y:e.y,w:e.width,h:e.height}},getRect:function(e){var t=n(e=f(e)),e=d(e);return{x:t.x,y:t.y,w:e.w,h:e.h}},getSize:d,getParent:function(e,t,n){return(e=g(e,t,n,!1))&&0<e.length?e[0]:null},getParents:g,get:f,getNext:function(e,t){return p(e,t,"nextSibling")},getPrev:function(e,t){return p(e,t,"previousSibling")},select:function(e,t){return K(e,f(t)||u.root_element||l,[])},is:m,add:y,create:C,createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)oe(t,r)&&(o+=" "+r+'="'+j(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(e){var t,n=l.createElement("div"),r=l.createDocumentFragment();for(r.appendChild(n),e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r.removeChild(n),r},remove:x,setStyle:function(e,t,n){n=Me(t)?i(e).css(t,n):i(e).css(t),u.update_styles&&Ma(P,n)},getStyle:c,setStyles:function(e,t){e=i(e).css(t),u.update_styles&&Ma(P,e)},removeAllAttribs:function(e){return h(e,function(e){for(var t=e.attributes,n=t.length-1;0<=n;n--)e.removeAttributeNode(t.item(n))})},setAttrib:a,setAttribs:v,getAttrib:r,getPos:n,parseStyle:function(e){return P.parse(e)},serializeStyle:function(e,t){return P.serialize(e,t)},addStyle:function(e){var t,n;if(I!==Ge.DOM&&l===document){if(U[e])return;U[e]=!0}(n=l.getElementById("mceDefaultStyles"))||((n=l.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=l.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(l.createTextNode(e))},loadCSS:function(e){je((e=e||"").split(","),function(e){D[e]=!0,T.load(e,Le)})},addClass:function(e,t){i(e).addClass(t)},removeClass:function(e,t){w(e,t,!1)},hasClass:function(e,t){return i(e).hasClass(t)},toggleClass:w,show:function(e){i(e).show()},hide:function(e){i(e).hide()},isHidden:function(e){return"none"===i(e).css("display")},uniqueId:function(e){return(e||"mce_")+t++},setHTML:b,getOuterHTML:function(e){return e="string"==typeof e?f(e):e,W(e)?e.outerHTML:X("<div></div>").append(X(e).clone()).html()},setOuterHTML:function(e,t){i(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}x(X(this).html(t),!0)})},decode:Go.decode,encode:j,insertAfter:function(e,t){var r=f(t);return h(e,function(e){var t=r.parentNode,n=r.nextSibling;return n?t.insertBefore(e,n):t.appendChild(e),e})},replace:S,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=C(e),Ua(o(t),function(e){a(n,e.nodeName,r(t,e.nodeName))}),S(n,t,!0)),n||t},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return P.toHex(Xe.trim(e))},run:h,getAttribs:o,isEmpty:function(e,t){var n,r=0;if(E(e))return!1;if(e=e.firstChild){var o=new Ar(e,e.parentNode),i=B?B.getWhiteSpaceElements():{};t=t||(B?B.getNonEmptyElements():null);do{if(n=e.nodeType,W(e)){var a=e.getAttribute("data-mce-bogus");if(a){e=o.next("all"===a);continue}if(a=e.nodeName.toLowerCase(),t&&t[a]){if("br"!==a)return!1;r++,e=o.next();continue}if(E(e))return!1}if(8===n)return!1;if(3===n&&!Vr(e.nodeValue))return!1;if(3===n&&e.parentNode&&i[e.parentNode.nodeName]&&Vr(e.nodeValue))return!1;e=o.next()}while(e)}return r<=1},createRng:k,nodeIndex:Fa,split:function(e,t,n){var r,o,i=k();if(e&&t)return i.setStart(e.parentNode,Fa(e)),i.setEnd(t.parentNode,Fa(t)),r=i.extractContents(),(i=k()).setStart(t.parentNode,Fa(t)+1),i.setEnd(e.parentNode,Fa(e)+1),i=i.extractContents(),(o=e.parentNode).insertBefore(zo(I,r),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(zo(I,i),e),x(e),n||t},bind:function e(t,n,r,o){if(Xe.isArray(t)){for(var i=t.length,a=[];i--;)a[i]=e(t[i],n,r,o);return a}return!u.collect||t!==l&&t!==R||O.push([t,n,r,o]),L.bind(t,n,r,o||I)},unbind:function e(t,n,r){if(Xe.isArray(t)){for(var o=t.length,i=[];o--;)i[o]=e(t[o],n,r);return i}if(0<O.length&&(t===l||t===R))for(o=O.length;o--;){var a=O[o];t!==a[0]||n&&n!==a[1]||r&&r!==a[2]||L.unbind(a[0],a[1],a[2])}return L.unbind(t,n,r)},fire:function(e,t,n){return L.fire(e,t,n)},getContentEditable:N,getContentEditableParent:function(e){for(var t=s(),n=null;e&&e!==t&&null===(n=N(e));e=e.parentNode);return n},destroy:function(){if(0<O.length)for(var e=O.length;e--;){var t=O[e];L.unbind(t[0],t[1],t[2])}q(D,function(e,t){T.unload(t),delete D[t]}),K.setDocument&&K.setDocument()},isChildOf:function(e,t){if(Ha){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}return e===t||t.contains(e)},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}},V=(_=P,M=Ie(I),e={style:{set:function(e,t){null===t||"object"!=typeof t?(F&&e.attr("data-mce-style",t),null!==t&&"string"==typeof t?(e.removeAttr("style"),e.css(_.parse(t))):e.attr("style",t)):e.css(t)},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return _.serialize(_.parse(t),e[0].nodeName)}}},(F=(A=u).keep_values)&&(e.href=e.src={set:function(e,t,n){A.url_converter&&null!==t&&(t=A.url_converter.call(A.url_converter_scope||M(),t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}}),e);return I},Va=(Ge.DOM=Ge(document),Ge.nodeIndex=Fa,Ge.DOM),qa=Xe.each,$a=Xe.grep,Wa=(Ka.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},Ka.prototype.loadScript=function(e,t,n){function r(){o.remove(i),a&&(a.onerror=a.onload=a=null)}var o=Va,i=o.uniqueId(),a=document.createElement("script");a.id=i,a.type="text/javascript",a.src=Xe._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy),a.onload=function(){r(),t()},a.onerror=function(){r(),y(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(a)},Ka.prototype.isDone=function(e){return 2===this.states[e]},Ka.prototype.markDone=function(e){this.states[e]=2},Ka.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e),void 0===o&&(this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},Ka.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},Ka.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},Ka.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},Ka.prototype.loadScripts=function(t,e,n,r){function o(t,e){qa(i.scriptLoadedCallbacks[e],function(e){y(e[t])&&e[t].call(e.scope)}),i.scriptLoadedCallbacks[e]=void 0}var i=this,a=[],u=(i.queueLoadedCallbacks.push({success:e,failure:r,scope:n||this}),function(){var e=$a(t);t.length=0,qa(e,function(e){2!==i.states[e]?3!==i.states[e]?1!==i.states[e]&&(i.states[e]=1,i.loading++,i.loadScript(e,function(){i.states[e]=2,i.loading--,o("success",e),u()},function(){i.states[e]=3,i.loading--,a.push(e),o("failure",e),u()})):o("failure",e):o("success",e)}),i.loading||(e=i.queueLoadedCallbacks.slice(0),i.queueLoadedCallbacks.length=0,qa(e,function(e){0===a.length?y(e.success)&&e.success.call(e.scope):y(e.failure)&&e.failure.call(e.scope,a)}))});u()},Ka.ScriptLoader=new Ka,Ka);function Ka(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}function Xa(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function Ya(){return qe(Ja,Qa.get())}function Ga(){function s(t,n){je(Ve(o,function(e){return e.name===t&&e.state===n}),function(e){e.callback()})}function c(e){return(d[e]?d[e].dependencies:void 0)||[]}function l(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}}function e(e,t,n){void 0===n&&(n="added"),re(d,e)&&"added"===n||re(f,e)&&"loaded"===n?t():o.push({name:e,state:n,callback:t})}var r=[],f={},d={},o=[];return{items:r,urls:f,lookup:d,_listeners:o,get:function(e){if(d[e])return d[e].instance},dependencies:c,requireLangPack:function(t,n){!1!==Ga.languageLoad&&e(t,function(){var e=Za.getCode();!e||n&&-1===(","+(n||"")+",").indexOf(","+e+",")||Wa.ScriptLoader.add(f[t]+"/langs/"+e+".js")},"loaded")},add:function(e,t,n){return r.push(t),d[e]={instance:t,dependencies:n},s(e,"added"),t},remove:function(e){delete f[e],delete d[e]},createUrl:l,addComponents:function(e,t){var n=f[e];je(t,function(e){Wa.ScriptLoader.add(n+"/"+e)})},load:function r(o,i,a,u,e){var t,n;f[o]||(0!==(t="string"==typeof i?i:i.prefix+i.resource+i.suffix).indexOf("/")&&-1===t.indexOf("://")&&(t=Ga.baseURL+"/"+t),f[o]=t.substring(0,t.lastIndexOf("/")),n=function(){var t,e,n;s(o,"loaded"),t=i,e=a,n=u,je(c(o),function(e){r((e=l(t,e)).resource,e,void 0,void 0)}),e&&(n?e.call(n):e.call(Wa))},d[o]?n():Wa.ScriptLoader.add(t,n,u,e))},waitFor:e}}var Ja={},Qa=Xa("en"),Za={getData:function(){return z(Ja,function(e){return We({},e)})},setCode:function(e){e&&Qa.set(e)},getCode:function(){return Qa.get()},add:function(e,t){var n=Ja[e];n||(Ja[e]=n={}),q(t,function(e,t){n[t.toLowerCase()]=e})},translate:function(e){function n(e){return y(e)?Object.prototype.toString.call(e):o(e)?"":""+e}function t(e){return e=n(e),qe(u,e.toLowerCase()).map(n).getOr(e)}function r(e){return e.replace(/{context:\w+}$/,"")}function o(e){return""===e||null==e}var i,a,u=Ya().getOr({});return o(e)?"":et(i=e)&&re(i,"raw")?n(e.raw):Q(i=e)&&1<i.length?(a=e.slice(1),r(t(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return re(a,t)?n(a[t]):e}))):r(t(e))},isRtl:function(){return Ya().bind(function(e){return qe(e,"_dir")}).exists(function(e){return"rtl"===e})},hasCode:function(e){return re(Ja,e)}};function eu(){var e,t,e=Le,t=Xa($e.none()),n={clear:function(){r(),t.set($e.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){r(),t.set($e.some(e))}};function r(){t.get().each(e)}return We(We({},n),{on:function(e){return n.get().each(e)}})}function tu(n,r){var o=null;return{cancel:function(){l(o)||(clearTimeout(o),o=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l(o)&&(o=setTimeout(function(){o=null,n.apply(null,e)},r))}}}function nu(n,r){function o(){l(i)||(clearTimeout(i),i=null)}var i=null;return{cancel:o,throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(),i=setTimeout(function(){i=null,n.apply(null,e)},r)}}}function ru(e,t){return void 0===(e=Nn(e,t))||""===e?[]:e.split(" ")}function ou(e){return void 0!==e.dom.classList}function iu(e,t){ou(e)?e.dom.classList.add(t):En(e,"class",(t=ru(e,"class").concat([t])).join(" "))}function au(e,t){return ou(e)&&e.dom.classList.contains(t)}function uu(e,t){return Oe(e=void 0===e?document:e.dom)?[]:He(e.querySelectorAll(t),Ye.fromDom)}function su(r,e){function t(e,t){return(n=e.dom)&&n.hasAttribute&&n.hasAttribute(t)?$e.some(Nn(e,t)):$e.none();var n}var n=r.selection.getRng(),o=Ye.fromDom(n.startContainer),i=Ye.fromDom(r.getBody()),e=e.fold(function(){return"."+Bu()},function(e){return"["+Pu()+'="'+e+'"]'});return br(Wt(o,n.startOffset).getOr(o),e,function(e){return I(e,i)}).bind(function(e){return t(e,""+Lu()).bind(function(n){return t(e,""+Pu()).map(function(e){var t=Iu(r,n);return{uid:n,name:e,elements:t}})})})}function cu(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Mu+String(t)}function lu(e,t){var n=Ft(e).dom,r=Ye.fromDom(n.createDocumentFragment());nn(r,((n=(n||document).createElement("div")).innerHTML=t,Un(Ye.fromDom(n)))),rn(e),jn(e,r)}function fu(e,t){return Ye.fromDom(e.dom.cloneNode(t))}function du(e){return fu(e,!1)}function mu(e){return fu(e,!0)}function gu(e,t,n){function r(e){for(var t;(t=o[e]())&&!j(t)&&!n(t););return $e.from(t).filter(j)}void 0===n&&(n=Ue);var o=new Ar(e,t);return{current:function(){return $e.from(o.current()).filter(j)},next:function(){return r("next")},prev:function(){return r("prev")},prev2:function(){return r("prev2")}}}function pu(t,e){function i(e,t,n,r){return j(e)&&-1!==(t=r(e,t,e.data))?$e.some({container:e,offset:t}):n().bind(function(e){return i(e.container,e.offset,n,r)})}var a=e||function(e){return t.isBlock(e)||M(e)||F(e)};return{backwards:function(e,t,n,r){var o=gu(e,r,a);return i(e,t,function(){return o.prev().map(function(e){return{container:e,offset:e.length}})},n).getOrNull()},forwards:function(e,t,n,r){var o=gu(e,r,a);return i(e,t,function(){return o.next().map(function(e){return{container:e,offset:0}})},n).getOrNull()}}}function hu(e){return e?{left:Fu(e.left),top:Fu(e.top),bottom:Fu(e.bottom),right:Fu(e.right),width:Fu(e.width),height:Fu(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function vu(e,t){return e=hu(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e}function bu(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2}function yu(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&bu(t.top-e.bottom,e,t)}function Cu(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&bu(t.bottom-e.top,e,t)}function xu(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}function wu(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null}function Su(e,t){var n;return W(e)&&e.hasChildNodes()?(n=e.childNodes)[n=n.length-1,Math.min(Math.max(t,0),n)]:e}function Eu(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&Uu.test(e)}function ku(e){return"createRange"in e?e.createRange():Ge.DOM.createRng()}function Nu(e){return e&&/[\r\n\t ]/.test(e)}function _u(e){return e.setStart&&e.setEnd}function Au(e){var t=e.startContainer,n=e.startOffset;return Nu(e.toString())&&Vu(t.parentNode)&&j(t)&&(Nu((e=t.data)[n-1])||Nu(e[n+1]))}function Ru(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom}function Du(e,t){return(e=vu(e,t)).width=1,e.right=e.left+1,e}function Tu(e,t){if(!(t<0&&W(e)&&e.hasChildNodes()))return Su(e,t)}Ga.languageLoad=!0,Ga.baseURL="",Ga.PluginManager=Ga(),Ga.ThemeManager=Ga();var Ou=function(e,t){var n=[];return je(Un(e),function(e){n=(n=t(e)?n.concat([e]):n).concat(Ou(e,t))}),n},Bu=Ie("mce-annotation"),Pu=Ie("data-mce-annotation"),Lu=Ie("data-mce-annotation-uid"),Iu=function(e,t){return uu(Ye.fromDom(e.getBody()),"["+Lu()+'="'+t+'"]')},Mu=0,Fu=Math.round,Uu=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),zu=W,Ot=Hr,Hu=pn("display","block table"),Bt=pn("float","left right"),ju=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}}(zu,Ot,p(Bt)),Vu=p(pn("white-space","pre pre-line pre-wrap")),qu=j,$u=M,Wu=Ge.nodeIndex,Ku=function(e){var t,n,r,o,i=0<(i=e.getClientRects()).length?hu(i[0]):hu(e.getBoundingClientRect());return!_u(e)&&$u(e)&&Ru(i)?(r=ku(n=(t=e).ownerDocument),n=n.createTextNode(So),(o=t.parentNode).insertBefore(n,t),r.setStart(n,0),r.setEnd(n,1),t=hu(r.getBoundingClientRect()),o.removeChild(n),t):Ru(i)&&_u(e)?(o=(r=e).startContainer,n=r.endContainer,t=r.startOffset,e=r.endOffset,o===n&&j(n)&&0===t&&1===e?((o=r.cloneRange()).setEndAfter(n),Ku(o)):null):i},Je=function(t,n,e){function r(){return e=e||function(e){function r(e){var t;0===e.height||0<n.length&&(t=n[n.length-1],e.left===t.left)&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right||n.push(e)}function t(e,t){var n=ku(e.ownerDocument);if(t<e.data.length){if(Eu(e.data[t]))return;if(Eu(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Au(n)))return r(Du(Ku(n),!1))}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),Au(n)||r(Du(Ku(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Au(n)||r(Du(Ku(n),!0)))}var n=[],o=e.container(),i=e.offset();if(qu(o))t(o,i);else if(zu(o))if(e.isAtEnd()){var a=Tu(o,i);qu(a)&&t(a,a.data.length),ju(a)&&!$u(a)&&r(Du(Ku(a),!1))}else{if(a=Tu(o,i),qu(a)&&t(a,0),ju(a)&&e.isAtEnd())return r(Du(Ku(a),!1)),n;o=Tu(e.container(),e.offset()-1),!ju(o)||$u(o)||!Hu(o)&&!Hu(a)&&ju(a)||r(Du(Ku(o),!1)),ju(a)&&r(Du(Ku(a),!0))}return n}(Je(t,n))}return{container:Ie(t),offset:Ie(n),toRange:function(){var e=ku(t.ownerDocument);return e.setStart(t,n),e.setEnd(t,n),e},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return qu(t),0===n},isAtEnd:function(){return qu(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return Tu(t,e?n-1:n)}}};function Xu(e,t){j(t)&&0===t.data.length&&e.remove(t)}function Yu(e,t,n){var r,o,i,a,u;Yn(n)?(r=e,o=t,a=$e.from((i=n).firstChild),u=$e.from(i.lastChild),o.insertNode(i),a.each(function(e){return Xu(r,e.previousSibling)}),u.each(function(e){return Xu(r,e.nextSibling)})):(o=e,t.insertNode(i=n),Xu(o,i.previousSibling),Xu(o,i.nextSibling))}function Gu(t){return function(e){return t===e}}function Ju(e){var r,t;return(Ks(e)?"text()":e.nodeName.toLowerCase())+"["+(t=le(r=Js(Gs(e)),Gu(e),e),t=ce(r=r.slice(0,t+1),function(e,t,n){return Ks(t)&&Ks(r[n-1])&&e++,e},0),le(r=ue(r,gn([e.nodeName])),Gu(e),e)-t)+"]"}function Qu(e,t){var n,r,o=[],i=t.container(),t=t.offset();return Ks(i)?n=function(e,t){for(;(e=e.previousSibling)&&Ks(e);)t+=e.data.length;return t}(i,t):(t>=(r=i.childNodes).length?(n="after",t=r.length-1):n="before",i=r[t]),o.push(Ju(i)),r=ue(function(e,t){var n=[];for(t=t.parentNode;t!==e;t=t.parentNode)n.push(t);return n}(e,i),p(vn)),(o=o.concat(ae(r,Ju))).reverse().join("/")+","+n}function Zu(e,t){if(t){var n=(t=t.split(","))[0].split("/"),t=1<t.length?t[1]:"before";if(n=ce(n,function(e,t){var n,r;return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=t[1],t=parseInt(t[2],10),r=ue(r=Js(e),function(e,t){return!Ks(e)||!Ks(r[t-1])}),(r=ue(r,gn([n])))[t]):null},e)){if(Ks(n)){for(var r,o=n,i=parseInt(t,10),a=o,u=0;Ks(a);){if(r=a.data.length,u<=i&&i<=u+r){o=a,i-=u;break}if(!Ks(a.nextSibling)){o=a,i=r;break}u+=r,a=a.nextSibling}return Ks(o)&&i>o.data.length&&(i=o.data.length),Je(o,i)}return t="after"===t?Ys(n)+1:Ys(n),Je(n.parentNode,t)}}return null}function es(e,t,n,r,o){var i=r[o?"startContainer":"endContainer"],r=r[o?"startOffset":"endOffset"],a=[],o=0,u=e.getRoot();for(j(i)?a.push(n?function(e,t,n){for(var r=e(t.data.slice(0,n)).length,o=t.previousSibling;o&&j(o);o=o.previousSibling)r+=e(o.data).length;return r}(t,i,r):r):(r>=(t=i.childNodes).length&&t.length&&(o=1,r=Math.max(0,t.length-1)),a.push(e.nodeIndex(t[r],n)+o));i&&i!==u;i=i.parentNode)a.push(e.nodeIndex(i,n));return a}function ts(e,t,n){var r=0;return Xe.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r}function ns(e,t){var n,r=e[(o=t?"start":"end")+"Container"],o=e[o+"Offset"];W(r)&&"TR"===r.nodeName&&(r=(n=r.childNodes)[Math.min(t?o:o-1,n.length-1)])&&(o=t?0:r.childNodes.length,e["set"+(t?"Start":"End")](r,o))}function rs(e){return ns(e,!0),ns(e,!1),e}function os(e,t){return W(e)&&(e=Su(e,t),Qs(e))?e:Lr(e)&&(t=(e=j(e)&&Br(e)?e.parentNode:e).previousSibling,Qs(t)||(t=e.nextSibling,Qs(t)))?t:void 0}function is(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();return Qs(r)||"IMG"===o?{name:o,index:ts(n.dom,o,r)}:(r=os((r=i).startContainer,r.startOffset)||os(r.endContainer,r.endOffset))?{name:o=r.tagName,index:ts(n.dom,o,r)}:(r=(o=n).dom,(n={}).start=es(r,e,t,i,!0),o.isCollapsed()||(n.end=es(r,e,t,i,!1)),zr(i)&&(n.isFakeCaret=!0),n)}function as(e,t,n){return t={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"},n?e.create("span",t,"&#xFEFF;"):e.create("span",t)}function us(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;return"IMG"===u?{name:u,index:ts(n,u,a)}:(u=rs(r.cloneRange()),i||(u.collapse(!1),Yu(n,u,as(n,o+"_end",t))),(r=rs(r)).collapse(!0),Yu(n,r,as(n,o+"_start",t)),e.moveToBookmark({id:o,keep:!0}),{id:o})}function ss(e,t,n){var r=e.getParam(t,n);return-1===r.indexOf("=")?r:qe(e.getParam(t,"","hash"),e.id).getOr(n)}function cs(e){return e.getParam("content_security_policy","")}function ls(e){return e.getParam("force_p_newlines",!1)?"p":!1===(e=e.getParam("forced_root_block","p"))?"":!0===e?"p":e}function fs(e){return e.getParam("forced_root_block_attrs",{})}function ds(e){return e.getParam("automatic_uploads",!0,"boolean")}function ms(e){return e.getParam("icons","","string")}function gs(e){return e.getParam("referrer_policy","","string")}function ps(e){return e.getParam("language","en","string")}function hs(e){return e.getParam("indent_use_margin",!1)}function vs(e){return e=e.getParam("font_css",[]),Q(e)?e:He(e.split(","),vt)}function bs(e){return!1!==(e=e.getParam("object_resizing"))&&!Ke.iOS&&(Me(e)?e:"table,img,figure.image,div,video,iframe")}function ys(e){return e.getParam("event_root")}function Cs(e){return e.getParam("theme")}function xs(e){return!1!==e.getParam("inline_boundaries")}function ws(e){return e.getParam("plugins","","string")}function Ss(e){var t=e.parentNode;t&&t.removeChild(e)}function Es(e){var t=No(e);return{count:e.length-t.length,text:t}}function ks(e){for(var t;-1!==(t=e.data.lastIndexOf(Eo));)e.deleteData(t,1)}function Ns(e,t){return qs(e),t}function _s(e,t){var n=t.container(),r=(-1===(r=N(st(n.childNodes),e))?$e.none():$e.some(r)).map(function(e){return e<t.offset()?Je(n,t.offset()-1):t}).getOr(t);return qs(e),r}function As(e,t,n){var r,o=vu(t.getBoundingClientRect(),n),e="BODY"===e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,e.scrollTop||i.scrollTop):(i=e.getBoundingClientRect(),r=e.scrollLeft-i.left,e.scrollTop-i.top),i=(o.left+=r,o.right+=r,o.top+=e,o.bottom+=e,o.width=1,t.offsetWidth-t.clientWidth);return 0<i&&(n&&(i*=-1),o.left+=i,o.right+=i),o}function Rs(){return rc.isIE()||rc.isEdge()||rc.isFirefox()}function Ds(e){return $s(e)||bn(e)&&Rs()}function Ts(e,t){for(var n;n=e(t);)if(!fc(n))return n;return null}function Os(e,t,n,r,o){var i=new Ar(e,r),r=uc(e)||fc(e);if(t<0){if(r&&n(e=Ts(i.prev.bind(i),!0)))return e;for(;e=Ts(i.prev.bind(i),o);)if(n(e))return e}if(0<t){if(r&&n(e=Ts(i.next.bind(i),!0)))return e;for(;e=Ts(i.next.bind(i),o);)if(n(e))return e}return null}function Bs(e,t){for(;e&&e!==t;){if(cc(e))return e;e=e.parentNode}return null}function Ps(e,t,n){return Bs(e.container(),n)===Bs(t.container(),n)}function Ls(e,t){var n;return t&&(n=t.container(),t=t.offset(),dc(n))?n.childNodes[t+e]:null}function Is(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function Ms(e,t,n){for(var r,o,i=e?"previousSibling":"nextSibling";n&&n!==t;){var a=n[i];if(lc(a)&&(a=a[i]),uc(a)||sc(a)){if(o=n,Bs(a,r=t)===Bs(o,r))return a;break}if(mc(a))break;n=n.parentNode}return null}function Fs(e,t,n){var r,o=Fe(Ms,!0,t),t=Fe(Ms,!1,t),i=n.startContainer,a=n.startOffset;if(Br(i)){var u=(i=dc(i)?i:i.parentNode).getAttribute("data-mce-caret");if("before"===u&&Ds(r=i.nextSibling))return gc(r);if("after"===u&&Ds(r=i.previousSibling))return pc(r)}if(n.collapsed&&j(i)){if(lc(i)){if(1===e){if(r=t(i))return gc(r);if(r=o(i))return pc(r)}if(-1===e){if(r=o(i))return pc(r);if(r=t(i))return gc(r)}return n}if(fo(i)&&a>=i.data.length-1)return 1===e&&(r=t(i))?gc(r):n;if(lo(i)&&a<=1)return-1===e&&(r=o(i))?pc(r):n;if(a===i.data.length)return(r=t(i))?gc(r):n;if(0===a)return(r=o(i))?pc(r):n}return n}function Us(e,t){return $e.from(Ls(e?0:-1,t)).filter(uc)}function zs(e,t,n){return t=Fs(e,t,n),-1===e?Je.fromRangeStart(t):Je.fromRangeEnd(t)}function Hs(e){return $e.from(e.getNode()).map(Ye.fromDom)}function js(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function Vs(e,t){return!((t=Ps(e,t))||!M(e.getNode()))||t}function qs(e){tc(e)&&Lr(e)&&(Ir(e)?e.removeAttribute("data-mce-caret"):Ss(e)),nc(e)&&(ks(e),0===e.data.length)&&Ss(e)}function $s(e){return oc(e)||ic(e)}Je.fromRangeStart=function(e){return Je(e.startContainer,e.startOffset)},Je.fromRangeEnd=function(e){return Je(e.endContainer,e.endOffset)},Je.after=function(e){return Je(e.parentNode,Wu(e)+1)},Je.before=function(e){return Je(e.parentNode,Wu(e))},Je.isAbove=function(e,t){return xn(L(t.getClientRects()),ut(e.getClientRects()),yu).getOr(!1)},Je.isBelow=function(e,t){return xn(ut(t.getClientRects()),L(e.getClientRects()),Cu).getOr(!1)},Je.isAtStart=function(e){return!!e&&e.isAtStart()},Je.isAtEnd=function(e){return!!e&&e.isAtEnd()},Je.isTextPosition=function(e){return!!e&&j(e.container())},Je.isElementPosition=function(e){return!1===Je.isTextPosition(e)};var Ws,Ks=j,Xs=vn,Ys=Ge.nodeIndex,Gs=function(e){return e=e.parentNode,Xs(e)?Gs(e):e},Js=function(e){return e?ce(e.childNodes,function(e,t){return Xs(t)&&"BR"!==t.nodeName?e=e.concat(Js(t)):e.push(t),e},[]):[]},Qs=F,Zs=Fe(is,G,!0),ec=Ge.DOM,tc=W,nc=j,rc=Rt().browser,oc=F,ic=Zn,ac=Qn,uc=F,sc=Zn,cc=pn("display","block table table-cell table-caption list-item"),lc=Lr,fc=Br,dc=W,mc=Hr,gc=Fe(Is,!0),pc=Fe(Is,!1);function hc(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function vc(e,t){if(0<e){if(Bl(t.previousSibling)&&!Dl(t.previousSibling))return Je.before(t);if(Dl(t))return Je(t,0)}if(e<0){if(Bl(t.nextSibling)&&!Dl(t.nextSibling))return Je.after(t);if(Dl(t))return Je(t,t.data.length)}return e<0&&!Ol(t)?Je.after(t):Je.before(t)}function bc(t){return{next:function(e){return Ll(Ws.Forwards,e,t)},prev:function(e){return Ll(Ws.Backwards,e,t)}}}function yc(e){return Je.isTextPosition(e)?0===e.offset():Hr(e.getNode())}function Cc(e){var t;return Je.isTextPosition(e)?(t=e.container(),e.offset()===t.data.length):Hr(e.getNode(!0))}function xc(e,t){return!Je.isTextPosition(e)&&!Je.isTextPosition(t)&&e.getNode()===t.getNode(!0)}function wc(o,i,a){return wl(o,i,a).bind(function(e){return Ps(a,e,i)&&(t=a,n=e,o?!xc(t,n)&&(Je.isTextPosition(r=t)||!M(r.getNode()))&&Cc(t)&&yc(n):!xc(n,t)&&yc(t)&&Cc(n))?wl(o,i,e):$e.some(e);var t,n,r})}function Sc(e,t){var n,r=e?t.firstChild:t.lastChild;return j(r)?$e.some(Je(r,e?0:r.data.length)):r?Hr(r)?$e.some(e?Je.before(r):M(n=r)?Je.before(n):Je.after(n)):(n=t,t=r,e=(r=e)?Je.before(t):Je.after(t),wl(r,n,e)):$e.none()}function Ec(e){return W(e)&&e.id===Hl}function kc(e,t){for(;t&&t!==e;){if(t.id===Hl)return t;t=t.parentNode}return null}function Nc(e){return Xe.isArray(e.start)}function _c(e,t){return W(t)&&e.isBlock(t)&&!t.innerHTML&&!Ke.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t}function Ac(e,t,n){return!1===t.hasChildNodes()&&kc(e,t)&&(e=n,t=(n=t).ownerDocument.createTextNode(Eo),n.appendChild(t),e.setStart(t,0),e.setEnd(t,0),1)}function Rc(e,t,n,r){var o,i,a,u=n[t?"start":"end"],s=e.getRoot();if(u){for(n=u[0],i=s,o=u.length-1;1<=o;o--){if(a=i.childNodes,Ac(s,i,r))return 1;if(u[o]>a.length-1)return Ac(s,i,r)||function(t){return zl(i).fold(Ue,function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})}(r);i=a[u[o]]}3===i.nodeType&&(n=Math.min(u[0],i.nodeValue.length)),1===i.nodeType&&(n=Math.min(u[0],i.childNodes.length)),t?r.setStart(i,n):r.setEnd(i,n)}return 1}function Dc(e){return j(e)&&0<e.data.length}function Tc(e,t,n){var r,o,i,a,u=e.get(n.id+"_"+t),s=n.keep;if(u){if(i=u.parentNode,a="start"===t?s?u.hasChildNodes()?(i=u.firstChild,1):Dc(u.nextSibling)?(i=u.nextSibling,0):Dc(u.previousSibling)?(i=u.previousSibling,u.previousSibling.data.length):(i=u.parentNode,e.nodeIndex(u)+1):e.nodeIndex(u):s?u.hasChildNodes()?(i=u.firstChild,1):Dc(u.previousSibling)?(i=u.previousSibling,u.previousSibling.data.length):(i=u.parentNode,e.nodeIndex(u)):e.nodeIndex(u),!s){for(s=u.previousSibling,o=u.nextSibling,Xe.each(Xe.grep(u.childNodes),function(e){j(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});u=e.get(n.id+"_"+t);)e.remove(u,!0);s&&o&&s.nodeType===o.nodeType&&j(s)&&!Ke.opera&&(r=s.nodeValue.length,s.appendData(o.nodeValue),e.remove(o),i=s,a=r)}return $e.some(Je(i,a))}return $e.none()}function Oc(s,e){!function(e){var n,r,t,o,i,a,u=s.dom;if(e){if(Nc(e))return i=e,a=(o=u).createRng(),Rc(o,!0,i,a)&&Rc(o,!1,i,a)?$e.some(a):$e.none();if(Me(e.start))return $e.some((o=e,a=(i=u).createRng(),t=Zu(i.getRoot(),o.start),a.setStart(t.container(),t.offset()),t=Zu(i.getRoot(),o.end),a.setEnd(t.container(),t.offset()),a));if(re(e,"id"))return xn(o=Tc(r=u,"start",i=e),Tc(r,"end",i).or(o),function(e,t){var n=r.createRng();return n.setStart(_c(r,e.container()),e.offset()),n.setEnd(_c(r,t.container()),t.offset()),n});if(re(e,"name"))return n=u,$e.from(n.select((t=e).name)[t.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(re(e,"rng"))return $e.some(e.rng)}return $e.none()}(e).each(function(e){s.setRng(e)})}function Bc(e){return W(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")}function Pc(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)}function Lc(e){return!Pc(e)&&!El(e)}function Ic(e){return e.nodeType}function Mc(e,t,n){var r=n.startOffset,o=n.startContainer;if((o!==n.endContainer||!(i=o.childNodes[r])||!/^(IMG)$/.test(i.nodeName))&&W(o)){var i=o.childNodes,a=void 0;r<i.length?(o=i[r],a=new Ar(o,e.getParent(o,e.isBlock))):(o=i[i.length-1],(a=new Ar(o,e.getParent(o,e.isBlock))).next(!0));for(var u=a.current();u;u=a.next())if(j(u)&&!kl(u))return n.setStart(u,0),t.setRng(n)}}function Fc(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(W(e)||!kl(e))return e}}function Uc(e,t){return Ic(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]}function zc(e,t,n){return e.schema.isValidChild(t,n)}function Hc(e,n){return y(e)?e=e(n):ne(n)&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e}function jc(e,t){return e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()}function Vc(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),""+("fontFamily"===n?t.replace(/[\'\"]/g,"").replace(/,\s+/g,","):t)}function qc(e,t,n){return Vc(e,e.getStyle(t,n),n)}function $c(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n}function Wc(e,t,n){return e.getParents(t,n,e.getRoot())}function Kc(e){return oe(e,"block")}function Xc(e){return oe(e,"selector")}function Yc(e){return oe(e,"inline")}function Gc(e){return Xc(e)&&!1!==e.expand&&!Yc(e)}function Jc(e,t){for(var n=t;n;){if(W(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t}function Qc(e,t,n,r){for(var o=t.data,i=n;e?0<=i:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1}function Zc(e,t,n){return Qc(e,t,n,function(e){return El(e)||Pc(e)})}function el(e,t,n){return Qc(e,t,n,Lc)}function tl(o,e,t,n,i,r){function a(e,t,n){var r=pu(o),r=i?r.backwards:r.forwards;return $e.from(r(e,t,function(e,t){return jl(e.parentNode)?-1:n(i,u=e,t)},s))}var u,s=o.getParent(t,o.isBlock)||e;return a(t,n,Zc).bind(function(e){return r?a(e.container,e.offset+(i?-1:0),el):$e.some(e)}).orThunk(function(){return u?$e.some({container:u,offset:i?0:u.length}):$e.none()})}function nl(e,t,n,r,o){j(r)&&ke(r.data)&&r[o]&&(r=r[o]);for(var i=Vl(e,r),a=0;a<i.length;a++)for(var u=0;u<t.length;u++){var s=t[u];if((!ne(s.collapsed)||s.collapsed===n.collapsed)&&Xc(s)&&e.is(i[a],s.selector))return i[a]}return r}function rl(t,e,n,r){var o,i=n,a=t.dom,u=a.getRoot();if((i=Kc(e=e[0])?e.wrapper?null:a.getParent(n,e.block,u):i)||(o=a.getParent(n,"LI,TD,TH"),i=a.getParent(j(n)?n.parentNode:n,function(e){return e!==u&&$l(t,e)},o)),!(i=i&&Kc(e)&&e.wrapper&&Vl(a,i,"ul,ol").reverse()[0]||i))for(i=n;i[r]&&!a.isBlock(i[r])&&!jc(i=i[r],"br"););return i||n}function ol(e,t,n,r,o){var i,a=n,u=o?"previousSibling":"nextSibling",s=e.getRoot();if(!j(n)||ql(n)||!(o?0<r:r<n.data.length))for(;;){if(!t[0].block_expand&&e.isBlock(a))return a;for(var c=a[u];c;c=c[u]){var l=j(c)&&!Wl(e,s,c,u);if(!jl(c)&&(!M(i=c)||!i.getAttribute("data-mce-bogus")||i.nextSibling)&&!ql(c,l))return a}if(a===s||a.parentNode===s){n=a;break}a=a.parentNode}return n}function il(e){return jl(e.parentNode)||jl(e)}function al(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset,s=e.dom,c=n[0];return W(o)&&o.hasChildNodes()&&(o=Su(o,i),j(o))&&(i=0),W(a)&&a.hasChildNodes()&&(a=Su(a,t.collapsed?u:u-1),j(a))&&(u=a.nodeValue.length),o=Jc(s,o),a=Jc(s,a),il(o)&&(o=jl(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,j(o))&&(i=t.collapsed?o.length:0),il(a)&&(a=jl(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,j(a))&&(u=t.collapsed?0:a.length),t.collapsed&&(tl(s,e.getBody(),o,i,!0,r).each(function(e){var t=e.container,e=e.offset;o=t,i=e}),tl(s,e.getBody(),a,u,!1,r).each(function(e){var t=e.container,e=e.offset;a=t,u=e})),(Yc(c)||c.block_expand)&&(Yc(c)&&j(o)&&0!==i||(o=ol(s,n,o,i,!0)),Yc(c)&&j(a)&&u!==a.nodeValue.length||(a=ol(s,n,a,u,!1))),Gc(c)&&(o=nl(s,n,t,o,"previousSibling"),a=nl(s,n,t,a,"nextSibling")),(Kc(c)||Xc(c))&&(o=rl(e,n,o,"previousSibling"),a=rl(e,n,a,"nextSibling"),Kc(c))&&(s.isBlock(o)||(o=ol(s,n,o,i,!0)),s.isBlock(a)||(a=ol(s,n,a,u,!1))),W(o)&&(i=s.nodeIndex(o),o=o.parentNode),W(a)&&(u=s.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}}function ul(n,e,u){function s(e){var t=e[0],t=(j(t)&&t===a&&i>=t.data.length&&e.splice(0,1),e[e.length-1]);return 0===l&&0<e.length&&t===f&&j(t)&&e.splice(e.length-1,1),e}function c(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r}function t(e,t){return n.getParent(e,function(e){return e.parentNode===t},t)}function r(e,t,n){var r=n?"nextSibling":"previousSibling",o=e;for(o.parentNode;o&&o!==t;o=i){var i=o.parentNode,a=c(o===e?o:o[r],r);a.length&&(n||a.reverse(),u(s(a)))}}var o,i=e.startOffset,a=Su(e.startContainer,i),l=e.endOffset,f=Su(e.endContainer,l-1);return a===f?u(s([a])):(e=n.findCommonAncestor(a,f),n.isChildOf(a,f)?r(a,e,!0):n.isChildOf(f,a)?r(f,e):(o=t(a,e)||a,e=t(f,e)||f,r(a,o,!0),(o=c(o===a?o:o.nextSibling,"nextSibling",e===f?e.nextSibling:e)).length&&u(s(o)),void r(f,e)))}function sl(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t}function cl(e,t){return 0<(t=uu(t,"td[data-mce-selected],th[data-mce-selected]")).length?t:Ve(O(e,function(e){return(e=wu(e))?[Ye.fromDom(e)]:[]}),Co)}function ll(e){return cl(sl(e.selection.getSel()),Ye.fromDom(e.getBody()))}function fl(e,t){return hr(e,"table",t)}function dl(n,e){return xn((t=e.startContainer,r=e.startOffset,j(t)?0===r?$e.some(Ye.fromDom(t)):$e.none():$e.from(t.childNodes[r]).map(Ye.fromDom)),(t=e.endContainer,r=e.endOffset,j(t)?r===t.data.length?$e.some(Ye.fromDom(t)):$e.none():$e.from(t.childNodes[r-1]).map(Ye.fromDom)),function(e,t){return e=rt(Kl(n),Fe(I,e)),t=rt(Xl(n),Fe(I,t)),e.isSome()&&t.isSome()}).getOr(!1);var t,r}function ml(e,t,n,r){var o=n,i=new Ar(n,o),a=te(e.schema.getMoveCaretBeforeOnEnterElements(),function(e,t){return!tt(["td","th","table"],t.toLowerCase())});do{if(j(n)&&0!==Xe.trim(n.nodeValue).length)return r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length);if(a[n.nodeName])return r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n)}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))}function gl(e){return(e=e.selection.getSel())&&0<e.rangeCount}function pl(n,r){var e=ll(n);0<e.length?je(e,function(e){var e=e.dom,t=n.dom.createRng();t.setStartBefore(e),t.setEndAfter(e),r(t,!0)}):r(n.selection.getRng(),!1)}function hl(e,t,n){n(t=us(e,t)),e.moveToBookmark(t)}function vl(e){return Yl.get(e)}function bl(e,t,n,r){var o=void 0===(o=t.uid)?cu("mce-annotation"):o,t=function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}(t,["uid"]);iu(e=Ye.fromTag("span",e),Bu()),En(e,""+Lu(),o),En(e,""+Pu(),n);var i,r=(n=r(o,t)).attributes,t=void 0===(o=n.classes)?[]:o;return kn(e,void 0===r?{}:r),i=e,je(t,function(e){iu(i,e)}),e}function yl(o){var n,e,t,r,i,n={},a={register:function(e,t){n[e]={name:e,settings:t}},lookup:function(e){return qe(n,e).map(function(e){return e.settings})}},u=a,s=((e=o).on("init",function(){e.serializer.addNodeFilter("span",function(e){je(e,function(t){$e.from(t.attr(Pu())).bind(u.lookup).each(function(e){!1===e.persistent&&t.unwrap()})})})}),r=Xa({}),i=nu(function(){var e=r.get();je(P(he(e)),function(e){f(e,function(a){var u=a.previous.get();return su(t,$e.some(e)).fold(function(){var t;u.isSome()&&(l(t=e,function(e){je(e.listeners,function(e){e(!1,t)})}),a.previous.clear())},function(e){var t,n,r,o=e.uid,i=e.name,e=e.elements;Cn(u,o)||(n=o,r=e,l(t=i,function(e){je(e.listeners,function(e){e(!0,t,{uid:n,nodes:He(r,function(e){return e.dom})})})}),a.previous.set(o))}),{previous:a.previous,listeners:a.listeners}})})},30),(t=o).on("remove",function(){i.cancel()}),t.on("NodeChange",function(){i.throttle()}),{addListener:function(e,t){f(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}});function c(){return{listeners:[],previous:eu()}}function l(e,t){f(e,function(e){return t(e),e})}function f(e,t){var n=r.get(),t=t(qe(n,e).getOrThunk(c));n[e]=t,r.set(n)}return{register:function(e,t){a.register(e,t)},annotate:function(t,n){a.lookup(t).each(function(e){var i,d=t,m=e,g=n;(i=o).undoManager.transact(function(){var e,t,n=i.selection,r=n.getRng(),o=0<ll(i).length;r.collapsed&&!o&&(t=al(e=i,r,[{inline:"span"}]),r.setStart(t.startContainer,t.startOffset),r.setEnd(t.endContainer,t.endOffset),e.selection.setRng(r)),n.getRng().collapsed&&!o?(lu(t=bl(i.getDoc(),g,d,m.decorate),So),n.getRng().insertNode(t.dom),n.select(t.dom)):hl(n,!1,function(){pl(i,function(e){function a(){f.clear()}function u(e){je(e,t)}function t(e){var t,n,r,o=s,i=$(r=e);switch(Ht(r).fold(function(){return"skipping"},function(e){return"br"===i||In(t=r)&&vl(t)===Eo?"valid":Ln(t=r)&&au(t,Bu())?"existing":Ec(r.dom)?"caret":zc(o,"span",i)&&zc(o,$(e),"span")?"valid":"invalid-child";var t})){case"invalid-child":a(),u(Un(e)),a();break;case"valid":Zt(t=e,n=f.get().getOrThunk(function(){var e=du(l);return c.push(e),f.set(e),e})),jn(n,t)}}var s,n,r,o,c,l,f;s=i,e=e,n=d,r=m.decorate,o=g,c=[],l=bl(s.getDoc(),o,n,r),f=eu(),ul(s.dom,e,function(e){a(),u(He(e,Ye.fromDom))})})})})})},annotationChanged:function(e,t){s.addListener(e,t)},remove:function(e){su(o,$e.some(e)).each(function(e){je(e.elements,on)})},getAll:function(e){var r;return z((e=uu(Ye.fromDom(o.getBody()),"["+Pu()+'="'+e+'"]'),r={},je(e,function(e){var t=Nn(e,Lu()),n=qe(r,t).getOr([]);r[t]=n.concat([e])}),r),function(e){return He(e,function(e){return e.dom})})}}}function Cl(e){return{getBookmark:Fe(Sl,e),moveToBookmark:Fe(Oc,e)}}function xl(e){return Po(e)||mo(e)&&!0!==nt(st(e.getElementsByTagName("*")),function(e,t){return e||Ro(t)},!1)}function wl(e,t,n){return t=bc(t),$e.from(e?t.next(n):t.prev(n))}function Sl(e,t,n){return 2===t?is(No,n,e):3===t?(r=(n=e).getRng(),{start:Qu(n.dom.getRoot(),Je.fromRangeStart(r)),end:Qu(n.dom.getRoot(),Je.fromRangeEnd(r))}):t?{rng:e.getRng()}:us(e,!1);var r}function El(e){return Nl===e}function kl(e,t){return void 0===t&&(t=!1),!(!ne(e)||!j(e))&&Vr(t?e.data.replace(/ /g," "):e.data)}(Dt=Ws=Ws||{})[Dt.Backwards=-1]="Backwards",Dt[Dt.Forwards=1]="Forwards";var Nl,_l,Al,Rl=F,Dl=j,Tl=W,Ol=M,Bl=Hr,Pl=jr,Ll=function(e,t,n){var r,o,i;if(!Tl(n)||!t)return null;if(t.isEqual(Je.after(n))&&n.lastChild){if(i=Je.after(n.lastChild),e<0&&Bl(n.lastChild)&&Tl(n.lastChild))return Ol(n.lastChild)?Je.before(n.lastChild):i}else i=t;var a,u,s,t=i.container(),c=i.offset();if(Dl(t)){if(e<0&&0<c)return Je(t,--c);if(0<e&&c<t.length)return Je(t,++c);r=t}else{if(e<0&&0<c&&(u=hc(t,c-1),Bl(u)))return!xl(u)&&(o=Os(u,e,Pl,u))?Dl(o)?Je(o,o.data.length):Je.after(o):Dl(u)?Je(u,u.data.length):Je.before(u);if(0<e&&c<t.childNodes.length&&(u=hc(t,c),Bl(u)))return Ol(u)?(c=n,(s=(a=u).nextSibling)&&Bl(s)?Dl(s)?Je(s,0):Je.before(s):Ll(Ws.Forwards,Je.after(a),c)):!xl(u)&&(o=Os(u,e,Pl,u))?Dl(o)?Je(o,0):Je.before(o):Dl(u)?Je(u,0):Je.after(u);r=u||i.getNode()}return(0<e&&i.isAtEnd()||e<0&&i.isAtStart())&&(r=Os(r,e,ze,n,!0),Pl(r,n))?vc(e,r):(u=Os(r,e,Pl,n),!(s=fe(Ve(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(t,n),Rl)))||u&&s.contains(u)?u?vc(e,u):null:0<e?Je.after(s):Je.before(s))},Il=function(t,n,e,r){return wc(t,n,e).bind(function(e){return r(e)?Il(t,n,e,r):$e.some(e)})},Ml=Fe(wl,!0),Fl=Fe(wl,!1),Ul=Fe(Sc,!0),zl=Fe(Sc,!1),Hl="_mce_caret",jl=(Nl=So,Bc),Vl=Wc,ql=kl,$l=Uc,Wl=function(e,t,n,r){var o=n.parentNode;return!ne(n[r])&&(!(o!==t&&!Y(o)&&!e.isBlock(o))||Wl(e,t,o,r))},Kl=function(t){return Kt(t).fold(Ie([t]),function(e){return[t].concat(Kl(e))})},Xl=function(t){return Xt(t).fold(Ie([t]),function(e){return"br"===$(e)?jt(e).map(function(e){return[t].concat(Xl(e))}).getOr([]):[t].concat(Xl(e))})},Yl=(_l=In,{get:function(e){if(_l(e))return Al(e).getOr("");throw new Error("Can only get text value of a text node")},getOption:Al=function(e){return _l(e)?$e.from(e.dom.nodeValue):$e.none()},set:function(e,t){if(!_l(e))throw new Error("Can only set raw text value of a text node");e.dom.nodeValue=t}});function Gl(e,t){for(;t&&t!==e;){if(Jn(t)||F(t))return t;t=t.parentNode}return null}function Jl(t,n,e){if(!e.collapsed){if(Ke.browser.isIE()&&e.startOffset===e.endOffset-1&&e.startContainer===e.endContainer){var r=e.startContainer.childNodes[e.startOffset];if(W(r))return Z(r.getClientRects(),function(e){return xu(e,t,n)})}return Z(e.getClientRects(),function(e){return xu(e,t,n)})}}function Ql(e,t,n){e.fire(t,n)}function Zl(n,s){function i(e){return e&&("IMG"===e.nodeName||s.dom.is(e,"figure.image"))}function c(e){return Zn(e)||R.hasClass(e,"mce-preview-object")}function F(e){var t,n=e.target,r=e,o=s.selection.getRng();("longpress"!==r.type&&0!==r.type.indexOf("touch")?!i(r.target)||Jl(r.clientX,r.clientY,o):(t=r.touches[0],!i(r.target)||Jl(t.clientX,t.clientY,o)))||e.isDefaultPrevented()||s.selection.select(n)}function l(e){return R.is(e,"figure.image")?[e.querySelector("img")]:R.hasClass(e,"mce-preview-object")&&ne(e.firstElementChild)?[e,e.firstElementChild]:[e]}function r(e){var t=bs(s);return!!t&&"false"!==e.getAttribute("data-mce-resize")&&e!==s.getBody()&&(R.hasClass(e,"mce-preview-object")?Te(Ye.fromDom(e.firstElementChild),t):Te(Ye.fromDom(e),t))}function o(e,t,n){ne(n)&&je(l(e),function(e){e.style[t]||!s.schema.isValid(e.nodeName.toLowerCase(),t)?R.setStyle(e,t,n):R.setAttrib(e,t,""+n)})}function f(e,t,n){o(e,"width",t),o(e,"height",n)}function d(e){var t,n=e.screenX-C,r=e.screenY-x;N=n*b[2]+w,_=r*b[3]+S,N=N<5?5:N,_=_<5?5:_,((i(p)||c(p))&&!1!==s.getParam("resize_img_proportional",!0,"boolean")?!Qe.modifierPressed(e):Qe.modifierPressed(e))&&(j(n)>j(r)?(_=O(N*E),N=O(_/E)):(N=O(_/E),_=O(N*E))),f(h,N,_),e=b.startPos.x+n,t=b.startPos.y+r,R.setStyles(v,{left:e=0<e?e:0,top:t=0<t?t:0,display:"block"}),v.innerHTML=N+" &times; "+_,b[2]<0&&h.clientWidth<=N&&R.setStyle(h,"left",void 0+(w-N)),b[3]<0&&h.clientHeight<=_&&R.setStyle(h,"top",void 0+(S-_)),(n=B.scrollWidth-U)+(r=B.scrollHeight-z)!=0&&R.setStyles(v,{left:e-n,top:t-r}),k||(e=p,n=w,t=S,r="corner-"+b.name,s.fire("ObjectResizeStart",{target:e,width:n,height:t,origin:r}),k=!0)}function a(e){function t(e,t){if(e)do{if(e===t)return 1}while(e=e.parentNode)}k||s.removed||(H(R.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute(A)}),e="mousedown"===e.type?e.target:n.getNode(),t(e=R.$(e).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],B)&&(m(),t(n.getStart(!0),e))&&t(n.getEnd(!0),e)?g(e):I())}function u(e){return pf(Gl(s.getBody(),e))}function m(){try{s.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}}function g(e){M();var o=(t=R.getPos(e,B)).x,i=t.y,a=(t=e.getBoundingClientRect()).width||t.right-t.left,u=t.height||t.bottom-t.top,t=(p!==e&&(I(),p=e,N=_=0),s.fire("ObjectSelected",{target:e})),n=R.getAttrib(p,A,"1");r(e)&&!t.isDefaultPrevented()?H(P,function(n,r){var e=R.get("mceResizeHandle"+r);e&&R.remove(e),e=R.add(B,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),11===Ke.ie&&(e.contentEditable=!1),R.bind(e,"mousedown",function(e){var t;e.stopImmediatePropagation(),e.preventDefault(),t=l(p)[0],C=e.screenX,x=e.screenY,w=t.clientWidth,S=t.clientHeight,E=S/w,(b=n).name=r,b.startPos={x:a*n[0]+o,y:u*n[1]+i},U=B.scrollWidth,z=B.scrollHeight,y=R.add(B,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),R.setStyles(y,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),h=c(e=p)?R.create("img",{src:Ke.transparentSrc}):e.cloneNode(!0),R.addClass(h,"mce-clonedresizable"),R.setAttrib(h,"data-mce-bogus","all"),h.contentEditable="false",R.setStyles(h,{left:o,top:i,margin:0}),f(h,a,u),h.removeAttribute(A),B.appendChild(h),R.bind(D,"mousemove",d),R.bind(D,"mouseup",L),T!==D&&(R.bind(T,"mousemove",d),R.bind(T,"mouseup",L)),v=R.add(B,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},w+" &times; "+S)}),n.elm=e,R.setStyles(e,{left:a*n[0]+o-e.offsetWidth/2,top:u*n[1]+i-e.offsetHeight/2})}):I(),R.getAttrib(p,A)||p.setAttribute(A,n)}var p,h,v,b,y,C,x,w,S,E,k,N,_,U,z,A="data-mce-selected",R=s.dom,H=Xe.each,D=s.getDoc(),T=document,j=Math.abs,O=Math.round,B=s.getBody(),P={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},L=function(){var e,t,n,r=k;k=!1,r&&(o(p,"width",N),o(p,"height",_)),R.unbind(D,"mousemove",d),R.unbind(D,"mouseup",L),T!==D&&(R.unbind(T,"mousemove",d),R.unbind(T,"mouseup",L)),R.remove(h),R.remove(v),R.remove(y),g(p),r&&(r=p,e=N,t=_,n="corner-"+b.name,s.fire("ObjectResized",{target:r,width:e,height:t,origin:n}),R.setAttrib(p,"style",R.getAttrib(p,"style"))),s.nodeChanged()},I=function(){M(),p&&p.removeAttribute(A),q(P,function(e,t){(t=R.get("mceResizeHandle"+t))&&(R.unbind(t),R.remove(t))})},M=function(){q(P,function(e){e.elm&&(R.unbind(e.elm),delete e.elm)})};return s.on("init",function(){m(),(Ke.browser.isIE()||Ke.browser.isEdge())&&(s.on("mousedown click",function(e){var t=e.target,n=t.nodeName;k||!/^(TABLE|IMG|HR)$/.test(n)||u(t)||(2!==e.button&&s.selection.select(t,"TABLE"===n),"mousedown"===e.type&&s.nodeChanged())}),R.bind(B,"mscontrolselect",e=function(e){function t(e){Nr.setEditorTimeout(s,function(){return s.selection.select(e)})}u(e.target)||Zn(e.target)?(e.preventDefault(),t(e.target)):/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName)&&t(e.target)}),s.on("remove",function(){return R.unbind(B,"mscontrolselect",e)}));var e,t=Nr.throttle(function(e){s.composing||a(e)});s.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",t),s.on("keyup compositionend",function(e){p&&"TABLE"===p.nodeName&&t(e)}),s.on("hide blur",I),s.on("contextmenu longpress",F,!0)}),s.on("remove",M),{isResizable:r,showResizeRect:g,hideResizeRect:I,updateResizeRect:a,destroy:function(){p=h=y=null}}}function ef(e){return Jn(e)||F(e)}function tf(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(e,t))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(i.caretRangeFromPoint)r=i.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=function(e,n,t){var r=t.elementFromPoint(e,n),o=t.body.createTextRange();if(r&&"HTML"!==r.tagName||(r=t.body),o.moveToElementText(r),0<(t=(t=Xe.toArray(o.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-Math.abs(Math.max(t.top-n,t.bottom-n))})).length){n=(t[0].bottom+t[0].top)/2;try{return o.moveToPoint(e,n),o.collapse(!0),o}catch(e){}}return null}(e,t,n)}return i=r,e=n.body,t=i&&i.parentElement?i.parentElement():null,F(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(t,e,ef))?null:i}return r}function nf(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}function rf(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)}function of(e){return e&&"TABLE"===e.nodeName}function af(e,t,n){for(var r=new Ar(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(M(t))return 1}function uf(e,t,n,r,o){var i,a,u=e.getRoot(),s=e.schema.getNonEmptyElements(),c=e.getParent(o.parentNode,e.isBlock)||u;if(r&&M(o)&&t&&e.isEmpty(c))return $e.some(Je(o.parentNode,e.nodeIndex(o)));for(var l,f,d=new Ar(o,c);a=d[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||(f=u,Lr(l=a)&&!1===rf(l,f,Ec)))return $e.none();if(j(a)&&0<a.nodeValue.length)return!1===rf(a,u,function(e){return"A"===e.nodeName})?$e.some(Je(a,r?a.nodeValue.length:0)):$e.none();if(e.isBlock(a)||s[a.nodeName.toLowerCase()])return $e.none();i=a}return n&&i?$e.some(Je(i,0)):$e.none()}function sf(e,t,n,r){var o,i=e.getRoot(),a=!1,u=r[(n?"start":"end")+"Container"],s=r[(n?"start":"end")+"Offset"],r=W(u)&&s===u.childNodes.length,c=e.schema.getNonEmptyElements(),l=n;if(Lr(u))return $e.none();if(W(u)&&s>u.childNodes.length-1&&(l=!1),Xn(u)&&(u=i,s=0),u===i){if(l&&(f=u.childNodes[0<s?s-1:0])){if(Lr(f))return $e.none();if(c[f.nodeName]||of(f))return $e.none()}if(u.hasChildNodes()){if(s=Math.min(!l&&0<s?s-1:s,u.childNodes.length-1),u=u.childNodes[s],s=j(u)&&r?u.data.length:0,!t&&u===i.lastChild&&of(u))return $e.none();if(function(e,t){for(;t&&t!==e;){if(F(t))return 1;t=t.parentNode}}(i,u)||Lr(u))return $e.none();if(u.hasChildNodes()&&!1===of(u)){var f=u,d=new Ar(u,i);do{if(F(f)||Lr(f)){a=!1;break}if(j(f)&&0<f.nodeValue.length){s=l?0:f.nodeValue.length,u=f,a=!0;break}if(c[f.nodeName.toLowerCase()]&&(!(o=f)||!/^(TD|TH|CAPTION)$/.test(o.nodeName))){s=e.nodeIndex(f),u=f.parentNode,l||s++,a=!0;break}}while(f=l?d.next():d.prev())}}}return t&&(j(u)&&0===s&&uf(e,r,t,!0,u).each(function(e){u=e.container(),s=e.offset(),a=!0}),W(u))&&(!(f=(f=u.childNodes[s])||u.childNodes[s-1])||!M(f)||f.previousSibling&&"A"===f.previousSibling.nodeName||af(e,f,!1)||af(e,f,!0)||uf(e,r,t,!0,f).each(function(e){u=e.container(),s=e.offset(),a=!0})),l&&!t&&j(u)&&s===u.nodeValue.length&&uf(e,r,t,!1,u).each(function(e){u=e.container(),s=e.offset(),a=!0}),a?$e.some(Je(u,s)):$e.none()}function cf(e,t){var n=t.collapsed,r=t.cloneRange(),o=Je.fromRangeStart(t);return sf(e,n,!0,r).each(function(e){n&&Je.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||sf(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),nf(t,r)?$e.none():$e.some(r)}function lf(e,t){return e.splitText(t)}function ff(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,e=e.endOffset;return t===r&&j(t)?0<n&&n<t.nodeValue.length&&(t=(r=lf(t,n)).previousSibling,n<e?(t=r=lf(r,e-=n).previousSibling,e=r.nodeValue.length,n=0):e=0):(j(t)&&0<n&&n<t.nodeValue.length&&(t=lf(t,n),n=0),j(r)&&0<e&&e<r.nodeValue.length&&(e=(r=lf(r,e).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:e}}function df(n){return{walk:function(e,t){return ul(n,e,t)},split:ff,normalize:function(t){return cf(n,t).fold(Ue,function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}Cl.isBookmarkNode=Bc;var mf,gf,Qe={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Qe.metaKeyPressed(e)},metaKeyPressed:function(e){return Ke.mac?e.metaKey:e.ctrlKey&&!e.altKey}},pf=F,mf=(df.compareRanges=nf,df.getCaretRangeFromPoint=tf,df.getSelectedNode=wu,df.getNode=Su,"height"),gf=function(e){var t=e.dom;return qn(e)?t.getBoundingClientRect().height:t.offsetHeight},hf={set:function(e,t){if(!b(t)&&!t.match(/^[0-9]+$/))throw new Error(mf+".set accepts only positive integer values. Value was "+t);wn(e=e.dom)&&(e.style[mf]=t+"px")},get:vf,getOuter:vf,aggregate:bf,max:function(e,t,n){return(e=bf(e,n))<t?t-e:0}};function vf(e){var t=gf(e);return t<=0||null===t?(e=Rn(e,mf),parseFloat(e)||0):t}function bf(n,e){return nt(e,function(e,t){return t=void 0===(t=Rn(n,t))?0:parseInt(t,10),isNaN(t)?e:e+t},0)}function yf(e){return"textarea"===$(e)}function Cf(e,t){var n,r,o,i,a=(o=(u=e).dom.ownerDocument).body,i=o.defaultView,o=o.documentElement,a=a===u.dom?$n(a.offsetLeft,a.offsetTop):(n=an(null==i?void 0:i.pageYOffset,o.scrollTop),i=an(null==i?void 0:i.pageXOffset,o.scrollLeft),r=an(o.clientTop,a.clientTop),o=an(o.clientLeft,a.clientLeft),Pn(u).translate(i-o,n-r)),u=hf.get(e);return{element:e,bottom:a.top+u,height:u,pos:a,cleanup:t}}function xf(d,m,g,p){var e,t=d,n=function(e,t){var n,r,o,i,a=d,u=m,s=g,c=p,l=Ye.fromDom(a.getBody()),f=Ye.fromDom(a.getDoc());l.dom.offsetWidth,r=Ye.fromDom(s.startContainer),o=s.startOffset,l=0===(i=Un(r)).length||yf(r)?{element:r,offset:o}:o<i.length&&!yf(i[o])?{element:i[o],offset:0}:yf(i=i[i.length-1])?{element:r,offset:o}:"img"===$(i)?{element:i,offset:1}:In(i)?{element:i,offset:vl(i).length}:{element:i,offset:Un(i).length},n=Ye.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>'),Zt(l.element,n),wf(a,f,u,s=Cf(n,function(){return Vn(n)}),c),s.cleanup()},r=(e=g).startContainer,o=e.startOffset,i=e.endContainer,a=e.endOffset;n(Ye.fromDom(r),Ye.fromDom(i)),(n=t.dom.createRng()).setStart(r,o),n.setEnd(i,a),t.selection.setRng(e)}function wf(e,t,n,r,o){var i={elm:r.element.dom,alignToTop:o};e.fire("ScrollIntoView",i).isDefaultPrevented()||(n(t,un(t).top,r,o),e.fire("AfterScrollIntoView",i))}function Sf(e,t,n,r){var o=Ye.fromDom(e.getDoc());wf(e,o,n,Cf(Ye.fromDom(t),Le),r)}function Ef(e,t,n,r){var o=e.pos;n?sn(o.left,o.top,r):(n=o.top-t+e.height,sn(o.left,n,r))}function kf(e,t,n,r,o){var i=n+t,a=r.pos.top,u=r.bottom,s=n<=u-a;a<t?Ef(r,n,!1!==o,e):i<a?Ef(r,n,s?!1!==o:!0===o,e):i<u&&!s&&Ef(r,n,!0===o,e)}function Nf(e,t,n,r){kf(e,t,e.dom.defaultView.innerHeight,n,r)}function _f(e,t,n,r){kf(e,t,e.dom.defaultView.innerHeight,n,r),t=n.element,e=un(Ye.fromDom(document)),o=(i=id).owner(t),i=od(i,o),o=Pn(t),t=R(i,function(e,t){return t=Pn(t),{left:e.left+t.left,top:e.top+t.top}},{left:0,top:0});var o,i=$n(t.left+o.left+e.left,t.top+o.top+e.top),t=fn(window);i.top<t.y?cn(n.element,!1!==r):i.top>t.bottom&&cn(n.element,!0===r)}function Af(e,t,n){xf(e,Nf,t,n)}function Rf(e,t,n){Sf(e,t,Nf,n)}function Df(e,t,n){xf(e,_f,t,n)}function Tf(e,t,n){Sf(e,t,_f,n)}function Of(e,t,n){(e.inline?Af:Df)(e,t,n)}function Bf(e){var t=Hn(e).dom;return e.dom===t.activeElement}function Pf(e){return void 0===e&&(e=Ye.fromDom(document)),$e.from(e.dom.activeElement).map(Ye.fromDom)}function Lf(e,t){return(t=In(t)?vl(t).length:Un(t).length+1)<e?t:e<0?0:e}function If(e){return ud.range(e.start,Lf(e.soffset,e.start),e.finish,Lf(e.foffset,e.finish))}function Mf(e,t){return!mn(t.dom)&&(Be(e,t)||I(e,t))}function Ff(t){return function(e){return Mf(t,e.start)&&Mf(t,e.finish)}}function Uf(e){return!0===e.inline||sd.isIE()}function zf(e){return ud.range(Ye.fromDom(e.startContainer),e.startOffset,Ye.fromDom(e.endContainer),e.endOffset)}function Hf(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),$e.some(t)}catch(e){return $e.none()}}function jf(e){var t,n=Uf(e)?((n=zt(t=Ye.fromDom(e.getBody())).dom.getSelection())&&0!==n.rangeCount?$e.from(n.getRangeAt(0)):$e.none()).map(zf).filter(Ff(t)):$e.none();e.bookmark=n.isSome()?n:e.bookmark}function Vf(n){return(n.bookmark||$e.none()).bind(function(e){return t=Ye.fromDom(n.getBody()),$e.from(e).filter(Ff(t)).map(If);var t}).bind(Hf)}function qf(t,e){var n=t.getParam("custom_ui_selector","","string");return null!==ld.getParent(e,function(e){return cd.isEditorUIElement(e)||!!n&&t.dom.is(e,n)})}function $f(n,e){var a,t=e.editor,u=tu(function(){jf(a)},0);(a=t).on("init",function(){function e(){t.throttle()}var t,n,r,o,i;a.inline&&(r=a,t=u,Ge.DOM.bind(document,"mouseup",e),r.on("remove",function(){Ge.DOM.unbind(document,"mouseup",e)})),n=a,r=u,Rt().browser.isIE()?(i=n).on("focusout",function(){jf(i)}):(o=r,n.on("mouseup touchend",function(e){o.throttle()})),n.on("keyup NodeChange",function(e){"nodechange"===e.type&&e.selectionChange||jf(n)})}),a.on("remove",function(){u.cancel()}),t.on("focusin",function(){var e=n.focusedEditor;e!==t&&(e&&e.fire("blur",{focusedEditor:t}),n.setActive(t),(n.focusedEditor=t).fire("focus",{blurredEditor:e}),t.focus(!0))}),t.on("focusout",function(){Nr.setEditorTimeout(t,function(){var e=n.focusedEditor;qf(t,function(e){try{return Pf(Hn(Ye.fromDom(e.getElement()))).fold(function(){return document.body},function(e){return e.dom})}catch(e){return document.body}}(t))||e!==t||(t.fire("blur",{focusedEditor:null}),n.focusedEditor=null)})}),rd||(rd=function(e){var t=n.activeEditor;t&&!function(e){if(zn()&&ne(e.target)){var t=Ye.fromDom(e.target);if(Ln(t)&&ne(t.dom.shadowRoot)&&e.composed&&e.composedPath&&(t=e.composedPath()))return L(t)}return $e.from(e.target)}(e).each(function(e){e.ownerDocument!==document||e===document.body||qf(t,e)||n.focusedEditor!==t||(t.fire("blur",{focusedEditor:null}),n.focusedEditor=null)})},ld.bind(document,"focusin",rd))}function Wf(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(ld.unbind(document,"focusin",rd),rd=null)}function Kf(t,e){var n=Ye.fromDom(t.getBody());(e.collapsed?$e.from(Su(e.startContainer,e.startOffset)).map(Ye.fromDom):$e.none()).bind(function(e){return yo(e)?$e.some(e):!1===Be(n,e)?$e.some(n):$e.none()}).bind(function(e){return Ul(e.dom)}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})}function Xf(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()}function Yf(e){return e.inline?(n=e.getBody())&&(Bf(n=Ye.fromDom(n))||Pf(Hn(t=n)).filter(function(e){return t.dom.contains(e.dom)}).isSome()):e.iframeElement&&Bf(Ye.fromDom(e.iframeElement));var t,n}function Gf(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return $e.from(i).map(Ye.fromDom).map(function(e){return r&&t.collapsed?e:Wt(e,o(e,a)).getOr(e)}).bind(function(e){return Ln(e)?$e.some(e):Ht(e).filter(Ln)}).map(function(e){return e.dom}).getOr(e)}function Jf(e,t,n){return Gf(e,t,!0,n,function(e,t){return Math.min(Yt(e),t)})}function Qf(e,t,n){return Gf(e,t,!1,n,function(e,t){return 0<t?t-1:t})}function Zf(e,t){for(var n=e;e&&j(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}function ed(n,e){return He(e,function(e){var t=n.fire("GetSelectionRange",{range:e});return t.range!==e?t.range:e})}function td(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}}function nd(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t}var rd,od=function(n,e){return n.view(e).fold(Ie([]),function(e){var t=n.owner(e),t=od(n,t);return[e].concat(t)})},id=Object.freeze({__proto__:null,view:function(e){return(e.dom===document?$e.none():$e.from(null==(e=e.dom.defaultView)?void 0:e.frameElement)).map(Ye.fromDom)},owner:Ut}),ad=((e=ar([{before:["element"]},{on:["element","offset"]},{after:["element"]}])).before,e.on,e.after,ar([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])),ud={domRange:ad.domRange,relative:ad.relative,exact:ad.exact,exactFromRange:function(e){return ad.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){return zt(e.match({domRange:function(e){return Ye.fromDom(e.startContainer)},relative:function(e,t){return e.fold(G,G,G)},exact:function(e,t,n,r){return e}}))},range:function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}}},sd=Rt().browser,cd={isEditorUIElement:function(e){return-1!==(e=e.className.toString()).indexOf("tox-")||-1!==e.indexOf("mce-")}},ld=Ge.DOM,fd=function(e){return e.editorManager.setActive(e)},dd={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},md=(gd.create=function(e,t){var n=new gd(e,dd[e]||1);return t&&q(t,function(e,t){n.attr(t,e)}),n},gd.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},gd.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return null!=e&&q(e,function(e,t){r.attr(t,e)}),r;if(n=r.attributes){if(void 0===t)return n.map[e];if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}}else{if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});n.map[e]=t}return r}},gd.prototype.clone=function(){var e,t=new gd(this.name,this.type);if(e=this.attributes){var n=[];n.map={};for(var r=0,o=e.length;r<o;r++){var i=e[r];"id"!==i.name&&(n[n.length]={name:i.name,value:i.value},n.map[i.name]=i.value)}t.attributes=n}return t.value=this.value,t.shortEnded=this.shortEnded,t},gd.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},gd.prototype.unwrap=function(){for(var e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()},gd.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},gd.prototype.append=function(e){e.parent&&e.remove();var t=this.lastChild;return t?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},gd.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},gd.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=td(n,this))n.name===e&&t.push(n);return t},gd.prototype.children=function(){for(var e=[],t=this.firstChild;t;t=t.next)e.push(t);return e},gd.prototype.empty=function(){if(this.firstChild){for(var e=[],t=this.firstChild;t;t=td(t,this))e.push(t);for(var n=e.length;n--;)(t=e[n]).parent=t.firstChild=t.lastChild=t.next=t.prev=null}return this.firstChild=this.lastChild=null,this},gd.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r,o,i=this.firstChild;if(nd(this))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(nd(i))return!1}if(8===i.type)return!1;if(3===i.type&&(o=void 0,!Vr((r=i).value)||(o=r.parent)&&("span"!==o.name||o.attr("style"))&&/^[ ]+$/.test(r.value)))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&Vr(i.value))return!1;if(n&&n(i))return!1}while(i=td(i,this));return!0},gd.prototype.walk=function(e){return td(this,null,e)},gd);function gd(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}function pd(e,t){return e.replace(t.re,function(e){return qe(t.uris,e).getOr(e)})}var hd=Xe.each,vd=Xe.trim,bd="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),yd={ftp:21,http:80,https:443,mailto:25},Cd=["img","video"],xd=(wd.parseDataUri=function(e){var t,e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]);return{type:t=n?n[1]:t,data:e[1]}},wd.isDomSafe=function(e,t,n){if((n=void 0===n?{}:n).allow_script_urls)return!0;var r=Go.decode(e).replace(/[\s\u0000-\u001F]+/g,"");try{r=decodeURIComponent(r)}catch(e){r=unescape(r)}return!(/((java|vb)script|mhtml):/i.test(r)||!n.allow_html_data_urls&&(/^data:image\//i.test(r)?(ne(n=n.allow_svg_data_urls)?!n:!ne(t)||!tt(Cd,t))&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)))},wd.getDocumentBaseUrl=function(e){return e=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},wd.prototype.setPath=function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},wd.prototype.toRelative=function(e){var t,n;return"./"===e?e:"mce_host"!==(e=new wd(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol?e.getURI():(t=this.getURI())===(n=e.getURI())||"/"===t.charAt(t.length-1)&&t.substr(0,t.length-1)===n?t:(n=this.toRelPath(this.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},wd.prototype.toAbsolute=function(e,t){return(e=new wd(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},wd.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=yd[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},wd.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),u=t.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i},wd.prototype.toAbsPath=function(e,t){var n,r=0,o=[],i=/\/$/.test(t)?"/":"",e=e.split("/"),a=t.split("/");for(hd(e,function(e){e&&o.push(e)}),e=o,n=a.length-1,o=[];0<=n;n--)0!==a[n].length&&"."!==a[n]&&(".."!==a[n]?0<r?r--:o.push(a[n]):r++);return 0!==(t=(n=e.length-r)<=0?B(o).join("/"):e.slice(0,n).join("/")+"/"+B(o).join("/")).indexOf("/")&&(t="/"+t),i&&t.lastIndexOf("/")!==t.length-1&&(t+=i),t},wd.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},wd);function wd(e,t){e=vd(e),this.settings=t||{};var n,r,o,i,t=this.settings.base_uri,a=this;/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)?a.source=e:(n=0===e.indexOf("//"),0!==e.indexOf("/")||n||(e=(t&&t.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(r=this.settings.base_uri?this.settings.base_uri.path:new wd(document.location.href).directory,e=this.settings.base_uri&&""==this.settings.base_uri.protocol?"//mce_host"+a.toAbsPath(r,e):(o=/([^#?]*)([#?]?.*)/.exec(e),(t&&t.protocol||"http")+"://mce_host"+a.toAbsPath(r,o[1])+o[2])),e=e.replace(/@@/g,"(mce_at)"),i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),hd(bd,function(e,t){t=(t=i[t])&&t.replace(/\(mce_at\)/g,"@@"),a[e]=t}),t&&(a.protocol||(a.protocol=t.protocol),a.userInfo||(a.userInfo=t.userInfo),a.port||"mce_host"!==a.host||(a.port=t.port),a.host&&"mce_host"!==a.host||(a.host=t.host),a.source=""),n&&(a.protocol=""))}function Sd(e,t,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getShortEndedElements(),a=1,u=n;0!==a;)for(r.lastIndex=u;;){var s=r.exec(t);if(null===s)return u;if("!"===s[1]){u=ht(s[2],"--")?Nd(t,!1,s.index+"!--".length):Nd(t,!0,s.index+1);break}o.lastIndex=r.lastIndex;var c=o.exec(t);if(!l(c)&&c.index===r.lastIndex){"/"===s[1]?--a:re(i,s[2])||(a+=1),u=r.lastIndex+c[0].length;break}}return u}function Ed($,W){void 0===W&&(W=no());var e,K=null!=(e=($=$||{}).document)?e:document,X=K.createElement("form"),Y=(!1!==$.fix_self_closing&&($.fix_self_closing=!0),$.comment||Le),G=$.cdata||Le,J=$.text||Le,Q=$.start||Le,Z=$.end||Le,ee=$.pi||Le,te=$.doctype||Le;return{parse:function(e,t){void 0===t&&(t="html");var u=function(e){for(var t,n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,r=[],o={},i=cu("img"),a=0,u=0;t=n.exec(e);){var s=t[0],c=i+"_"+u++;o[c]=s,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(c),a=t.index+s.length}var l=new RegExp(i+"_[0-9]+","g");return 0===a?{prefix:i,uris:o,html:e,re:l}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join(""),re:l})}(e);void 0===(e=t)&&(e="html");for(var n,i,s,r,o,a,c,l,f,d,m,g,p,h,v,b,y,C,x=u.html,w=0,S=[],E=0,k=Go.decode,N=Xe.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),_="html"===e?0:1,A=function(e){for(var t,n=S.length;n--&&S[n].name!==e;);if(0<=n){for(t=S.length-1;n<=t;t--)(e=S[t]).valid&&Z(e.name);S.length=n}},R=function(e,t){return J(pd(e,u),t)},I=function(e){""!==e&&(">"===e.charAt(0)&&(e=" "+e),$.allow_conditional_comments||"[if"!==e.substr(0,3).toLowerCase()||(e=" "+e),Y(pd(e,u)))},D=function(e,t){var n=e||"",r=!ht(n,"--"),o=Nd(x,r,t);return e=x.substr(t,o-t),I(r?n+e:e),o+1},T=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),M=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,F=W.getShortEndedElements(),U=$.self_closing_elements||W.getSelfClosingElements(),z=W.getBoolAttrs(),O=$.validate,H=$.remove_internals,j=$.fix_self_closing,V=W.getSpecialElements(),q=x+">";n=T.exec(q);){var B=n[0];if(w<n.index&&R(k(x.substr(w,n.index-w))),i=n[7])A(i=":"===(i=i.toLowerCase()).charAt(0)?i.substr(1):i);else if(i=n[8]){if(n.index+B.length>x.length){R(k(x.substr(n.index))),w=n.index+B.length;continue}l=(i=":"===(i=i.toLowerCase()).charAt(0)?i.substr(1):i)in F,j&&U[i]&&0<S.length&&S[S.length-1].name===i&&A(i);var P,L=M,P=n[9];if(null!==(P=(L=L.exec(P))&&(P=L[1],L=L[2],"string"==typeof P)&&"data-mce-bogus"===P.toLowerCase()?L:null)){if("all"===P){w=Sd(W,x,T.lastIndex),T.lastIndex=w;continue}d=!1}if(!O||(f=W.getElementRule(i))){if(d=!0,O&&(p=f.attributes,h=f.attributePatterns),(g=n[9])?((c=-1!==g.indexOf("data-mce-type"))&&H&&(d=!1),(s=[]).map={},g.replace(M,function(e,t,n,r,o){return function(e,t,n,r,o){if(n=pd((t=t.toLowerCase())in z?t:k(n||r||o||""),u),O&&!c&&0==(0===(r=t).indexOf("data-")||0===r.indexOf("aria-"))){var i=p[t];if(!i&&h){for(var a=h.length;a--&&!(i=h[a]).pattern.test(t););-1===a&&(i=null)}if(!i)return;if(i.validValues&&!(n in i.validValues))return}("name"===t||"id"===t)&&e in kd&&(n in K||n in X)||N[t]&&!xd.isDomSafe(n,e,$)||c&&(t in N||0===t.indexOf("on"))||(s.map[t]=n,s.push({name:t,value:n}))}(i,t,n,r,o),""})):(s=[]).map={},O&&!c){if(v=f.attributesRequired,b=f.attributesDefault,y=f.attributesForced,f.removeEmptyAttrs&&!s.length&&(d=!1),y)for(r=y.length;r--;)a=(m=y[r]).name,"{$uid}"===(C=m.value)&&(C="mce_"+E++),s.map[a]=C,s.push({name:a,value:C});if(b)for(r=b.length;r--;)(a=(m=b[r]).name)in s.map||("{$uid}"===(C=m.value)&&(C="mce_"+E++),s.map[a]=C,s.push({name:a,value:C}));if(v){for(r=v.length;r--&&!(v[r]in s.map););-1===r&&(d=!1)}if(m=s.map["data-mce-bogus"]){if("all"===m){w=Sd(W,x,T.lastIndex),T.lastIndex=w;continue}d=!1}}d&&Q(i,s,l)}else d=!1;if(L=V[i]){L.lastIndex=w=n.index+B.length,w=(n=L.exec(x))?(d&&(o=x.substr(w,n.index-w)),n.index+n[0].length):(o=x.substr(w),x.length),d&&(0<o.length&&R(o,!0),Z(i)),T.lastIndex=w;continue}l||(g&&g.indexOf("/")===g.length-1?d&&Z(i):S.push({name:i,valid:d}))}else if(i=n[1])I(i);else if(i=n[2]){if(!(1==_||$.preserve_cdata||0<S.length&&W.isValidChild(S[S.length-1].name,"#cdata"))){w=D("",n.index+2),T.lastIndex=w;continue}G(i)}else if(i=n[3])te(i);else{if((i=n[4])||"<!"===B){w=D(i,n.index+B.length),T.lastIndex=w;continue}if(i=n[5]){if(1!=_){w=D("?",n.index+2),T.lastIndex=w;continue}ee(i,n[6])}}w=n.index+B.length}for(w<x.length&&R(k(x.substr(w))),r=S.length-1;0<=r;r--)(i=S[r]).valid&&Z(i.name)}}}var kd=Xe.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),Nd=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&(o=n,/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(r.substr(o))))return o=r.indexOf("[endif]",n),r.indexOf(">",o);if(t)return-1!==(o=r.indexOf(">",n))?o:r.length;(t=/--!?>/g).lastIndex=n;var o=t.exec(e);return o?o.index+o[0].length:r.length};function _d(e,t){for(var n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema,o=(e=e.getTempAttrs(),e=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi"),t.replace(e,"")),i=r.getShortEndedElements();s=n.exec(o);){var a=n.lastIndex,u=s[0].length,s=i[s[1]]?a:Ed.findEndTag(r,o,a),o=o.substring(0,a-u)+o.substring(s);n.lastIndex=a-u}return No(o)}function Ad(o){return{compare:function(e,t){return e.nodeName===t.nodeName&&!(!r(n(e),n(t))||!r(o.parseStyle(o.getAttrib(e,"style")),o.parseStyle(o.getAttrib(t,"style")))||Bc(e)||Bc(t));function n(t){var n={};return Od(o.getAttribs(t),function(e){0!==(e=e.nodeName.toLowerCase()).indexOf("_")&&"style"!==e&&0!==e.indexOf("data-")&&(n[e]=o.getAttrib(t,e))}),n}function r(e,t){var n,r;for(r in e)if(re(e,r)){if(void 0===(n=t[r]))return;if(e[r]!==n)return;delete t[r]}for(r in t)if(re(t,r))return;return 1}}}}function Rd(e){var u=[],s=(e=e||{}).indent,c=Bd(e.indent_before||""),l=Bd(e.indent_after||""),f=Go.getEncodeFunc(e.entity_encoding||"raw",e.entities),d="html"===e.element_format;return{start:function(e,t,n){var r,o,i,a;if(s&&c[e]&&0<u.length&&0<(a=u[u.length-1]).length&&"\n"!==a&&u.push("\n"),u.push("<",e),t)for(r=0,o=t.length;r<o;r++)i=t[r],u.push(" ",i.name,'="',f(i.value,!0),'"');u[u.length]=!n||d?">":" />",n&&s&&l[e]&&0<u.length&&0<(a=u[u.length-1]).length&&"\n"!==a&&u.push("\n")},end:function(e){u.push("</",e,">"),s&&l[e]&&0<u.length&&0<(e=u[u.length-1]).length&&"\n"!==e&&u.push("\n")},text:function(e,t){0<e.length&&(u[u.length]=t?e:f(e))},cdata:function(e){u.push("<![CDATA[",e,"]]>")},comment:function(e){u.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?u.push("<?",e," ",f(t),"?>"):u.push("<?",e,"?>"),s&&u.push("\n")},doctype:function(e){u.push("<!DOCTYPE",e,">",s?"\n":"")},reset:function(){u.length=0},getContent:function(){return u.join("").replace(/\n$/,"")}}}function Dd(t,m){void 0===m&&(m=no());var g=Rd(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(e){var l=t.validate,f={3:function(e){g.text(e.value,e.raw)},8:function(e){g.comment(e.value)},7:function(e){g.pi(e.name,e.value)},10:function(e){g.doctype(e.value)},4:function(e){g.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;d(e),e=e.next;);}},d=(g.reset(),function(e){if(t=f[e.type])t(e);else{var t=e.name,n=e.shortEnded,r=e.attributes;if(l&&r&&1<r.length){var o=[],i=(o.map={},m.getElementRule(e.name));if(i){for(var a=0,u=i.attributesOrder.length;a<u;a++)(s=i.attributesOrder[a])in r.map&&(c=r.map[s],o.map[s]=c,o.push({name:s,value:c}));for(var s,c,a=0,u=r.length;a<u;a++)(s=r[a].name)in o.map||(c=r.map[s],o.map[s]=c,o.push({name:s,value:c}));r=o}}if(g.start(e.name,r,n),!n){if(e=e.firstChild)for(;d(e),e=e.next;);g.end(t)}}});return 1!==e.type||t.inner?f[11](e):d(e),g.getContent()}}}Ed.findEndTag=Sd;var Td=_d,Od=Xe.each,Bd=Xe.makeMap,Pd=new Set;function Ld(e,t){return he(e.parseStyle(e.getAttrib(t,"style")))}function Id(n,r,o){return $e.from(o.container()).filter(j).exists(function(e){var t=n?0:-1;return r(e.data.charAt(o.offset()+t))})}function Md(e){return e=e.container(),j(e)&&(0===e.data.length||ko(e.data)&&Cl.isBookmarkNode(e.parentNode))}function Fd(t,n){return function(e){return $e.from(Ls(t?0:-1,e)).filter(n).isSome()}}function Ud(e){return Gn(e)&&"block"===Rn(Ye.fromDom(e),"display")}function zd(e){return F(e)&&!(W(e)&&"all"===e.getAttribute("data-mce-bogus"))}function Hd(e){rn(e),jn(e,Ye.fromHtml('<br data-mce-bogus="1">'))}function jd(n){Xt(n).each(function(t){jt(t).each(function(e){po(n)&&Or(t)&&po(e)&&Vn(t)})})}function Vd(e,t){return r=Ue,Be(n=t,t=e)?function(e,t){for(var n=y(t)?t:Ue,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Ye.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(t,function(e){return r(e)||I(e,n)}).slice(0,-1):[];var n,r}function qd(e,t){return[e].concat(Vd(e,t))}function $d(e,t,n){return Il(e,t,n,Md)}function Wd(e,t){return rt(qd(Ye.fromDom(t.container()),e),po)}function Kd(e,n,r){return $d(e,n.dom,r).forall(function(t){return Wd(n,r).fold(function(){return!1===Ps(t,r,n.dom)},function(e){return!1===Ps(t,r,n.dom)&&Be(e,Ye.fromDom(t.container()))})})}function Xd(t,n,r){return Wd(n,r).fold(function(){return $d(t,n.dom,r).forall(function(e){return!1===Ps(e,r,n.dom)})},function(e){return $d(t,e.dom,r).isNone()})}function Yd(e){return Hs(e).exists(Or)}function Gd(e,t,n){return wl(e,(t=L(Ve(qd(Ye.fromDom(n.container()),t),po)).getOr(t)).dom,n).filter(Yd)}function Jd(e,t){return Hs(t).exists(Or)||Gd(!0,e,t).isSome()}function Qd(e,t){return $e.from(t.getNode(!0)).map(Ye.fromDom).exists(Or)||Gd(!1,e,t).isSome()}function Zd(e){return Je.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()}function em(e,t){return L(Ve(qd(Ye.fromDom(t.container()),e),po)).getOr(e)}function tm(e,t){return Zd(t)?gg(t):gg(t)||Fl(em(e,t).dom,t).exists(gg)}function nm(e,t){return Zd(t)?mg(t):mg(t)||Ml(em(e,t).dom,t).exists(mg)}function rm(e){return Hs(e).bind(function(e){return pr(e,Ln)}).exists(function(e){return tt(["pre","pre-wrap"],Rn(e,"white-space"))})}function om(e,t){return!rm(t)&&(Sg(e,t)||kg(e,t)||Qd(e,t)||tm(e,t))}function im(e,t){return!rm(t)&&(Eg(e,t)||Ng(e,t)||Jd(e,t)||nm(e,t))}function am(e,t){return om(e,t)||im(e,(t=(e=t).container(),n=e.offset(),j(t)&&n<t.data.length?Je(t,n+1):e));var n}function um(e,t){return El(e.charAt(t))}function sm(e){return e=e.container(),j(e)&&we(e.data,So)}function cm(t){var s,e=Ye.fromDom(t.getBody());t.selection.isCollapsed()&&(s=e,e=Je.fromRangeStart(t.selection.getRng()),$e.some(e).filter(sm).bind(function(e){var t,n,r,o=e.container(),i=s,a=(t=o).data,u=Je(t,0);return(!um(a,0)||am(i,u)?(u=(i=o).data,(r=He(n=u.split(""),function(e,t){return El(e)&&0<t&&t<n.length-1&&Lc(n[t-1])&&Lc(n[t+1])?" ":e}).join(""))!==u&&(i.data=r,1)):(t.data=" "+a.slice(1),1))||(u=s,r=(i=o).data,t=Je(i,r.length-1),um(r,r.length-1)&&!am(u,t)&&(i.data=r.slice(0,-1)+" ",1))?$e.some(e):$e.none()}).each(function(e){t.selection.setRng(e.toRange())}))}function lm(e,t,n){var r,o,i,a,u,s;0!==n&&(i=gr(i=Ye.fromDom(e),po).getOr(i),r=e.data.slice(t,t+n),o=t+n>=e.data.length&&im(i,Je(e,e.data.length)),i=0===t&&om(i,Je(e,0)),e.replaceData(t,n,(u=i,s=o,nt(a=r,function(e,t){return Pc(t)||El(t)?e.previousCharIsSpace||""===e.str&&u||e.str.length===a.length-1&&s?{previousCharIsSpace:!1,str:e.str+So}:{previousCharIsSpace:!0,str:e.str+" "}:{previousCharIsSpace:!1,str:e.str+t}},{previousCharIsSpace:!1,str:""}).str)))}function fm(e,t){var n=e.data.slice(t);lm(e,t,n.length-bt(n).length)}function dm(e,t){var n=e.data.slice(0,t);lm(e,t-(n=n.length-yt(n).length),n)}function mm(e,t,n,r){void 0===r&&(r=!0);var o=yt(e.data).length,i=r?e:t,t=r?t:e;r?i.appendData(t.data):i.insertData(0,t.data),Vn(Ye.fromDom(t)),n&&fm(i,o)}function gm(e,t){return r=(n=t).container(),o=n.offset(),!1===Je.isTextPosition(n)&&r===e.parentNode&&o>Je.before(e).offset()?Je(t.container(),t.offset()-1):t;var n,r,o}function pm(e){return Hr(e.previousSibling)?$e.some((t=e.previousSibling,j(t)?Je(t,t.data.length):Je.after(t))):e.previousSibling?zl(e.previousSibling):$e.none();var t}function hm(e){return Hr(e.nextSibling)?$e.some((t=e.nextSibling,j(t)?Je(t,0):Je.before(t))):e.nextSibling?Ul(e.nextSibling):$e.none();var t}function vm(r,o){return pm(o).orThunk(function(){return hm(o)}).orThunk(function(){return e=r,n=Je.before((t=o).previousSibling||t.parentNode),Fl(e,n).fold(function(){return Ml(e,Je.after(t))},$e.some);var e,t,n})}function bm(n,r){return hm(r).orThunk(function(){return pm(r)}).orThunk(function(){return Ml(e=n,Je.after(t=r)).fold(function(){return Fl(e,Je.before(t))},$e.some);var e,t})}function ym(t,n,e){e.fold(function(){t.focus()},function(e){t.selection.setRng(e.toRange(),n)})}function Cm(e,t){return t&&re(e.schema.getBlockElements(),$(t))}function xm(e){var t;return $r(e)?(t=Ye.fromHtml('<br data-mce-bogus="1">'),rn(e),jn(e,t),$e.some(Je.before(t.dom))):$e.none()}function wm(t,n,e,r){void 0===r&&(r=!0);var o,i,a,u,s,c,l,f=(n?bm:vm)(t.getBody(),f=e.dom).map(Fe(gm,f)),d=gr(e,Fe(Cm,t),(o=t.getBody(),function(e){return e.dom===o})),m=(i=f,e=f=e,a=re(t.schema.getTextInlineElements(),$(e)),c=jt(f).filter(In),l=Vt(f).filter(In),Vn(f),e=l,f=i,s=function(e,t,n){var e=e.dom,t=t.dom,r=e.data.length;return mm(e,t,a),n.container()===t?Je(e,r):n},((u=c).isSome()&&e.isSome()&&f.isSome()?$e.some(s(u.getOrDie(),e.getOrDie(),f.getOrDie())):$e.none()).orThunk(function(){return a&&(c.each(function(e){return dm(e.dom,e.dom.length)}),l.each(function(e){return fm(e.dom,0)})),i}));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):d.bind(xm).fold(function(){r&&ym(t,n,m)},function(e){r&&ym(t,n,$e.some(e))})}function Sm(e){return uu(e,"td,th")}function Em(e,t){return{start:e,end:t}}function km(e,t){return br(Ye.fromDom(e),"td,th",t)}function Nm(e){return!I(e.start,e.end)}function _m(e,n){return fl(e.start,n).bind(function(t){return fl(e.end,n).bind(function(e){return I(t,e)?$e.some(t):$e.none()})})}function Am(e){return function(t){return _m(t,e).map(function(e){return{rng:t,table:e,cells:Sm(e)}})}}function Rm(e,t,n,r){var o,i;return n.collapsed||!e.forall(Nm)?$e.none():t.isSameTable?(t=e.bind(Am(r)),$e.some({start:t,end:t})):(e=km(n.startContainer,r),t=km(n.endContainer,r),n=e.bind((i=r,function(t){return fl(t,i).bind(function(e){return ut(Sm(e)).map(function(e){return Em(t,e)})})})).bind(Am(r)),e=t.bind((o=r,function(t){return fl(t,o).bind(function(e){return L(Sm(e)).map(function(e){return Em(e,t)})})})).bind(Am(r)),$e.some({start:n,end:e}))}function Dm(e,t){return T(e,function(e){return I(e,t)})}function Tm(n){return xn(Dm(n.cells,n.rng.start),Dm(n.cells,n.rng.end),function(e,t){return n.cells.slice(e,t+1)})}function Om(e,t){var n=t.startTable,t=t.endTable,r=e.cloneRange();return n.each(function(e){return r.setStartAfter(e.dom)}),t.each(function(e){return r.setEndBefore(e.dom)}),r}function Bm(e){je(e,function(e){An(e,"contenteditable"),Hd(e)})}function Pm(e,t,n,r){var o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),cg(e,o,t,!1)}function Lm(e){var t=ll(e),n=Ye.fromDom(e.selection.getNode());Qn(n.dom)&&$r(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),1<t.length&&Z(t,function(e){return I(e,n)})&&En(n,"data-mce-selected","1")}function Im(i,a,e){var u=i.selection.getRng();return Bm(e.bind(function(e){var t,n,r=e.rng,o=(o=(e=e.isStartInTable)?r.endContainer:r.startContainer,$e.from(i.dom.getParent(o,i.dom.isBlock)).map(Ye.fromDom)),r=(r.deleteContents(),t=i,n=e,o.filter($r).each(function(e){n?Vn(e):(Hd(e),t.selection.setCursorLocation(e.dom,0))}),e?a[0]:a[a.length-1]);return Pm(i,r,u,e),$r(r)?$e.none():$e.some(e?a.slice(1):a.slice(0,-1))}).getOr(a)),Lm(i),!0}function Mm(e,t,n,r){var o=e.selection.getRng(),i=t[0],a=n[n.length-1],o=(Pm(e,i,o,!0),Pm(e,a,o,!1),$r(i)?t:t.slice(1)),i=$r(a)?n:n.slice(0,-1);return Bm(o.concat(i)),r.deleteContents(),Lm(e),!0}function Fm(e,t){return wm(e,!1,t),!0}function Um(e,t){return rt(qd(t,e),Co)}function zm(e,t){return(e?yg:Cg)(t)}function Hm(e,t){var n,v,b,y,f,d,u,m,r=Ye.fromDom(e.selection.getStart(!0)),o=ll(e);return e.selection.isCollapsed()&&0===o.length?(f=e,d=t,u=r,lg(m=Ye.fromDom(f.getBody()),u).fold(function(){return r=f,o=d,i=m,e=u,a=Je.fromRangeStart(r.selection.getRng()),Um(i,e).bind(function(e){return $r(e)?fg(r,e):(t=i,n=e,e=a,wc(o,r.getBody(),e).bind(function(e){return Um(t,Ye.fromDom(e.getNode())).map(function(e){return!1===I(e,n)})}));var t,n}).getOr(!1)||(t=d,n=Je.fromRangeStart((e=f).selection.getRng()),zm(t,n))||wl(t,e.getBody(),n).exists(function(e){return zm(t,e)});var r,o,i,a,e,t,n},function(e){return n=d,r=m,o=Je.fromRangeStart((t=f).selection.getRng()),($r(e)?fg(t,e):(u=r,c=e,l=o,wc(s=n,(a=t).getBody(),l).bind(function(e){return r=s,o=l,i=e,Ul((n=c).dom).bind(function(t){return zl(n.dom).map(function(e){return r?o.isEqual(t)&&i.isEqual(e):o.isEqual(e)&&i.isEqual(t)})}).getOr(!0)?fg(a,c):(t=c,lg(u,Ye.fromDom(e.getNode())).map(function(e){return!1===I(e,t)}));var t,n,r,o,i}).or($e.some(!0)))).getOr(!1);var a,u,s,c,l,t,n,r,o})):(t=r,r=o,e=Ye.fromDom((o=e).getBody()),n=o.selection.getRng(),0!==r.length?Im(o,r,$e.none()):(v=o,y=n,lg(b=e,t).fold(function(){return h=v,g=n=b,n=xn(km((n=r=y).startContainer,p=e),km(n.endContainer,p),Em),s=e,f=t((p=r).startContainer),p=t(p.endContainer),c=f.isSome(),l=p.isSome(),p={startTable:f,endTable:p,isStartInTable:c,isEndInTable:l,isSameTable:f=xn(f,p,I).getOr(!1),isMultiTable:!f&&c&&l},d=r,m=e,(n.exists(function(e){return!Nm(t=e)&&_m(t,m).exists(function(e){return 1===(e=e.dom.rows).length&&1===e[0].cells.length})&&dl(e.start,d);var t})?n.map(function(e){return Rg.singleCellTable(r,e.start)}):p.isMultiTable?Rm(n,a=p,u=r,e).bind(function(e){var t,n=e.start,e=e.end,n=n.bind(Tm).getOr([]),e=e.bind(Tm).getOr([]);return 0<n.length&&0<e.length?(t=Om(u,a),$e.some(Rg.multiTable(n,e,t))):$e.none()}):Rm(n,o=p,i=r,e).bind(function(e){var t=e.start,e=e.end;return t.or(e)}).bind(function(e){var t=o.isSameTable,n=Tm(e).getOr([]);return t&&e.cells.length===n.length?$e.some(Rg.fullTable(e.table)):0<n.length?t?$e.some(Rg.partialTable(n,$e.none())):(e=Om(i,o),$e.some(Rg.partialTable(n,$e.some(We(We({},o),{rng:e}))))):$e.none()})).map(function(e){return e.fold(Fe(cg,h),Fe(Fm,h),Fe(Im,h),Fe(Mm,h))});function e(e){return I(g,e)}function t(e){return fl(Ye.fromDom(e),s)}var n,r,o,i,a,u,s,c,l,f,d,m,g,p,h},function(e){return fg(v,e)}).getOr(!1)))}function jm(e){return e.collapsed?e:(a=Je.fromRangeStart(i=e),u=Je.fromRangeEnd(i),wl(!1,s=i.commonAncestorContainer,u).map(function(e){return!Ps(a,u,s)&&Ps(a,e,s)?(t=a.container(),n=a.offset(),r=e.container(),e=e.offset(),(o=document.createRange()).setStart(t,n),o.setEnd(r,e),o):i;var t,n,r,o}).getOr(i));var i,a,u,s}function Vm(e,t){return(t=e.getParent(t,e.isBlock))&&"LI"===t.nodeName?t:null}function qm(e,t){return e=Je.after(e),(t=bc(t).prev(e))?t.toRange():null}function $m(e,t,n){var r,o,i,a,u,s,c,l,f,d,m,g,p,h=e.selection,v=e.dom,b=(/^ | $/.test(t)&&(b=v,y=h.getRng(),x=t,x=om(b=Ye.fromDom(b.getRoot()),Je.fromRangeStart(y))?x.replace(/^ /,"&nbsp;"):x.replace(/^&nbsp;/," "),t=x=im(b,Je.fromRangeEnd(y))?x.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):x.replace(/&nbsp;(<br( \/)?>)?$/," ")),e.parser),y=n.merge,C=Dd({validate:e.getParam("validate")},e.schema),x='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',w=e.fire("BeforeSetContent",{content:t,format:"html",selection:!0,paste:n.paste});if(w.isDefaultPrevented())e.fire("SetContent",{content:w.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=w.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,x);var S=(A=h.getRng()).startContainer||(A.parentElement?A.parentElement():null);S===(R=e.getBody())&&h.isCollapsed()&&v.isBlock(R.firstChild)&&(S=R.firstChild)&&!e.schema.getShortEndedElements()[S.nodeName]&&v.isEmpty(R.firstChild)&&((A=v.createRng()).setStart(R.firstChild,0),A.setEnd(R.firstChild,0),h.setRng(A)),h.isCollapsed()||(R=(S=e).dom,r=jm(S.selection.getRng()),S.selection.setRng(r),g=r,null!==(o=u=R.getParent(r.startContainer,Tg))&&o===R.getParent(g.endContainer,Tg)&&dl(Ye.fromDom(o),g)?cg(S,r,Ye.fromDom(u)):S.getDoc().execCommand("Delete",!1,null));var E,k,N,_,A,R={context:(B=h.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},D=b.parse(t,R);if(!0===n.paste&&(o=e.schema,r=(g=D).firstChild,g=g.lastChild,r&&"meta"===r.name&&(r=r.next),u=g=g&&"mce_marker"===g.attr("id")?g.prev:g,S=o.getNonEmptyElements(),u&&(u.isEmpty(S)||(S=u,o.getBlockElements()[S.name]&&S.firstChild&&S.firstChild===S.lastChild&&("br"===(u=S.firstChild).name||u.value===So)))&&(g=g.prev),r)&&r===g&&("ul"===r.name||"ol"===r.name)&&Vm(v,B))o=C,i=v,a=h.getRng(),u=D,g=i,o=o.serialize(u),g=(u=g.createFragment(o)).firstChild,o=u.lastChild,g&&"META"===g.nodeName&&g.parentNode.removeChild(g),o&&"mce_marker"===o.id&&o.parentNode.removeChild(o),g=u,p=Vm(i,a.startContainer),g=0<(o=Ve(g.firstChild.childNodes,function(e){return"LI"===e.nodeName})).length&&(!(u=o[o.length-1]).firstChild||u&&u.firstChild&&u.firstChild===u.lastChild&&((u=u.firstChild).data===So||M(u)))?o.slice(0,-1):o,u=i.getRoot(),A=L(1)?(o=u,m=(f=p).parentNode,Xe.each(g,function(e){m.insertBefore(e,f)}),d=Je.before(f),(o=bc(o).next(d))?o.toRange():null):L(2)?(d=p,o=u,i.insertAfter((c=g).reverse(),d),qm(c[0],o)):(d=g,c=u,o=s=p,u=(g=a).cloneRange(),g=g.cloneRange(),u.setStartBefore(o),g.setEndAfter(o),o=[u.cloneContents(),g.cloneContents()],(l=s.parentNode).insertBefore(o[0],s),Xe.each(d,function(e){l.insertBefore(e,s)}),l.insertBefore(o[1],s),l.removeChild(s),qm(d[d.length-1],c)),h.setRng(A),e.fire("SetContent",w);else{for(var T=D;T=T.walk();)1===T.type&&T.attr("data-mce-fragment","1");if("mce_marker"===(O=D.lastChild).attr("id"))for(var I=O,O=O.prev;O;O=O.walk(!0))if(3===O.type||!v.isBlock(O.name)){e.schema.isValidChild(O.parent.name,"span")&&O.parent.insert(I,O,"br"===O.name);break}if(e._selectionOverrides.showBlockCaretContainer(B),R.invalid){e.selection.setContent(x);var B=h.getNode(),P=e.getBody();for(9===B.nodeType?B=O=P:O=B;O!==P;)O=(B=O).parentNode;t=B===P?P.innerHTML:v.getOuterHTML(B),t=C.serialize(b.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return C.serialize(D)}))),B===P?v.setHTML(P,t):v.setOuterHTML(B,t)}else n=e,S=t=C.serialize(D),"all"===(A=B).getAttribute("data-mce-bogus")?A.parentNode.insertBefore(n.dom.createFragment(S),A):(R=A.firstChild,x=A.lastChild,!R||R===x&&"BR"===R.nodeName?n.dom.setHTML(A,S):n.selection.setContent(S));b=y,N=(t=e).schema.getTextInlineElements(),_=t.dom,b&&(E=t.getBody(),k=Ad(_),Xe.each(_.select("*[data-mce-fragment]"),function(e){if(ne(N[e.nodeName.toLowerCase()])&&ot(Ld(_,e),function(e){return!Pd.has(e)}))for(var t=e.parentNode;ne(t)&&t!==E&&!function(n,r,o){function i(e){var t=n.getStyle(r,e),e=n.getStyle(o,e);return Ee(t)&&Ee(e)&&t!==e}var e=Ld(n,r),a=Ld(n,o);return Z(e,function(t){function e(e){return Z(e,function(e){return e===t})}var n;return e(a)||!e(dg)?i(t):(n=Ve(a,function(t){return Z(dg,function(e){return ht(t,e)})}),Z(n,i))})}(_,e,t);t=t.parentNode)if(k.compare(t,e)){_.remove(e,!0);break}})),function(t,e){var n=t.dom,r=t.selection;if(e){r.scrollIntoView(e);var o=Gl(t.getBody(),e);if("false"===n.getContentEditable(o))return n.remove(e),r.select(o);var i,o=n.createRng(),a=e.previousSibling,a=(j(a)?(o.setStart(a,a.nodeValue.length),Ke.ie||(i=e.nextSibling,j(i)&&(a.appendData(i.data),i.parentNode.removeChild(i)))):(o.setStartBefore(e),o.setEndBefore(e)),n.getParent(e,n.isBlock));n.remove(e),a&&n.isEmpty(a)&&(t.$(a).empty(),o.setStart(a,0),o.setEnd(a,0),Tg(a)||a.getAttribute("data-mce-fragment")||!(i=function(e){if(e=Je.fromRangeStart(e),e=bc(t.getBody()).next(e))return e.toRange()}(o))?n.add(a,n.create("br",{"data-mce-bogus":"1"})):(o=i,n.remove(a))),r.setRng(o)}}(e,v.get("mce_marker")),x=e.getBody(),Xe.each(x.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),R=v,A=h.getStart(),$e.from(R.getParent(A,"td,th")).map(Ye.fromDom).each(jd),e.fire("SetContent",w),e.addVisual()}}function L(e){var t=Je.fromRangeStart(a),n=bc(i.getRoot());return!(e=1===e?n.prev(t):n.next(t))||Vm(i,e.getNode())!==p}}function Wm(e){return e instanceof md}function Km(e,t,n){var r;e.dom.setHTML(e.getBody(),t),!0!==n&&Yf(r=e)&&Ul(r.getBody()).each(function(e){var t=bn(t=e.getNode())?Ul(t).getOr(e):e;r.selection.setRng(t.toRange())})}function Xm(e){return y(e)?e:Ue}function Ym(i,a,e){var t=a(i),u=Xm(e);return t.orThunk(function(){if(!u(i))for(var e=a,t=i.dom,n=Xm(u);t.parentNode;){var t=t.parentNode,r=Ye.fromDom(t),o=e(r);if(o.isSome())return o;if(n(r))break}return $e.none()})}function Gm(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o];if(Xc(i)&&!1===i.inherit&&e.dom.is(t,i.selector))return 1}}function Jm(t,e,n,r,o){var i=t.dom.getRoot();return e!==i&&(e=t.dom.getParent(e,function(e){return!!Gm(t,e,n)||e.parentNode===i||!!Pg(t,e,n,r,!0)}),!!Pg(t,e,n,r,o))}function Qm(e,t,n){return!!Bg(t,n.inline)||!!Bg(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)}function Zm(e,t,n,r,o,i){var a=n[r];if(y(n.onmatch))return n.onmatch(t,n,r);if(a)if(v(a.length)){for(var u in a)if(re(a,u)){var s="attributes"===r?e.getAttrib(t,u):qc(e,t,u),c=Hc(a[u],i),l=Y(s)||ke(s);if(!l||!Y(c)){if(o&&l&&!n.exact)return;if((!o||n.exact)&&!Bg(s,Vc(e,c,u)))return}}}else for(var f=0;f<a.length;f++)if("attributes"===r?e.getAttrib(t,a[f]):qc(e,t,a[f]))return 1;return 1}function eg(e,t,n,r,o){var i;return r?Jm(e,r,t,n,o):(r=e.selection.getNode(),!!Jm(e,r,t,n,o)||!((i=e.selection.getStart())===r||!Jm(e,i,t,n,o)))}function tg(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Lg||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length}function ng(e){if(e){var t=new Ar(e,e);for(e=t.current();e;e=t.next())if(j(e))return e}return null}function rg(e){var t=Ye.fromTag("span");return kn(t,{id:Ig,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&jn(t,Ye.fromText(Lg)),t}function og(e,t,n){void 0===n&&(n=!0);var r,o,i,a,u,s=e.dom,c=e.selection;tg(t)?wm(e,!1,Ye.fromDom(t),n):(e=c.getRng(),n=s.getParent(t,s.isBlock),r=e.startContainer,o=e.startOffset,i=e.endContainer,a=e.endOffset,(u=ng(t))&&u.nodeValue.charAt(0)===Lg&&u.deleteData(0,1),s.remove(t,!0),r===u&&0<o&&e.setStart(u,o-1),i===u&&0<a&&e.setEnd(u,a-1),n&&s.isEmpty(n)&&Hd(Ye.fromDom(n)),c.setRng(e))}function ig(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)og(e,t,n);else if(!(t=kc(e.getBody(),o.getStart())))for(;t=r.get(Ig);)og(e,t,!1)}function ag(e,t){return e.appendChild(t),t}function ug(e,t){return e=R(e,function(e,t){return ag(e,t.cloneNode(!1))},t),ag(e,e.ownerDocument.createTextNode(Lg))}function sg(e,t){return e=e.schema.getTextInlineElements(),re(e,$(t))&&!Ec(t.dom)&&!vn(t.dom)}function cg(e,t,n,r){void 0===r&&(r=!0),t.deleteContents();var o,t=Dg(n).getOr(n),i=Ye.fromDom(e.dom.getParent(t.dom,e.dom.isBlock));return $r(i)&&(Hd(i),r)&&e.selection.setCursorLocation(i.dom,0),I(n,i)||je((Cn(Ht(i),n)?[]:Ht(o=i).map(Un).map(function(e){return Ve(e,function(e){return!I(o,e)})}).getOr([])).concat(Un(n)),function(e){I(e,i)||Be(e,i)||!$r(e)||Vn(e)}),!0}function lg(e,t){return rt(qd(t,e),function(e){return Ln(e)&&"caption"===$(e)})}function fg(e,t){return Hd(t),e.selection.setCursorLocation(t.dom,0),$e.some(!0)}je(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],function(e){Pd.add(e)});var dg=["font","text-decoration","text-emphasis"],mg=Fe(Id,!0,Pc),gg=Fe(Id,!1,Pc),pg=Fd(!0,Ud),hg=Fd(!1,Ud),vg=Fd(!0,Zn),bg=Fd(!1,Zn),yg=Fd(!0,bn),Cg=Fd(!1,bn),xg=Fd(!0,zd),wg=Fd(!1,zd),Sg=Fe(Xd,!1),Eg=Fe(Xd,!0),kg=Fe(Kd,!1),Ng=Fe(Kd,!0),_g=Fe(Gd,!1),Ag=Fe(Gd,!0),Rg=ar([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Dg=function(e){var t;return(8===It(t=e)||"#comment"===$(t)?jt:Xt)(e).bind(Dg).orThunk(function(){return $e.some(e)})},Tg=Qn,Og=function(e,t){t(e),e.firstChild&&Og(e.firstChild,t),e.next&&Og(e.next,t)},Bg=jc,Pg=function(e,t,n,r,o){var i=e.formatter.get(n),a=e.dom;if(i&&t)for(var u=0;u<i.length;u++){var s=i[u];if(Qm(e.dom,t,s)&&Zm(a,t,s,"attributes",o,r)&&Zm(a,t,s,"styles",o,r)){var c=s.classes;if(c)for(var l=0;l<c.length;l++)if(!e.dom.hasClass(t,Hc(c[l],r)))return;return s}}},Lg=Eo,Ig="_mce_caret",Mg={},Fg=ue,Ug=ie;function zg(e){return W(e)&&!Bc(e)&&!Ec(e)&&!vn(e)}function Hg(e,t){for(var n=e;n;n=n[t]){if(j(n)&&Ee(n.data))return e;if(W(n)&&!Bc(n))return n}return e}function jg(e,t,n){var r=Ad(e);if(t&&n&&(t=Hg(t,"previousSibling"),n=Hg(n,"nextSibling"),r.compare(t,n))){for(var o=t.nextSibling;o&&o!==n;){var i=o,o=o.nextSibling;t.appendChild(i)}return e.remove(n),Xe.each(Xe.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n}function Vg(e,t,n,r){r&&!1!==t.merge_siblings&&(t=jg(e,Fc(r),r),jg(e,t,Fc(t,!0)))}function qg(t,n){return function(e){return!(!e||!qc(t,e,n))}}function $g(n,r,o){return function(e){var t;n.setStyle(e,r,o),""===e.getAttribute("style")&&e.removeAttribute("style"),t=n,"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)}}function Wg(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)}function Kg(e,t,n){var r,o=t[n?"startContainer":"endContainer"],t=t[n?"startOffset":"endOffset"];return W(o)&&(r=o.childNodes.length-1,!n&&t&&t--,o=o.childNodes[r<t?r:t]),j(o)&&n&&t>=o.nodeValue.length&&(o=new Ar(o,e.getBody()).next()||o),j(o)&&!n&&0===t&&new Ar(o,e.getBody()).prev()||o}function Xg(e,t){var n,t=t?"firstChild":"lastChild";return/^(TR|TH|TD)$/.test(e.nodeName)&&e[t]?(n=e[t],"TR"===e.nodeName&&n[t]||n):e}function Yg(e,t,n,r){return e=e.create(n,r),t.parentNode.insertBefore(e,t),e.appendChild(t),e}function Gg(e,t,n,r,o){return t=Ye.fromDom(t),nn(e=Ye.fromDom(e.create(r,o)),(n?$t:qt)(t)),(n?(Zt(t,e),tn):(en(t,e),jn))(e,t),e.dom}function Jg(e,t,n,r){return Y(t=Fc(t,n,r))||"BR"===t.nodeName||e.isBlock(t)}function Qg(e,r,o,t,i){var n,a=e.dom,u=a,s=t;if(!(Yc(l=r)&&Fp(s,l.inline)||Kc(l)&&Fp(s,l.block)||Xc(l)&&W(s)&&u.is(s,l.selector)||r.links&&"A"===t.nodeName))return Lp.keep();var c,l,f,d,m,g=t;if(Yc(r)&&"all"===r.remove&&Q(r.preserve_attributes)){u=Ve(a.getAttribs(g),function(e){return tt(r.preserve_attributes,e.name.toLowerCase())});if(a.removeAllAttribs(g),je(u,function(e){a.setAttrib(g,e.name,e.value)}),0<u.length)return Lp.rename("span")}if("all"!==r.remove){Mp(r.styles,function(e,t){e=Vc(a,Hc(e,o),t+""),b(t)&&(t=e,i=null),!r.remove_similar&&i&&!Fp(qc(a,i,t),e)||a.setStyle(g,t,""),n=!0}),n&&""===a.getAttrib(g,"style")&&(g.removeAttribute("style"),g.removeAttribute("data-mce-style")),Mp(r.attributes,function(e,t){var n;e=Hc(e,o),b(t)&&(t=e,i=null),!r.remove_similar&&i&&!Fp(a.getAttrib(i,t),e)||("class"===t&&(e=a.getAttrib(g,t))&&(n="",je(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n)?a.setAttrib(g,t,n):(Ip.test(t)&&g.removeAttribute("data-mce-"+t),"style"===t&&gn(["li"])(g)&&"none"===a.getStyle(g,"list-style-type")?(g.removeAttribute(t),a.setStyle(g,"list-style-type","none")):("class"===t&&g.removeAttribute("className"),g.removeAttribute(t))))}),Mp(r.classes,function(e){e=Hc(e,o),i&&!a.hasClass(i,e)||a.removeClass(g,e)});for(var p=a.getAttribs(g),h=0;h<p.length;h++){var v=p[h].nodeName;if(0!==v.indexOf("_")&&0!==v.indexOf("data-"))return Lp.keep()}}return"none"!==r.remove?(s=r,t=(l=g).parentNode,d=(c=e).dom,m=ls(c),Kc(s)&&(m?t!==d.getRoot()||s.list_block&&Fp(l,s.list_block)||je(st(l.childNodes),function(e){zc(c,m,e.nodeName.toLowerCase())?f?f.appendChild(e):(f=Yg(d,e,m),d.setAttribs(f,c.settings.forced_root_block_attrs)):f=null}):d.isBlock(l)&&!d.isBlock(t)&&(Jg(d,l,!1)||Jg(d,l.firstChild,!0,!0)||l.insertBefore(d.create("br"),l.firstChild),Jg(d,l,!0)||Jg(d,l.lastChild,!1,!0)||l.appendChild(d.create("br")))),Xc(u=s)&&Yc(u)&&Cn(qe(u,"mixed"),!0)&&!Fp(s.inline,l)||d.remove(l,!0),Lp.removed()):Lp.keep()}function Zg(t,e,n,r,o){return Qg(t,e,n,r,o).fold(Ue,function(e){return t.dom.rename(r,e),!0},ze)}function ep(y,C,x,e,w){function o(e){var n,r,o=C,i=x,a=w;je(Wc((n=y).dom,e.parentNode).reverse(),function(e){var t;r||"_start"===e.id||"_end"===e.id||(t=Pg(n,e,o,i,a))&&!1!==t.split&&(r=e)});var t,u,s=y,c=S,l=r,f=e,d=E,m=x,g=s.dom;if(l){for(var p=l.parentNode,h=f.parentNode;h&&h!==p;h=h.parentNode){for(var v=g.clone(h,!1),b=0;b<c.length&&null!==(v=function(t,e,n){return Qg(t,e,m,n,n).fold(Ie(n),function(e){return t.dom.createFragment().appendChild(n),t.dom.rename(n,e)},Ie(null))}(s,c[b],v));b++);v&&(t&&v.appendChild(t),u=u||v,t=v)}d.mixed&&g.isBlock(l)||(f=g.split(l,f)),t&&(e.parentNode.insertBefore(t,e),u.appendChild(e),Yc(d))&&Vg(g,d,0,t)}return f}function I(t){return Z(S,function(e){return Zg(y,e,x,t,t)})}function i(e){var t,n=f.get(e?"_start":"_end"),r=n[e?"firstChild":"lastChild"];return Bc(t=r)&&W(t)&&("_start"===t.id||"_end"===t.id)&&(r=r[e?"firstChild":"lastChild"]),j(r)&&0===r.data.length&&(r=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),f.remove(n,!0),r}function t(e){if(e=al(y,e,S,e.collapsed),E.split){if(e=ff(e),(t=Kg(y,e,!0))!==(n=Kg(y,e))){if(t=Xg(t,!0),n=Xg(n,!1),Wg(f,t,n))return r=$e.from(t.firstChild).getOr(t),o(Gg(f,r,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void i(!0);if(Wg(f,n,t))return r=$e.from(n.lastChild).getOr(n),o(Gg(f,r,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void i(!1);var t=Yg(f,t,"span",{id:"_start","data-mce-type":"bookmark"}),n=Yg(f,n,"span",{id:"_end","data-mce-type":"bookmark"}),r=f.createRng();r.setStartAfter(t),r.setEndBefore(n),ul(f,r,function(e){je(e,function(e){Bc(e)||Bc(e.parentNode)||o(e)})}),o(t),o(n),t=i(!0),n=i()}else t=n=o(t);e.startContainer=t.parentNode||t,e.startOffset=f.nodeIndex(t),e.endContainer=n.parentNode||n,e.endOffset=f.nodeIndex(n)+1}ul(f,e,function(e){je(e,U)})}var a,u,M,r,F,n,s,c,S=y.formatter.get(C),E=S[0],l=!0,f=y.dom,d=y.selection,U=function(t){var e=!0,n=!1;W(t)&&f.getContentEditable(t)&&(e=l,l="true"===f.getContentEditable(t),n=!0);var r,o,i=st(t.childNodes);if(l&&!n&&(r=I(t)||Z(S,function(e){return Qm(f,t,e)}),o=t.parentNode,!r)&&ne(o)&&Gc(E)&&I(o),E.deep&&i.length){for(var a=0;a<i.length;a++)U(i[a]);n&&(l=e)}je(["underline","line-through","overline"],function(e){W(t)&&y.dom.getStyle(t,"text-decoration")===e&&t.parentNode&&$c(f,t.parentNode)===e&&Zg(y,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:e}},null,t)})};if(e)Ic(e)?((R=f.createRng()).setStartBefore(e),R.setEndAfter(e),t(R)):t(e);else if("false"!==f.getContentEditable(d.getNode()))if(d.isCollapsed()&&Yc(E)&&!ll(y).length){var m,g,p,h,z,v,b,k=y,N=C,_=x,A=w,R=k.dom,D=k.selection,H=[],T=D.getRng(),O=T.startContainer,B=T.startOffset,P=O;for(3===O.nodeType&&(B!==O.nodeValue.length&&(m=!0),P=P.parentNode);P;){if(Pg(k,P,N,_,A)){g=P;break}P.nextSibling&&(m=!0),H.push(P),P=P.parentNode}g&&(m?(B=D.getBookmark(),T.collapse(!0),O=ff(al(k,T,k.formatter.get(N),!0)),k.formatter.remove(N,_,O,A),D.moveToBookmark(B)):(T=kc(k.getBody(),g),B=O=rg(!1).dom,(v=(h=k.dom).getParent(p=null!==T?T:g,Fe(Uc,k)))&&h.isEmpty(v)||(v=uu(z=Ye.fromDom(p),"br"),b=Ve(function(){for(var e=[],t=z.dom;t;)e.push(Ye.fromDom(t)),t=t.lastChild;return e}().slice(-1),Or),v.length===b.length&&je(b,Vn),h.isEmpty(p))?p.parentNode.replaceChild(B,p):h.insertAfter(B,p),h=O,B=g,u=N,p=_,M=A,n=(a=k).formatter,s=a.dom,c=Ve(he(n.get()),function(e){return e!==u&&!we(e,"removeformat")}),v=0<Ve((r=a,F=B,nt(c,function(e,t){var n=Z(r.formatter.get(t),function(t){function o(e){return 1<e.length&&"%"===e.charAt(0)}return Z(["styles","attributes"],function(e){return qe(t,e).exists(function(e){var n,r;return Z(Q(e)?e:(n=G,r=[],q(e,function(e,t){r.push(n(e,t))}),r),o)})})});return r.formatter.matchNode(F,t,{},n)?e.concat([t]):e},[])),function(e){return o=u,i=["inline","block","selector","attributes","styles","classes"],!Z((r=a).formatter.get(e),function(e){var t=n(e);return Z(r.formatter.get(o),function(e){return e=n(e),V(J).eq(t,e)})});function n(e){return te(e,function(e,t){return Z(i,function(e){return e===t})})}var r,o,i}).length?(c=B.cloneNode(!1),s.add(h,c),n.remove(u,p,c,M),s.remove(c),$e.some(c)):$e.none(),b=ug(H.concat(v.toArray()),O),og(k,T,!1),D.setCursorLocation(b,1),R.isEmpty(g)&&R.remove(g)))}else hl(d,!0,function(){pl(y,t)}),Yc(E)&&eg(y,C,x,d.getStart())&&Mc(f,d,d.getRng()),y.nodeChanged();else{e=d.getNode();for(var L=0;L<S.length&&(!S[L].ceFalseOverride||!Zg(y,S[L],x,e,e));L++);}B=e,y.fire("FormatRemove",{format:C,node:B,vars:x})}function tp(e){return W(e)&&!Bc(e)&&!Ec(e)&&!vn(e)}function np(e){return re(e,"vars")}function rp(t,e,n,r,o){return D(e,function(e){return e=t.formatter.matchNode(e,n,null!=o?o:{},r),!v(e)},function(e){return Gm(t,e,n)||!r&&ne(t.formatter.matchNode(e,n,o,!0))})}function op(e,t){return t=null!=t?t:Op(e),Ve(Wc(e.dom,t),function(e){return W(e)&&!vn(e)})}function ip(e,t){var n=(t||document).createDocumentFragment();return je(e,function(e){n.appendChild(e.dom)}),Ye.fromDom(n)}function ap(e,t,n){return{element:e,width:t,rows:n}}function up(e,t){return{element:e,cells:t}}function sp(e,t){return e=parseInt(Nn(e,t),10),isNaN(e)?1:e}function cp(e){return nt(e,function(e,t){return t.cells.length>e?t.cells.length:e},0)}function lp(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(I(o[i],t))return $e.some({x:i,y:r});return $e.none()}function fp(e,t,n,r,o){for(var i=[],a=e.rows,u=n;u<=o;u++){var s=a[u].cells,s=t<r?s.slice(t,r+1):s.slice(r,t+1);i.push(up(a[u].element,s))}return i}function dp(){return ip([])}function mp(e,t){var n,r,o,i,a,u,s=cl(t,e);return 0<s.length?hr((u=s)[0],"table",Fe(I,e)).bind(function(e){var a,t,g,n=u[0],r=u[u.length-1],e=(g=ap(du(t=e),0,[]),je(uu(t,"tr"),function(d,m){je(uu(d,"td,th"),function(e,t){for(var n=g,r=function(e,t,n){for(;r=t,((o=e.rows)[n]?o[n].cells:[])[r];)t++;var r,o;return t}(g,t,m),o=m,i=d,a=e,u=sp(a,"rowspan"),s=sp(a,"colspan"),c=n.rows,l=o;l<o+u;l++){c[l]||(c[l]=up(mu(i),[]));for(var f=r;f<r+s;f++)c[l].cells[f]=l===o&&f===r?a:du(a)}})}),ap(g.element,cp(g.rows),g.rows)),o=r;return lp(a=e,n).bind(function(i){return lp(a,o).map(function(e){return t=a,o=i.x,n=i.y,r=e.x,o=n<(e=e.y)?fp(t,o,n,r,e):fp(t,o,e,r,n),ap(t.element,cp(o),o);var t,n,r,o})}).map(function(e){return ip([(t=He(e.rows,function(e){var t=He(e.cells,function(e){return An(e=mu(e),"colspan"),An(e,"rowspan"),e});return nn(e=du(e.element),t),e}),e=du(e.element),nn(n=Ye.fromTag("tbody"),t),jn(e,n),e)]);var t,n})}).getOrThunk(dp):(s=e,0<(e=t).length&&e[0].collapsed?dp():(t=s,s=e[0],e=Ye.fromDom(s.cloneContents()),a=nt((a=Ve(t=qd(i=Ye.fromDom(s.commonAncestorContainer),t),function(e){return Tr(e)||go(e)}),o=s,s=rt(r=t,function(e){return"li"===$(e)&&dl(e,o)}).fold(Ie([]),function(e){return rt(r,function(e){return"ul"===$(e)||"ol"===$(e)}).map(function(e){var t,r,n=Ye.fromTag($(e));return t=n,e=te(Tn(e),function(e,t){return ht(t,"list-style")}),r=t.dom,q(e,function(e,t){var n=r;if(!Me(e))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",e,":: Element ",n),new Error("CSS value must be a string: "+e);wn(n)&&n.style.setProperty(t,e)}),[Ye.fromTag("li"),n]}).getOr([])}),t=He(a.concat(s.length?s:bo(n=i)?Ht(n).filter(vo).fold(Ie([]),function(e){return[n,e]}):vo(n)?[n]:[]),du)),function(e,t){return jn(t,e),t},e),0<t.length?ip([a]):a))}function gp(e,t){return 0<=t&&t<e.length&&Pc(e.charAt(t))}function pp(e,t){return e=No(e.innerText),t?e.replace(/^[ \f\n\r\t\v]+/,""):e}function hp(e){return W(e)?e.outerHTML:j(e)?Go.encodeRaw(e.data,!1):Kn(e)?"\x3c!--"+e.data+"--\x3e":""}function vp(t){var e=O((e=t.getBody(),Ve(He(st(e.childNodes),hp),function(e){return 0<e.length})),function(e){return 0<(e=_d(t.serializer,e)).length?[e]:[]}),n=e.join("");return-1!==n.indexOf("</iframe>")?{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:n,bookmark:null,beforeBookmark:null}}function bp(e,t,n){var r,m,g,o,p,h,c,l,i,a,u,n=n?t.beforeBookmark:t.bookmark;function v(e,t,n,r){for(var o=e;o-t<r&&o<n&&m[o]===g[o-t];)++o;return{start:e,end:o,diag:t}}"fragmented"===t.type?(o=t.fragments,r=e.getBody(),i=He(st(r.childNodes),hp),g=o,o=(m=i).length+g.length+2,p=new Array(o),h=new Array(o),l=function(e,t,n,r){var o=t-e,i=r-n;if(0==o||0==i)return null;var a,u,s,c,l,f=o-i,d=((i=i+o)%2==0?i:1+i)/2;for(p[1+d]=e,h[1+d]=t+1,a=0;a<=d;++a){for(u=-a;u<=a;u+=2){for(s=u+d,u===-a||u!==a&&p[s-1]<p[s+1]?p[s]=p[s+1]:p[s]=p[s-1]+1,l=(c=p[s])-e+n-u;c<t&&l<r&&m[c]===g[l];)p[s]=++c,++l;if(f%2!=0&&f-a<=u&&u<=f+a&&h[s-f]<=p[s])return v(h[s-f],u+e-n,t,r)}for(u=f-a;u<=f+a;u+=2){for(s=u+d-f,u===f-a||u!==f+a&&h[s+1]<=h[s-1]?h[s]=h[s+1]-1:h[s]=h[s-1],l=(c=h[s]-1)-e+n-u;e<=c&&n<=l&&m[c]===g[l];)h[s]=c--,l--;if(f%2==0&&-a<=u&&u<=a&&h[s]<=p[s+f])return v(h[s],u+e-n,t,r)}}},(c=function(e,t,n,r,o){var i=l(e,t,n,r);if(null===i||i.start===t&&i.diag===t-r||i.end===e&&i.diag===e-n)for(var a=e,u=n;a<t||u<r;)a<t&&u<r&&m[a]===g[u]?(o.push([0,m[a]]),++a,++u):r-n<t-e?(o.push([2,m[a]]),++a):(o.push([1,g[u]]),++u);else{c(e,i.start,n,i.start-i.diag,o);for(var s=i.start;s<i.end;++s)o.push([0,m[s]]);c(i.end,t,i.end-i.diag,r,o)}})(0,m.length,0,g.length,i=[]),a=r,u=0,je(i,function(e){var t,n,r;0===e[0]?u++:1===e[0]?(t=a,r=e[1],n=u,r=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r}(r),t.hasChildNodes()&&n<t.childNodes.length?(n=t.childNodes[n]).parentNode.insertBefore(r,n):t.appendChild(r),u++):2===e[0]&&(n=u,(t=a).hasChildNodes())&&n<t.childNodes.length&&(r=t.childNodes[n]).parentNode.removeChild(r)})):e.setContent(t.content,{format:"raw",no_selection:!ne(n)||!Nc(n)||!n.isFakeCaret}),e.selection.moveToBookmark(n)}function yp(e){return"fragmented"===e.type?e.fragments.join(""):e.content}function Cp(e){var t=Ye.fromTag("body",jp());return lu(t,yp(e)),je(uu(t,"*[data-mce-bogus]"),on),t.dom.innerHTML}function xp(e,t){return!(!e||!t)&&(n=t,yp(e)===yp(n)||(n=t,Cp(e)===Cp(n)));var n}function wp(e){return 0===e.get()}function Sp(e,t,n){wp(n)&&(e.typing=t)}function Ep(e,t){e.typing&&(Sp(e,!1,t),e.add())}function kp(h){return{undoManager:{beforeChange:function(e,t){var n=h;wp(e)&&t.set(Zs(n.selection))},add:function(e,t,n,r,o,i){var a=h,u=e,s=t,e=n,t=r,n=o,r=i,o=vp(a);if(n=Xe.extend(n=n||{},o),!1===wp(e)||a.removed)return null;if(o=u.data[s.get()],a.fire("BeforeAddUndo",{level:n,lastLevel:o,originalEvent:r}).isDefaultPrevented())return null;if(o&&xp(o,n))return null;if(u.data[s.get()]&&t.get().each(function(e){u.data[s.get()].beforeBookmark=e}),(e=a.getParam("custom_undo_redo_levels",0,"number"))&&u.data.length>e){for(var c=0;c<u.data.length-1;c++)u.data[c]=u.data[c+1];u.data.length--,s.set(u.data.length)}return n.bookmark=Zs(a.selection),s.get()<u.data.length-1&&(u.data.length=s.get()+1),u.data.push(n),s.set(u.data.length-1),t={level:n,lastLevel:o,originalEvent:r},0<s.get()?(a.setDirty(!0),a.fire("AddUndo",t),a.fire("change",t)):a.fire("AddUndo",t),n},undo:function(e,t,n){return r=h,e.typing&&(e.add(),e.typing=!1,Sp(e,!1,t)),0<n.get()&&(n.set(n.get()-1),bp(r,o=e.data[n.get()],!0),r.setDirty(!0),r.fire("Undo",{level:o})),o;var r,o},redo:function(e,t){return n=h,e.get()<t.length-1&&(e.set(e.get()+1),bp(n,r=t[e.get()],!1),n.setDirty(!0),n.fire("Redo",{level:r})),r;var n,r},clear:function(e,t){var n=h;e.data=[],t.set(0),e.typing=!1,n.fire("ClearUndos")},reset:function(e){e.clear(),e.add()},hasUndo:function(e,t){return n=h,0<t.get()||e.typing&&e.data[0]&&!xp(vp(n),e.data[0]);var n},hasRedo:function(e,t){return t.get()<e.data.length-1&&!e.typing},transact:function(e,t,n){return Ep(e,t),e.beforeChange(),e.ignore(n),e.add()},ignore:function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},extra:function(e,t,n,r){var o=h;e.transact(n)&&(n=e.data[t.get()].bookmark,bp(o,e.data[t.get()-1],!0),e.transact(r))&&(e.data[t.get()-1].beforeBookmark=n)}},formatter:{match:function(e,t,n,r){return eg(h,e,t,n,r)},matchAll:function(e,t){return o=e,i=t,a=[],u={},e=(r=h).selection.getStart(),r.dom.getParent(e,function(e){for(var t=0;t<o.length;t++){var n=o[t];!u[n]&&Pg(r,e,n,i)&&(u[n]=!0,a.push(n))}},r.dom.getRoot()),a;var r,o,i,a,u},matchNode:function(e,t,n,r){return Pg(h,e,t,n,r)},canApply:function(e){var t=h,n=t.formatter.get(e),r=t.dom;if(n)for(var o=Wc(r,t.selection.getStart()),i=n.length-1;0<=i;i--){var a=n[i];if(!Xc(a)||ne(a.defaultBlock))return!0;for(var u=o.length-1;0<=u;u--)if(r.is(o[u],a.selector))return!0}return!1},closest:function(e){return n=h,r=e,$e.from(n.selection.getStart(!0)).bind(function(e){return Ym(Ye.fromDom(e),function(t){return U(r,function(e){return Pg(n,t.dom,e)?$e.some(e):$e.none()})},t)}).getOrNull();function t(e){return I(e,Ye.fromDom(n.getBody()))}var n,r},apply:function(e,t,n){return Hp(h,e,t,n)},remove:function(e,t,n,r){return ep(h,e,t,n,r)},toggle:function(e,t,n){var r,o=(r=h).formatter.get(e);(!eg(r,e,t,n)||"toggle"in o[0]&&!o[0].toggle?Hp:ep)(r,e,t,n)},formatChanged:function(e,t,n,r,o){return i=h,u=t,s=n,t=r,n=o,null===(a=e).get()&&(l=i,(c=a).set({}),l.on("NodeChange",function(e){Bp(l,e.element,c.get())}),l.on("FormatApply FormatRemove",function(e){e=$e.from(e.node).map(function(e){return Ic(e)?e:e.startContainer}).bind(function(e){return W(e)?$e.some(e):$e.from(e.parentElement)}).getOrThunk(function(){return Op(l)}),Bp(l,e,c.get())})),f=i,i=u,d=s,m=t,g=n,p=(t=a).get(),je(i.split(","),function(t){function e(){var e=op(f);return rp(f,e,t,m,g).isSome()}var n,r=qe(p,t).getOrThunk(function(){var e={withSimilar:{state:Xa(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Xa(!1),similar:!1,callbacks:[]},withVars:[]};return p[t]=e});v(g)?((n=m?r.withSimilar:r.withoutSimilar).callbacks.push(d),1===n.callbacks.length&&n.state.set(e())):r.withVars.push({state:Xa(e()),similar:m,vars:g,callback:d})}),t.set(p),{unbind:function(){var e,t=u,n=s,r=(e=a).get();je(t.split(","),function(t){qe(r,t).each(function(e){r[t]={withSimilar:We(We({},e.withSimilar),{callbacks:Ve(e.withSimilar.callbacks,function(e){return e!==n})}),withoutSimilar:We(We({},e.withoutSimilar),{callbacks:Ve(e.withoutSimilar.callbacks,function(e){return e!==n})}),withVars:Ve(e.withVars,function(e){return e.callback!==n})}})}),e.set(r)}};var i,a,u,s,c,l,f,d,m,g,p}},editor:{getContent:function(e,t){return i=h,a=e,u=t,$e.from(i.getBody()).fold(Ie("tree"===a.format?new md("body",11):""),function(e){return t=i,n=u,n=We(We({},r=a),{format:n,get:!0,getInner:!0}),o="raw"===(r=r.no_events?n:t.fire("BeforeGetContent",n)).format?Xe.trim(Td(t.serializer,e.innerHTML)):"text"===r.format?t.dom.isEmpty(e)?"":No(e.innerText||e.textContent):"tree"===r.format?t.serializer.serialize(e,r):(o=(n=t).serializer.serialize(e,r),n=ls(n),n=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$"),o.replace(n,"")),tt(["text","tree"],r.format)||xo(Ye.fromDom(e))?r.content=o:r.content=Xe.trim(o),(r.no_events?r:t.fire("GetContent",r)).content;var t,n,r,o});var i,a,u},setContent:function(e,t){return s=h,e=c=e,e=We(We({format:"html"},t=t),{set:!0,content:Wm(e)?"":e}),l=t.no_events?e:s.fire("BeforeSetContent",e),Wm(c)||(c=l.content),$e.from(s.getBody()).fold(Ie(c),function(e){return Wm(c)?(n=e,a=c,i=l,t=(r=s).parser.getNodeFilters(),o=r.parser.getAttributeFilters(),u=a,t=function(e,n){var t,r,o={},i={},a=[];for(t in u.firstChild&&Og(u.firstChild,function(t){je(e,function(e){e.name===t.name&&(o[e.name]?o[e.name].nodes.push(t):o[e.name]={filter:e,nodes:[t]})}),je(n,function(e){"string"==typeof t.attr(e.name)&&(i[e.name]?i[e.name].nodes.push(t):i[e.name]={filter:e,nodes:[t]})})}),o)re(o,t)&&a.push(o[t]);for(r in i)re(i,r)&&a.push(i[r]);return a}(t,o),je(t,function(t){je(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})}),o=Dd({validate:r.validate},r.schema).serialize(a),i.content=xo(Ye.fromDom(n))?o:Xe.trim(o),Km(r,i.content,i.no_selection),i.no_events||r.fire("SetContent",i),a):(t=s,n=e,o=l,0===(r=c).length||/^\s+$/.test(r)?(i='<br data-mce-bogus="1">',"TABLE"===n.nodeName?r="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(r="<li>"+i+"</li>"),r=(a=ls(t))&&t.schema.isValidChild(n.nodeName.toLowerCase(),a.toLowerCase())?(r=i,t.dom.createHTML(a,fs(t),r)):r||'<br data-mce-bogus="1">',Km(t,r,o.no_selection),t.fire("SetContent",o)):("raw"!==o.format&&(r=Dd({validate:t.validate},t.schema).serialize(t.parser.parse(r,{isRootContent:!0,insert:!0}))),o.content=xo(Ye.fromDom(n))?r:Xe.trim(r),Km(t,o.content,o.no_selection),o.no_events||t.fire("SetContent",o)),o.content);var u,t,n,r,o,i,a});var s,c,l},insertContent:function(e,t){return $m(h,e,t)},addVisual:function(e){var r,o=(r=h).dom,t=ne(e)?e:r.getBody();v(r.hasVisual)&&(r.hasVisual=r.getParam("visual",!0,"boolean")),je(o.select("table,a",t),function(e){switch(e.nodeName){case"TABLE":var t=r.getParam("visual_table_class","mce-item-table","string"),n=o.getAttrib(e,"border");n&&"0"!==n||!r.hasVisual?o.removeClass(e,t):o.addClass(e,t);break;case"A":o.getAttrib(e,"href")||(n=o.getAttrib(e,"name")||e.id,t=r.getParam("visual_anchor_class","mce-item-anchor","string"),n&&r.hasVisual?o.addClass(e,t):o.removeClass(e,t))}}),r.fire("VisualAid",{element:e,hasVisual:r.hasVisual})}},selection:{getContent:function(e,t){var n=h,e=We(We({},void 0===t?{}:t),{format:e,get:!0,selection:!0});if((e=n.fire("BeforeGetContent",e)).isDefaultPrevented())return n.fire("GetContent",e),e.content;if("text"===e.format)return a=n,$e.from(a.selection.getRng()).map(function(e){var t=$e.from(a.dom.getParent(e.commonAncestorContainer,a.dom.isBlock)),n=a.getBody(),r=t.map(function(e){return e.nodeName}).getOr("div").toLowerCase(),o=Ke.browser.isIE()&&"pre"!==r,e=pp(r=a.dom.add(n,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),o),i=No(r.textContent);return a.dom.remove(r),!gp(i,0)&&!gp(i,i.length-1)||-1===(i=(r=pp(t.getOr(n),o)).indexOf(e))?e:(gp(r,i-1)?" ":"")+e+(gp(r,i+e.length)?" ":"")}).getOr("");e.getInner=!0,t=e,u=(r=n).selection.getRng(),o=r.dom.create("body"),i=r.selection.getSel(),i=ed(r,sl(i)),(i=t.contextual?mp(Ye.fromDom(r.getBody()),i).dom:u.cloneContents())&&o.appendChild(i);var r,o,i,a,u=r.selection.serializer.serialize(o,t);return"tree"===e.format?u:(e.content=n.selection.isCollapsed()?"":u,n.fire("GetContent",e),e.content)}},raw:{getModel:function(){return $e.none()}}}}function Np(e){return re(e.plugins,"rtc")}function _p(e){return e.rtcInstance||kp(e)}function w(e){if(e=e.rtcInstance)return e;throw new Error("Failed to get RTC instance not yet initialized.")}function Ap(e){return 0===e.dom.length?(Vn(e),$e.none()):$e.some(e)}function Rp(e,t,a,u){e.bind(function(i){return(u?dm:fm)(i.dom,u?i.dom.length:0),t.filter(In).map(function(e){var t=a,n=u,r=i.dom,e=e.dom,o=(n?r:e).length;n?(mm(r,e,!1,!n),t.setStart(e,o)):(mm(e,r,!1,!n),t.setEnd(e,o))})}).orThunk(function(){var e=u;return t.filter(function(e){return Cl.isBookmarkNode(e.dom)}).bind(e?Vt:jt).or(t).filter(In).map(function(e){var n,r=u;Ht(n=e).each(function(e){var t=n.dom;r&&om(e,Je(t,0))?fm(t,0):!r&&im(e,Je(t,t.length))&&dm(t,t.length)})})})}function Dp(e,t,n){var r;e&&re(e,t)&&(0===(r=Ve(e[t],function(e){return e!==n})).length?delete e[t]:e[t]=r)}function Tp(e,t,n){Pp(e.childNodes,function(e){zg(e)&&(t(e)&&n(e),e.hasChildNodes())&&Tp(e,t,n)})}function Op(e){return e.selection.getStart()}function Bp(i,a,e){var u=op(i,a);q(e,function(e,o){function t(e){var t,n=rp(i,u,o,e.similar,np(e)?e.vars:void 0),r=n.isSome();e.state.get()!==r&&(e.state.set(r),t=n.getOr(a),np(e)?e.callback(r,{node:t,format:o,parents:u}):je(e.callbacks,function(e){e(r,{node:t,format:o,parents:u})}))}je([e.withSimilar,e.withoutSimilar],t),je(e.withVars,t)})}Tt=function(e){var t,n=e.selection.getRng(),r=gn(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),Ug(Fg(Fg(t,r),function(e){return r(e.previousSibling)&&-1!==se(t,e.previousSibling)}),function(e){var t=e.previousSibling;X(e).remove(),X(t).append("<br><br>").append(e.childNodes)}))},Mg.pre||(Mg.pre=[]),Mg.pre.push(Tt);var Pp=Xe.each,Lp=ar([{keep:[]},{rename:["name"]},{removed:[]}]),Ip=/^(src|href|style)$/,Mp=Xe.each,Fp=jc,Up=Xe.each,zp=Xe.each,Hp=function(w,S,E,r){function k(n,e){var t;y((e=void 0===e?A:e).onformat)&&e.onformat(n,e,E,r),zp(e.styles,function(e,t){g.setStyle(n,t,Hc(e,E))}),e.styles&&(t=g.getAttrib(n,"style"))&&g.setAttrib(n,"data-mce-style",t),zp(e.attributes,function(e,t){g.setAttrib(n,t,Hc(e,E))}),zp(e.classes,function(e){e=Hc(e,E),g.hasClass(n,e)||g.addClass(n,e)})}function N(e,t){var n=!1;return zp(e,function(e){return!!Xc(e)&&(ne(e.collapsed)&&e.collapsed!==m||!g.is(t,e.selector)||Ec(t)?void 0:(k(t,e),!(n=!0)))}),n}function n(h,e,v){var t,b=[],y=!0,C=A.inline||A.block,x=Me(t=C)?(k(t=g.create(t)),t):null;ul(h,e,function(e){var g,p=function(e){var t,n,r,o,i,a,u,s=!1,c=y,l=e.nodeName.toLowerCase(),f=e.parentNode,d=f.nodeName.toLowerCase();if(W(e)&&h.getContentEditable(e)&&(c=y,y="true"===h.getContentEditable(e),s=!0),!M(e)||(n=A,r=e,o=d,(t=w).getParam("format_empty_lines",!1,"boolean")&&Yc(n)&&(n=eo(t.schema),t=Ye.fromDom(r),u=function(e){return Ec(e.dom)},t=((t=(a=t).dom).parentNode?(t=Ye.fromDom(t.parentNode),i=function(e){return!I(a,e)&&u(e)},rt(t.dom.childNodes,function(e){return i(Ye.fromDom(e))}).map(Ye.fromDom)):$e.none()).isSome(),oe(n,o))&&$r(Ye.fromDom(r.parentNode),!1)&&!t))if(Kc(A)&&A.wrapper&&Pg(w,e,S,E))g=null;else if(y&&!s&&Kc(A)&&!A.wrapper&&Uc(w,l)&&zc(w,d,C))k(m=h.rename(e,C)),b.push(m),g=null;else{if(Xc(A)){var m=N(_,e);if(!m&&ne(f)&&Gc(A)&&(m=N(_,f)),!Yc(A)||m)return void(g=null)}!y||s||!zc(w,C,l)||!zc(w,d,C)||!v&&j(e)&&ko(e.data)||Ec(e)||Yc(A)&&h.isBlock(e)?(g=null,je(st(e.childNodes),p),s&&(y=c),g=null):(g||(g=h.clone(x,!1),e.parentNode.insertBefore(g,e),b.push(g)),g.appendChild(e))}else g=null,Kc(A)&&h.remove(e)};je(e,p)}),!0===A.links&&je(b,function(e){var t=function(e){"A"===e.nodeName&&k(e,A),je(st(e.childNodes),t)};t(e)}),je(b,function(e){n=0,je(e.childNodes,function(e){var t;ne(t=e)&&j(t)&&0===t.length||Bc(e)||n++});var n,t,r,o,i,a,u,s,c,l,f,d,m,g=n;function p(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=$c(c,e.parentNode),c.getStyle(e,"color")&&t?c.setStyle(e,"text-decoration",t):c.getStyle(e,"text-decoration")===t&&c.setStyle(e,"text-decoration",null))}!(1<b.length)&&h.isBlock(e)||0!==g?(Yc(A)||Kc(A)&&A.wrapper)&&(A.exact||1!==g||(e=rt((s=e).childNodes,tp).filter(function(e){return Qm(h,e,A)}).map(function(e){var t=h.clone(e,!1);return k(t),h.replace(t,s,!0),h.remove(e,!0),t}).getOr(s)),f=w,d=E,m=e,Up(_,function(t){var r,e,n;Yc(t)&&Up(f.dom.select(t.inline,m),function(e){zg(e)&&Zg(f,t,d,e,t.exact?e:null)}),r=f.dom,(e=t).clear_child_styles&&(n=e.links?"*:not(a)":"*",Pp(r.select(n,m),function(n){zg(n)&&Pp(e.styles,function(e,t){r.setStyle(n,t,"")})}))}),o=A,Pg(r=w,(u=e).parentNode,i=S,a=E)&&Zg(r,o,a,u)||o.merge_with_parents&&r.dom.getParent(u.parentNode,function(e){if(Pg(r,e,i,a))return Zg(r,o,a,u),!0}),g=e,(l=A).styles&&l.styles.backgroundColor&&Tp(g,qg(h,"fontSize"),$g(h,"backgroundColor",Hc(l.styles.backgroundColor,E))),c=h,g=e,(l=A).styles&&(l.styles.color||l.styles.textDecoration)&&(Xe.walk(g,p,"childNodes"),p(g)),l=h,g=e,!Yc(t=A)||"sub"!==t.inline&&"sup"!==t.inline||(Tp(g,qg(l,"fontSize"),$g(l,"fontSize","")),l.remove(l.select("sup"===t.inline?"sub":"sup",g),!0)),Vg(h,A,0,e)):h.remove(e,!0)})}var t,e,o,i,a,u,s,c,l,f,d,_=w.formatter.get(S),A=_[0],m=!r&&w.selection.isCollapsed(),g=w.dom,p=w.selection;if("false"!==g.getContentEditable(p.getNode()))A&&(r?Ic(r)?N(_,r)||((o=g.createRng()).setStartBefore(r),o.setEndAfter(r),n(g,al(w,o,_),!0)):n(g,r,!0):m&&Yc(A)&&!ll(w).length?(o=S,i=E,s=(d=(u=(e=w).selection).getRng()).startOffset,c=d.startContainer.nodeValue,(l=kc(e.getBody(),u.getStart()))&&(a=ng(l)),f=/[^\s\u00a0\u00ad\u200b\ufeff]/,c&&0<s&&s<c.length&&f.test(c.charAt(s))&&f.test(c.charAt(s-1))?(f=u.getBookmark(),d.collapse(!0),c=ff(al(e,d,e.formatter.get(o))),e.formatter.apply(o,i,c),u.moveToBookmark(f)):(l&&a.nodeValue===Lg||(c=e.getDoc(),f=rg(!0).dom,a=(l=c.importNode(f,!0)).firstChild,d.insertNode(l),s=1),e.formatter.apply(o,i,l),u.setCursorLocation(a,s))):(c=p.getNode(),f=_[0],w.settings.forced_root_block||!f.defaultBlock||g.getParent(c,g.isBlock)||Hp(w,f.defaultBlock),p.setRng(jm(p.getRng())),hl(p,!0,function(){pl(w,function(e,t){t=t?e:al(w,e,_),n(g,t,!1)})}),Mc(g,p,p.getRng()),w.nodeChanged()),t=w,Ug(Mg[S],function(e){e(t)}));else{r=p.getNode();for(var h=0,v=_.length;h<v;h++){var b=_[h];if(b.ceFalseOverride&&Xc(b)&&g.is(r,b.selector)){k(r,b);break}}}d=r,w.fire("FormatApply",{format:S,node:d,vars:E})},jp=Ce(function(){return document.implementation.createHTMLDocument("undo")});function Vp(e){return e.select}function qp(e){return e&&e.ownerDocument&&Be(Ye.fromDom(e.ownerDocument),Ye.fromDom(e))}function $p(s,i,e,c){function t(e,t){var n=c;if(e=t=We(We({format:"html"},t=void 0===t?{}:t),{set:!0,selection:!0,content:e}),!t.no_events){if((t=n.fire("BeforeSetContent",t)).isDefaultPrevented())return void n.fire("SetContent",t);e=t}e.content=(t=n,"raw"===(o=e).format?o.content:(i=t.selection.getRng(),i=(i=t.dom.getParent(i.commonAncestorContainer,t.dom.isBlock))?{context:i.nodeName.toLowerCase()}:{},i=t.parser.parse(o.content,We(We({isRootContent:!0,forced_root_block:!1},i),o)),Dd({validate:t.validate},t.schema).serialize(i)));var r,o=n.selection.getRng(),i=(t=o).createContextualFragment(e.content),a=$e.from(i.firstChild).map(Ye.fromDom),u=$e.from(i.lastChild).map(Ye.fromDom);t.deleteContents(),t.insertNode(i),i=a.bind(jt).filter(In).bind(Ap),r=u.bind(Vt).filter(In).bind(Ap),Rp(i,a,t,!0),Rp(r,u,t,!1),t.collapse(!1),n.selection.setRng(o),Of(n,o),e.no_events||n.fire("SetContent",e)}function n(){var e,t=a(),n=null==t?void 0:t.anchorNode,r=null==t?void 0:t.focusNode;return!(t&&n&&r&&!mn(n)&&!mn(r))||((e=s.createRng()).setStart(n,t.anchorOffset),e.collapse(!0),(n=s.createRng()).setStart(r,t.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)}function r(e){var t=l();t.collapse(!!e),u(t)}function a(){return i.getSelection?i.getSelection():i.document.selection}function o(e,t){return p||(p={},h={},g.on("NodeChange",function(e){var n=e.element,r=x(n),o={};Xe.each(p,function(e,n){C(n,r).each(function(t){h[n]||(je(e,function(e){e(!0,{node:t,selector:n,parents:r})}),h[n]=e),o[n]=e})}),Xe.each(h,function(e,t){o[t]||(delete h[t],Xe.each(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),p[e]||(p[e]=[]),p[e].push(t),C(e,x(g.selection.getStart())).each(function(){h[e]=p[e]}),{unbind:function(){Dp(p,e,t),Dp(h,e,t)}}}function l(){function e(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}var t,n,r=i.document;if(void 0!==c.bookmark&&!1===Yf(c)){var o=Vf(c);if(o.isSome())return o.map(function(e){return ed(c,[e])[0]}).getOr(r.createRange())}try{(t=a())&&!mn(t.anchorNode)&&(n=0<t.rangeCount?t.getRangeAt(0):(t.createRange?t:r).createRange(),n=ed(c,[n])[0])}catch(e){}return(n=n||(r.createRange?r.createRange():r.body.createTextRange())).setStart&&9===n.startContainer.nodeType&&n.collapsed&&(o=s.getRoot(),n.setStart(o,0),n.setEnd(o,0)),f&&d&&(0===e(n.START_TO_START,n,f)&&0===e(n.END_TO_END,n,f)?n=d:d=f=null),n}function u(e,t){var n;if((r=e)&&(Vp(r)||qp(r.startContainer)&&qp(r.endContainer))){var r=Vp(e)?e:null;if(r){d=null;try{r.select()}catch(e){}}else{if(r=a(),e=c.fire("SetSelectionRange",{range:e,forward:t}).range,r){d=e;try{r.removeAllRanges(),r.addRange(e)}catch(e){}!1===t&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),f=0<r.rangeCount?r.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!r.setBaseAndExtent||Ke.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),r.anchorNode===e.startContainer&&r.focusNode===e.endContainer||r.setBaseAndExtent(n,0,n,1)),c.fire("AfterSetSelectionRange",{range:e,forward:t})}}}var f,d,m,g,p,h,v={bookmarkManager:null,controlSelection:null,dom:m=s,win:i,serializer:e,editor:g=c,collapse:r,setCursorLocation:function(e,t){var n=s.createRng();ne(e)&&ne(t)?(n.setStart(e,t),n.setEnd(e,t),u(n),r(!1)):(ml(s,n,c.getBody(),!0),u(n))},getContent:function(e){return t=(e=void 0===e?{}:e).format||"html",w(c).selection.getContent(t,e);var t},setContent:t,getBookmark:function(e,t){return b.getBookmark(e,t)},moveToBookmark:function(e){return b.moveToBookmark(e)},select:function(e,t){var r=s,o=t;return $e.from(e).map(function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(ml(r,n,e,!0),ml(r,n,e,!1)),n}).each(u),e},isCollapsed:function(){var e=l(),t=a();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:n,setNode:function(e){return t(s.getOuterHTML(e)),e},getNode:function(){return e=c.getBody(),(t=l())?(n=t.startContainer,r=t.endContainer,o=t.startOffset,i=t.endOffset,a=t.commonAncestorContainer,!t.collapsed&&(n===r&&i-o<2&&n.hasChildNodes()&&(a=n.childNodes[o]),3===n.nodeType)&&3===r.nodeType&&(n=n.length===o?Zf(n.nextSibling,!0):n.parentNode,r=0===i?Zf(r.previousSibling,!1):r.parentNode,n)&&n===r?n:a&&3===a.nodeType?a.parentNode:a):e;var e,t,n,r,o,i,a},getSel:a,setRng:u,getRng:l,getStart:function(e){return Jf(c.getBody(),l(),e)},getEnd:function(e){return Qf(c.getBody(),l(),e)},getSelectedBlocks:function(e,t){var n=s,r=l(),o=t,i=[],t=n.getRoot();if(e=n.getParent(e||Jf(t,r,r.collapsed),n.isBlock),o=n.getParent(o||Qf(t,r,r.collapsed),n.isBlock),e&&e!==t&&i.push(e),e&&o&&e!==o)for(var a,u=new Ar(e,t);(a=u.next())&&a!==o;)n.isBlock(a)&&i.push(a);return o&&e!==o&&o!==t&&i.push(o),i},normalize:function(){var e,t=l();return 1<sl(a()).length||!gl(c)?t:((e=cf(s,t)).each(function(e){u(e,n())}),e.getOr(t))},selectorChanged:function(e,t){return o(e,t),v},selectorChangedWithUnbind:o,getScrollContainer:function(){for(var e,t=s.getRoot();t&&"BODY"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){ne(e)?(c.inline?Rf:Tf)(c,e,t):Of(c,l(),t)},placeCaretAt:function(e,t){return u(tf(e,t,c.getDoc()))},getBoundingClientRect:function(){var e=l();return e.collapsed?Je.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){i=f=d=null,y.destroy()}},b=Cl(v),y=Zl(v,c);function C(t,e){return rt(e,function(e){return m.is(e,t)})}function x(e){return m.getParents(e,null,m.getRoot())}return v.bookmarkManager=b,v.controlSelection=y,v}function Wp(e){var t,e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]);return{type:t=n?n[1]:t,data:e[1]}}function Kp(e,t){var n;try{n=atob(t)}catch(e){return $e.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return $e.some(new Blob([r],{type:e}))}function Xp(e){return 0===e.indexOf("blob:")?(o=e,new kr(function(e,t){function n(){t("Cannot convert "+o+" to Blob. Resource might not exist or is inaccessible.")}try{var r=new XMLHttpRequest;r.open("GET",o,!0),r.responseType="blob",r.onload=function(){200===r.status?e(r.response):n()},r.onerror=n,r.send()}catch(e){n()}})):0===e.indexOf("data:")?(n=e,new kr(function(e){var t=Wp(n);Kp(t.type,t.data).fold(function(){return e(new Blob([]))},e)})):null;var o,n}function Yp(e){return(e||"blobid")+gh++}function Gp(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new md("br",1)).shortEnded=!0:r.empty().append(new md("#text",3)).value=So}function Jp(t,e,n,r){return r.isEmpty(e,n,function(e){return(e=t.getElementRule(e.name))&&e.paddEmpty})}function Qp(Y,G){void 0===G&&(G=no());var J={},Q=[],Z={},ee={};function te(e){var t=e.name;t in J&&((r=Z[t])?r.push(e):Z[t]=[e]);for(var n=Q.length;n--;){var r,o=Q[n].name;o in e.attributes.map&&((r=ee[o])?r.push(e):ee[o]=[e])}return e}(Y=Y||{}).validate=!("validate"in Y)||Y.validate,Y.root_name=Y.root_name||"body";var e,n,t,a,u,r,o,g,i,s,p,c={schema:G,addAttributeFilter:function(e,n){hh(vh(e),function(e){for(var t=0;t<Q.length;t++)if(Q[t].name===e)return void Q[t].callbacks.push(n);Q.push({name:e,callbacks:[n]})})},getAttributeFilters:function(){return[].concat(Q)},addNodeFilter:function(e,n){hh(vh(e),function(e){var t=J[e];t||(J[e]=t=[]),t.push(n)})},getNodeFilters:function(){var e,t=[];for(e in J)re(J,e)&&t.push({name:e,callbacks:J[e]});return t},filterNode:te,parse:function(I,a){var e,t,n,r,o,u,i,s,c=[];function l(e){for(var t=G.getBlockElements(),n=e.prev;n&&3===n.type;){var r=n.value.replace(y,"");if(0<r.length)return n.value=r;if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!t[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}r=n.prev,n.remove(),n=r}}function f(e,t){var n,t=new md(e,t);return e in J&&((n=Z[e])?n.push(t):Z[e]=[t]),t}a=a||{},Z={},ee={};var d=bh(ph("script,style,head,html,body,title,meta,param"),G.getBlockElements()),M=eo(G),m=G.getNonEmptyElements(),g=G.children,p=Y.validate,h=!1===(x=("forced_root_block"in a?a:Y).forced_root_block)?"":!0===x?"p":x,v=G.getWhiteSpaceElements(),b=/^[ \t\r\n]+/,y=/[ \t\r\n]+$/,F=/[ \t\r\n]+/g,U=/^[ \t\r\n]+$/,C=re(v,a.context)||re(v,Y.root_name),x=Ed({validate:p,document:Y.document,allow_html_data_urls:Y.allow_html_data_urls,allow_svg_data_urls:Y.allow_svg_data_urls,allow_script_urls:Y.allow_script_urls,allow_conditional_comments:Y.allow_conditional_comments,preserve_cdata:Y.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(G.getSelfClosingElements()),cdata:function(e){s.append(f("#cdata",4)).value=e},text:function(e,t){var n;C||(e=e.replace(F," "),(n=s.lastChild)&&(re(d,n.name)||"br"===n.name)&&(e=e.replace(b,""))),0!==e.length&&((n=f("#text",3)).raw=!!t,s.append(n).value=e)},comment:function(e){s.append(f("#comment",8)).value=e},pi:function(e,t){s.append(f(e,7)).value=t,l(s)},doctype:function(e){s.append(f("#doctype",10)).value=e,l(s)},start:function(e,t,n){if(r=p?G.getElementRule(e):{}){var r,o=f(r.outputName||e,1);o.attributes=t,o.shortEnded=n,s.append(o),(r=g[s.name])&&g[o.name]&&!r[o.name]&&c.push(o);for(var i=Q.length;i--;){var a=Q[i].name;a in t.map&&((u=ee[a])?u.push(o):ee[a]=[o])}d[e]&&l(o),n||(s=o),!C&&v[e]&&(C=!0)}},end:function(e){var t,n,r,o=p?G.getElementRule(e):{};if(o){if(d[e]&&!C){if((t=s.firstChild)&&3===t.type)if(0<(n=t.value.replace(b,"")).length)t.value=n,t=t.next;else for(r=t.next,t.remove(),t=r;t&&3===t.type;)n=t.value,r=t.next,0!==n.length&&!U.test(n)||(t.remove(),t=r),t=r;if((t=s.lastChild)&&3===t.type)if(0<(n=t.value.replace(y,"")).length)t.value=n,t=t.prev;else for(r=t.prev,t.remove(),t=r;t&&3===t.type;)n=t.value,r=t.prev,0!==n.length&&!U.test(n)||(t.remove(),t=r),t=r}C&&v[e]&&(C=!1);var e=Jp(G,m,v,s),i=s.parent;o.paddInEmptyBlock&&e&&function(){for(var e=s;ne(e);){if(e.name in M)return Jp(G,m,v,e);e=e.parent}}()?Gp(Y,a,d,s):o.removeEmpty&&e?d[s.name]?s.empty().remove():s.unwrap():o.paddEmpty&&(fh(o=s,"#text")&&o.firstChild.value===So||e)&&Gp(Y,a,d,s),s=i}}},G),w=s=new md(a.context||Y.root_name,11);if(x.parse(I,a.format),p&&c.length)if(a.context)a.invalid=!0;else for(var z=c,H=ph("tr,td,th,tbody,thead,tfoot,table"),j=G.getNonEmptyElements(),V=G.getWhiteSpaceElements(),q=G.getTextBlockElements(),$=G.getSpecialElements(),S=function(e,t){if(void 0===t&&(t=e.parent),$[e.name])e.empty().remove();else{for(var n=0,r=e.children();n<r.length;n++){var o=r[n];G.isValidChild(t.name,o.name)||S(o,t)}e.unwrap()}},E=0;E<z.length;E++){var k,N=z[E],_=void 0,A=void 0;if(N.parent&&!N.fixed)if(q[N.name]&&"li"===N.parent.name){for(var R=N.next;R&&q[R.name];)R.name="li",R.fixed=!0,N.parent.insert(R,N.parent),R=R.next;N.unwrap()}else{for(var D=[N],_=N.parent;_&&!G.isValidChild(_.name,N.name)&&!H[_.name];_=_.parent)D.push(_);if(_&&1<D.length)if(G.isValidChild(_.name,N.name)){D.reverse();for(var T=k=te(D[0].clone()),O=0;O<D.length-1;O++){G.isValidChild(T.name,D[O].name)?(A=te(D[O].clone()),T.append(A)):A=T;for(var B=D[O].firstChild;B&&B!==D[O+1];){var W=B.next;A.append(B),B=W}T=A}Jp(G,j,V,k)?_.insert(N,D[0],!0):(_.insert(k,D[0],!0),_.insert(N,k)),(Jp(G,j,V,_=D[0])||fh(_,"br"))&&_.empty().remove()}else S(N);else N.parent&&("li"!==N.name?G.isValidChild(N.parent.name,"div")&&G.isValidChild("div",N.name)?N.wrap(te(new md("div",1))):S(N):!(R=N.prev)||"ul"!==R.name&&"ol"!==R.name?!(R=N.next)||"ul"!==R.name&&"ol"!==R.name?N.wrap(te(new md("ul",1))):R.insert(N,R.firstChild,!0):R.append(N))}}if(h&&("body"===w.name||a.isRootContent)){function K(e){e&&((P=e.firstChild)&&3===P.type&&(P.value=P.value.replace(b,"")),P=e.lastChild)&&3===P.type&&(P.value=P.value.replace(y,""))}var P=w.firstChild,L=null;if(G.isValidChild(w.name,h.toLowerCase())){for(;P;){var X=P.next;3===P.type||1===P.type&&"p"!==P.name&&!d[P.name]&&!P.attr("data-mce-type")?(L||((L=f(h,1)).attr(Y.forced_root_block_attrs),w.insert(L,P)),L.append(P)):(K(L),L=null),P=X}K(L)}}if(!a.invalid){for(i in Z)if(re(Z,i)){for(u=J[i],r=(e=Z[i]).length;r--;)e[r].parent||e.splice(r,1);for(t=0,n=u.length;t<n;t++)u[t](e,i,a)}for(t=0,n=Q.length;t<n;t++)if((u=Q[t]).name in ee){for(r=(e=ee[u.name]).length;r--;)e[r].parent||e.splice(r,1);for(r=0,o=u.callbacks.length;r<o;r++)u.callbacks[r](e,u.name,a)}}return w}};return g=Y,p=(o=c).schema,g.remove_trailing_brs&&o.addNodeFilter("br",function(e,t,n){var r,o,i,a,u,s,c,l=e.length,f=Xe.extend({},p.getBlockElements()),d=p.getNonEmptyElements(),m=p.getWhiteSpaceElements();for(f.body=1,r=0;r<l;r++)if(i=(o=e[r]).parent,f[o.parent.name]&&o===i.lastChild){for(u=o.prev;u;){if("span"!==(s=u.name)||"bookmark"!==u.attr("data-mce-type")){"br"===s&&(o=null);break}u=u.prev}o&&(o.remove(),Jp(p,d,m,i))&&(c=p.getElementRule(i.name))&&(c.removeEmpty?i.remove():c.paddEmpty&&Gp(g,n,f,i))}else{for(a=o;i&&i.firstChild===a&&i.lastChild===a&&!f[(a=i).name];)i=i.parent;a===i&&!0!==g.padd_empty_with_br&&((c=new md("#text",3)).value=So,o.replace(c))}}),o.addAttributeFilter("href",function(e){var t,n=e.length;if(!g.allow_unsafe_link_target)for(;n--;){var r=e[n];"a"===r.name&&"_blank"===r.attr("target")&&r.attr("rel",(t=void 0,t=(r=r.attr("rel"))?Xe.trim(r):"",/\b(noopener)\b/g.test(t)?t:t.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")))}}),g.allow_html_in_named_anchor||o.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href"))for(r=o.parent,t=o.lastChild;n=t.prev,r.insert(t,o),t=n;);}),g.fix_list_elements&&o.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)"ul"!==(n=(t=e[r]).parent).name&&"ol"!==n.name||(t.prev&&"li"===t.prev.name?t.prev.append(t):((n=new md("li",1)).attr("style","list-style-type: none"),t.wrap(n)))}),g.validate&&p.getValidClasses()&&o.addAttributeFilter("class",function(e){for(var t=p.getValidClasses(),n=e.length;n--;){for(var r=e[n],o=r.attr("class").split(" "),i="",a=0;a<o.length;a++){var u=o[a],s=!1,c=t["*"];c&&c[u]&&(s=!0),c=t[r.name],(s=!(s||!c||!c[u])||s)&&(i&&(i+=" "),i+=u)}i.length||(i=null),r.attr("class",i)}}),(s=(i=g).blob_cache)&&o.addAttributeFilter("src",function(e){return je(e,l)}),Y.inline_styles&&(o=c,e=Y,r=oo(),e.convert_fonts_to_spans&&(t=o,a=r,u=Xe.explode(e.font_size_legacy_values),t.addNodeFilter("font",function(e){je(e,function(e){var t,n=a.parse(e.attr("style")),r=e.attr("color"),o=e.attr("face"),i=e.attr("size");r&&(n.color=r),o&&(n["font-family"]=o),i&&(n["font-size"]=u[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",a.serialize(n)),t=e,je(["color","face","size"],function(e){t.attr(e,null)})})})),n=r,o.addNodeFilter("strike",function(e){je(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})),c;function l(r){var e,t=r.attr("src");(e=r).attr("src")===Ke.transparentSrc||ne(e.attr("data-mce-placeholder"))||ne(r.attr("data-mce-bogus"))||((e=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(t))?$e.some({type:e[1],data:decodeURIComponent(e[2])}):$e.none()).filter(function(){return e=r,!(t=i).images_dataimg_filter||((n=new Image).src=e.attr("src"),q(e.attributes.map,function(e,t){n.setAttribute(t,e)}),t.images_dataimg_filter(n));var e,t,n}).bind(function(e){var t=e.type,n=e.data;return $e.from(s.getByData(n,t)).orThunk(function(){return Kp(t,n).map(function(e){return e=s.create(Yp(),e,n),s.add(e),e})})}).each(function(e){r.attr("src",e.blobUri())})}}function Zp(e,t,n){-1===Xe.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))}function eh(e,t){var l,f,d,n,m,s,c,g=e;return e=["data-mce-selected"],f=(l=t)&&l.dom?l.dom:Ge.DOM,d=l&&l.schema?l.schema:no(g),g.entity_encoding=g.entity_encoding||"named",g.remove_trailing_brs=!("remove_trailing_brs"in g)||g.remove_trailing_brs,m=Qp(g,d),s=g,c=f,(n=m).addAttributeFilter("data-mce-tabindex",function(e,t){for(var n=e.length;n--;){var r=e[n];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(t,null)}}),n.addAttributeFilter("src,href,style",function(e,t){for(var n="data-mce-"+t,r=s.url_converter,o=s.url_converter_scope,i=e.length;i--;){var a=e[i],u=a.attr(n);void 0!==u?(a.attr(t,0<u.length?u:null),a.attr(n,null)):(u=a.attr(t),"style"===t?u=c.serializeStyle(c.parseStyle(u),a.name):r&&(u=r.call(o,u,t,a.name)),a.attr(t,0<u.length?u:null))}}),n.addAttributeFilter("class",function(e){for(var t=e.length;t--;){var n,r=e[t];r.attr("class")&&(n=r.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),r.attr("class",0<n.length?n:null))}}),n.addAttributeFilter("data-mce-type",function(e,t,n){for(var r=e.length;r--;){var o=e[r];"bookmark"!==o.attr("data-mce-type")||n.cleanup||($e.from(o.firstChild).exists(function(e){return!ko(e.value)})?o.unwrap():o.remove())}}),n.addNodeFilter("noscript",function(e){for(var t=e.length;t--;){var n=e[t].firstChild;n&&(n.value=Go.decode(n.value))}}),n.addNodeFilter("script,style",function(e,t){for(var n=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},r=e.length;r--;){var o,i=e[r],a=i.firstChild?i.firstChild.value:"";"script"===t?((o=i.attr("type"))&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===s.element_format&&0<a.length&&(i.firstChild.value="// <![CDATA[\n"+n(a)+"\n// ]]>")):"xhtml"===s.element_format&&0<a.length&&(i.firstChild.value="\x3c!--\n"+n(a)+"\n--\x3e")}}),n.addNodeFilter("#comment",function(e){for(var t=e.length;t--;){var n=e[t];s.preserve_cdata&&0===n.value.indexOf("[CDATA[")?(n.name="#cdata",n.type=4,n.value=c.decode(n.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===n.value.indexOf("mce:protected ")&&(n.name="#text",n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))}}),n.addNodeFilter("xml:namespace,input",function(e,t){for(var n=e.length;n--;){var r=e[n];7===r.type?r.remove():1!==r.type||"input"!==t||r.attr("type")||r.attr("type","text")}}),n.addAttributeFilter("data-mce-type",function(e){je(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(n.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),n.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:(t={schema:d,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:function(e,t){a=u=t=We({format:"html"},t=void 0===t?{}:t),a=(s=l)&&s.hasEventListeners("PreProcess")&&!a.no_events?(a=u,s=(u=s).dom,o=e.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(n=i.createHTMLDocument(""),Xe.each("BODY"===o.nodeName?o.childNodes:[o],function(e){n.body.appendChild(n.importNode(e,!0))}),o="BODY"!==o.nodeName?n.body.firstChild:n.body,r=s.doc,s.doc=n),i=u,u=We(We({},a),{node:o}),i.fire("PreProcess",u),r&&(s.doc=r),o):e,u=No((i=t).getInner?a.innerHTML:f.getOuterHTML(a));var n,r,o,i,a,u,s=i.selection||xo(Ye.fromDom(a))?u:Xe.trim(u),e=(r=m,o=s,i=(e=t).selection?We({forced_root_block:!1},e):e,c(u=(a=r.parse(o,i)).lastChild)&&c(s=u.prev)&&(u.remove(),s.remove()),a);function c(e){return e&&"br"===e.name}return"tree"===t.format?e:(r=l,o=t,i=e,u=Dd(g,d).serialize(i),o.no_events||!r?u:(s=r,a=We(We({},o),{content:u}),s.fire("PostProcess",a).content))},addRules:d.addValidElements,setRules:d.setValidElements,addTempAttr:Fe(Zp,m,e),getTempAttrs:Ie(e),getNodeFilters:m.getNodeFilters,getAttributeFilters:m.getAttributeFilters}).schema,addNodeFilter:t.addNodeFilter,addAttributeFilter:t.addAttributeFilter,serialize:t.serialize,addRules:t.addRules,setRules:t.setRules,addTempAttr:t.addTempAttr,getTempAttrs:t.getTempAttrs,getNodeFilters:t.getNodeFilters,getAttributeFilters:t.getAttributeFilters}}function th(e,t,n){return _p(e).editor.setContent(t,n=void 0===n?{}:n)}function nh(e){$e.from(e).each(function(e){return e.destroy()})}function rh(e){return e=Q(e)?e.join(" "):e,Ve(He(Me(e)?e.split(" "):[],vt),function(e){return 0<e.length})}function oh(e,t){return re(e.sections(),t)}function ih(e,t){return qe(e,"toolbar_mode").orThunk(function(){return qe(e,"toolbar_drawer").map(function(e){return!1===e?"wrap":e})}).getOr(t)}function ah(e,t,n){return $e.from(t.settings[n]).filter(e)}function uh(e,t){return t.dom[e]}function sh(e,t){return parseInt(Rn(t,e),10)}function ch(e,t,n){var r=Ye.fromDom(e.getBody()),r=e.inline?r:Ye.fromDom(Ut(r).dom.documentElement),o=(e=e.inline,(i=r).dom.getBoundingClientRect()),n=(t={x:t-(e?o.left+i.dom.clientLeft+Bh(i):0),y:n-(e?o.top+i.dom.clientTop+Oh(i):0)}).x,e=t.y,i=Dh(o=r),t=Th(o);return 0<=n&&0<=e&&n<=i&&e<=t}function lh(r){function o(){var e=r.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():{open:t,close:t,reposition:t,getArgs:t};function t(){throw new Error("Theme did not provide a NotificationManager implementation.")}}function i(){return $e.from(s[0])}function a(){0<s.length&&o().reposition(s)}function u(t){T(s,function(e){return e===t}).each(function(e){s.splice(e,1)})}function t(t,e){if(void 0===e&&(e=!0),!r.removed&&(n=(n=r).inline?n.getBody():n.getContentAreaContainer(),$e.from(n).map(Ye.fromDom).map(qn).getOr(!1)))return e&&r.fire("BeforeOpenNotification",{notification:t}),rt(s,function(e){return!((e=o().getArgs(e)).type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)}).getOrThunk(function(){r.editorManager.setActive(r);var e=o().open(t,function(){u(e),a(),i().fold(function(){return r.focus()},function(e){return Ye.fromDom(e.getEl()).dom.focus()})});return s.push(e),a(),r.fire("OpenNotification",{notification:We({},e)}),e});var n}var n,s=[],e=Ie(s);return(n=r).on("SkinLoaded",function(){var e=n.getParam("service_message");e&&t({text:e,type:"warning",timeout:0},!1),a()}),n.on("show ResizeEditor ResizeWindow NodeChange",function(){Nr.requestAnimationFrame(a)}),n.on("remove",function(){je(s.slice(),function(e){o().close(e)})}),{open:t,close:function(){i().each(function(e){o().close(e),u(e),a()})},getNotifications:e}}function fh(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t}var dh,mh,gh=0,ph=Xe.makeMap,hh=Xe.each,vh=Xe.explode,bh=Xe.extend,yh=Ge.DOM,Ch=(dh=function(e,t){return et(e)&&et(t)?Ch(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o,i=e[r];for(o in i)re(i,o)&&(n[o]=dh(n[o],i[o]))}return n}),xh="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),wh="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Sh="imagetools,toc".split(","),Eh=(Pt=Rt().deviceType).isTouch(),kh=Pt.isPhone(),Nh=Pt.isTablet(),_h=["lists","autolink","autosave"],Ah={table_grid:!1,object_resizing:!1,resize:!1},Rh=(mh={},{add:function(e,t){mh[e]=t},get:function(e){return mh[e]||{icons:{}}},has:function(e){return re(mh,e)}}),Dh=Fe(uh,"clientWidth"),Th=Fe(uh,"clientHeight"),Oh=Fe(sh,"margin-top"),Bh=Fe(sh,"margin-left"),Ph=Ga.PluginManager,Lh=Ga.ThemeManager;function Ih(n){function o(){var e=n.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t};function t(){throw new Error("Theme did not provide a WindowManager implementation.")}}function i(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r?r.apply(n,e):void 0}}function r(t){n.fire("CloseWindow",{dialog:t}),0===(u=Ve(u,function(e){return e!==t})).length&&n.focus()}function a(e){n.editorManager.setActive(n),jf(n);var t=e=e();return u.push(t),n.fire("OpenWindow",{dialog:t}),e}var u=[];return n.on("remove",function(){je(u,function(e){o().close(e)})}),{open:function(e,t){return a(function(){return o().open(e,t,r)})},openUrl:function(e){return a(function(){return o().openUrl(e,r)})},alert:function(e,t,n){var r=o();r.alert(e,i(n||r,t))},confirm:function(e,t,n){var r=o();r.confirm(e,i(n||r,t))},close:function(){$e.from(u[u.length-1]).each(function(e){o().close(e),r(e)})}}}function Mh(e,t){e.notificationManager.open({type:"error",text:t})}function Fh(e,t){e._skinLoaded?Mh(e,t):e.on("SkinLoaded",function(){Mh(e,t)})}function Uh(e,t,n){Ql(e,t,{message:n}),console.error(n)}function zh(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t}function Hh(e,t,n){Uh(e,"PluginLoadError",zh("plugin",t,n))}function jh(){function n(e,t){return{status:e,resultUri:t}}function t(e){return e in r}var r={};return{hasBlobUri:t,getResultUri:function(e){return(e=r[e])?e.resultUri:null},isPending:function(e){return!!t(e)&&1===r[e].status},isUploaded:function(e){return!!t(e)&&2===r[e].status},markPending:function(e){r[e]=n(1,null)},markUploaded:function(e,t){r[e]=n(2,t)},removeFailed:function(e){delete r[e]},destroy:function(){r={}}}}function Vh(e){return e+ib+++("s"+(new Date).getTime().toString(36)+t()+t()+t());function t(){return Math.round(4294967295*Math.random()).toString(36)}}function qh(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}}function $h(e,t){return l=t,f={url:e.getParam("images_upload_url","","string"),basePath:e.getParam("images_upload_base_path","","string"),credentials:e.getParam("images_upload_credentials",!1,"boolean"),handler:e.getParam("images_upload_handler",null,"function")},!(o={})===y(f.handler)&&(f.handler=n),{upload:function(e,t){return f.url||f.handler!==n?(r=t,t=Xe.grep(e,function(e){return!l.isUploaded(e.blobUri())}),kr.all(Xe.map(t,function(e){return l.isPending(e.blobUri())?(n=e.blobUri(),new kr(function(e){o[n]=o[n]||[],o[n].push(e)})):(i=e,t=f.handler,a=r,l.markPending(i.blobUri()),new kr(function(n){var r;try{var o=function(){r&&r.close()};t(i,function(e){o(),l.markUploaded(i.blobUri(),e),c(i.blobUri(),u(i,e)),n(u(i,e))},function(e,t){t=t||{},o(),l.removeFailed(i.blobUri()),c(i.blobUri(),s(i,e,t)),n(s(i,e,t))},function(t){t<0||100<t||$e.from(r).orThunk(function(){return $e.from(a).map(h)}).each(function(e){(r=e).progressBar.value(t)})})}catch(e){n(s(i,e.message,{}))}}));var i,t,a,n}))):new kr(function(e){e([])});var r}};function n(e,n,r,t){var o=new XMLHttpRequest,i=(o.open("POST",f.url),o.withCredentials=f.credentials,o.upload.onprogress=function(e){t(e.loaded/e.total*100)},o.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e,t;o.status<200||300<=o.status?r("HTTP Error: "+o.status):(t=JSON.parse(o.responseText))&&"string"==typeof t.location?n((e=f.basePath,t=t.location,e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t)):r("Invalid JSON: "+o.responseText)},new FormData);i.append("file",e.blob(),e.filename()),o.send(i)}function u(e,t){return{url:t,blobInfo:e,status:!0}}function s(e,t,n){return{url:"",blobInfo:e,status:!1,error:{message:t,options:n}}}function c(e,t){Xe.each(o[e],function(e){e(t)}),delete o[e]}var l,f,o}function Wh(e,t){function l(e){r="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t,n=e=ub.create(r.name);return(t=r).classes.length&&ub.addClass(n,t.classes.join(" ")),ub.setAttribs(n,t.attrs),e}var r,n,f=t&&t.schema||no({});return e&&e.length?(t=l(r=e[0]),(n=ub.create("div")).appendChild(function e(t,n,r){var o,i,a,u=0<n.length&&n[0],s=u&&u.name,c=(c=s,a="string"!=typeof(a=t)?a.nodeName.toLowerCase():a,!(!(a=(a=f.getElementRule(a))&&a.parentsRequired)||!a.length)&&(c&&-1!==Xe.inArray(a,c)?c:a[0]));if(c)s===c?(i=n[0],n=n.slice(1)):i=c;else if(u)i=n[0],n=n.slice(1);else if(!r)return t;return i&&(o=l(i)).appendChild(t),r&&(o||(o=ub.create("div")).appendChild(t),Xe.each(r,function(e){e=l(e),o.insertBefore(e,t)})),e(o,n,i&&i.siblings)}(t,e.slice(1),r.siblings)),n):""}function Kh(e){var t,i={classes:[],attrs:{}};return"*"!==(e=i.selector=Xe.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,n,r,o){switch(t){case"#":i.attrs.id=n;break;case".":i.classes.push(n);break;case":":-1!==Xe.inArray("checked disabled enabled read-only required".split(" "),n)&&(i.attrs[n]=n)}return"["===r&&(t=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(i.attrs[t[1]]=t[2]),""})),i.name=t||"div",i}function Xh(n,e){var r,o="",t=(t=n.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),Me(t)?t:"");if(""===t)return"";function i(e){return e.replace(/%(\w+)/g,"")}if("string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}if("preview"in e){if(Cn(a=qe(e,"preview"),!1))return"";t=a.getOr(t)}var a=e.block||e.inline||"span",u=(u=(u=e.selector)&&"string"==typeof u?(u=(u=u.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Xe.map(u.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=(e=Xe.map(e.split(/(?:~\+|~|\+)/),Kh)).pop();return e.length&&(t.siblings=e),t}).reverse()):[]).length?(u[0].name||(u[0].name=a),a=e.selector,Wh(u,n)):Wh([a],n),s=ub.select(a,u)[0]||u.firstChild;return ab(e.styles,function(e,t){(e=i(e))&&ub.setStyle(s,t,e)}),ab(e.attributes,function(e,t){(e=i(e))&&ub.setAttrib(s,t,e)}),ab(e.classes,function(e){e=i(e),ub.hasClass(s,e)||ub.addClass(s,e)}),n.fire("PreviewFormats"),ub.setStyles(u,{position:"absolute",left:-65535}),n.getBody().appendChild(u),r=ub.getStyle(n.getBody(),"fontSize",!0),r=/px$/.test(r)?parseInt(r,10):0,ab(t.split(" "),function(e){var t=ub.getStyle(s,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=ub.getStyle(n.getBody(),e,!0),"#ffffff"===ub.toHex(t).toLowerCase())||"color"===e&&"#000000"===ub.toHex(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===r)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*r+"px"}"border"===e&&t&&(o+="padding:0 2px;"),o+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),ub.remove(u),o}function Yh(i){n={},(o=function(e,t){e&&(Me(e)?(je(t=Q(t)?t:[t],function(e){v(e.deep)&&(e.deep=!Xc(e)),v(e.split)&&(e.split=!Xc(e)||Yc(e)),v(e.remove)&&Xc(e)&&!Yc(e)&&(e.remove="none"),Xc(e)&&Yc(e)&&(e.mixed=!0,e.block_expand=!0),Me(e.classes)&&(e.classes=e.classes.split(/\s+/))}),n[e]=t):q(e,function(e,t){o(t,e)}))})((r=(e=i).dom,t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return W(e)&&e.hasAttribute("href")},onformat:function(n,e,t){Xe.each(t,function(e,t){r.setAttrib(n,t,e)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(e){return null!=(e=null==e?void 0:e.customValue)?e:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},Xe.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t)),o(e.getParam("formats"));var r,t,n,o,a,e={get:function(e){return ne(e)?n[e]:n},has:function(e){return re(n,e)},register:o,unregister:function(e){return e&&n[e]&&delete n[e],n}},u=Xa(null),s=i;s.addShortcut("meta+b","","Bold"),s.addShortcut("meta+i","","Italic"),s.addShortcut("meta+u","","Underline");for(var c=1;c<=6;c++)s.addShortcut("access+"+c,"",["FormatBlock",!1,"h"+c]);return s.addShortcut("access+7","",["FormatBlock",!1,"p"]),s.addShortcut("access+8","",["FormatBlock",!1,"div"]),s.addShortcut("access+9","",["FormatBlock",!1,"address"]),(a=i).on("mouseup keydown",function(e){var t=a,e=e.keyCode,n=t.selection,r=t.getBody();ig(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||n.getStart().innerHTML!==Lg||ig(t,kc(r,n.getStart())),37!==e&&39!==e||ig(t,kc(r,n.getStart()))}),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:function(e,t,n){w(i).formatter.apply(e,t,n)},remove:function(e,t,n,r){w(i).formatter.remove(e,t,n,r)},toggle:function(e,t,n){w(i).formatter.toggle(e,t,n)},match:function(e,t,n,r){return w(i).formatter.match(e,t,n,r)},closest:function(e){return w(i).formatter.closest(e)},matchAll:function(e,t){return w(i).formatter.matchAll(e,t)},matchNode:function(e,t,n,r){return w(i).formatter.matchNode(e,t,n,r)},canApply:function(e){return w(i).formatter.canApply(e)},formatChanged:function(e,t,n,r){return o=u,w(i).formatter.formatChanged(o,e,t,n,r);var o},getCssText:Fe(Xh,i)}}function Gh(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return 1;default:return}}function Jh(a){var e,n,r,o,i,u=eu(),s=Xa(0),c=Xa(0),l={data:[],typing:!1,beforeChange:function(){var e=s,t=u;w(a).undoManager.beforeChange(e,t)},add:function(e,t){return n=l,r=c,o=s,i=u,w(a).undoManager.add(n,r,o,i,e,t);var n,r,o,i},undo:function(){return e=l,t=s,n=c,w(a).undoManager.undo(e,t,n);var e,t,n},redo:function(){return e=c,t=l.data,w(a).undoManager.redo(e,t);var e,t},clear:function(){var e=l,t=c;w(a).undoManager.clear(e,t)},reset:function(){var e=l;w(a).undoManager.reset(e)},hasUndo:function(){return e=l,t=c,w(a).undoManager.hasUndo(e,t);var e,t},hasRedo:function(){return e=l,t=c,w(a).undoManager.hasRedo(e,t);var e,t},transact:function(e){return t=l,n=s,w(a).undoManager.transact(t,n,e);var t,n},ignore:function(e){var t=s;w(a).undoManager.ignore(t,e)},extra:function(e,t){var n=l,r=c;w(a).undoManager.extra(n,r,e,t)}};return Np(a)||(r=l,o=s,i=Xa(!1),(n=a).on("init",function(){r.add()}),n.on("BeforeExecCommand",function(e){Gh(e.command)||(Ep(r,o),r.beforeChange())}),n.on("ExecCommand",function(e){Gh(e.command)||f(e)}),n.on("ObjectResizeStart cut",function(){r.beforeChange()}),n.on("SaveContent ObjectResized blur",f),n.on("dragend",f),n.on("keyup",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(f(),n.nodeChanged()),46!==t&&8!==t||n.nodeChanged(),i.get()&&r.typing&&!1===xp(vp(n),r.data[0])&&(!1===n.isDirty()&&(n.setDirty(!0),n.fire("change",{level:r.data[0],lastLevel:null})),n.fire("TypingUndo"),i.set(!1),n.nodeChanged()))}),n.on("keydown",function(e){var t,n=e.keyCode;e.isDefaultPrevented()||(33<=n&&n<=36||37<=n&&n<=40||45===n?r.typing&&f(e):(t=e.ctrlKey&&!e.altKey||e.metaKey,!(n<16||20<n)||224===n||91===n||r.typing||t||(r.beforeChange(),Sp(r,!0,o),r.add({},e),i.set(!0))))}),n.on("mousedown",function(e){r.typing&&f(e)}),n.on("input",function(e){e.inputType&&("insertReplacementText"===e.inputType||"insertText"===e.inputType&&null===e.data||"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)&&f(e)}),n.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||n.nodeChanged()})),(e=a).addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),l;function f(e){Sp(r,!1,o),r.add({},e)}}function Qh(e){return"keydown"===e.type||"keyup"===e.type}function Zh(e){return(e=e.keyCode)===Qe.BACKSPACE||e===Qe.DELETE}function ev(e,t){return Te(Ye.fromDom(t),e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))}function tv(e,t,n){return n=Ve(Ge.DOM.getParents(n.container(),"*",t),e),$e.from(n[n.length-1])}function nv(e,t){var n,r;return t&&(n=t.container(),r=t.offset(),e?Pr(n)?j(n.nextSibling)?Je(n.nextSibling,0):Je.after(n):Mr(t)?Je(n,r+1):t:Pr(n)?j(n.previousSibling)?Je(n.previousSibling,n.previousSibling.data.length):Je.before(n):Fr(t)?Je(n,r-1):t)}function rv(e){return ho(e)||bo(e)}function ov(e,t){return Be(e,t)?pr(t,rv,(n=e,function(e){return I(n,Ye.fromDom(e.dom.parentNode))})):$e.none();var n}function iv(e){var t;e.dom.isEmpty(e.getBody())&&(e.setContent(""),t=(t=e.getBody()).firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t,e.selection.setCursorLocation(t,0))}function av(e,t){return{from:e,to:t}}function uv(e,t){return ov(Ye.fromDom(e),Ye.fromDom(t.container())).map(function(e){return{block:e,position:t}})}function sv(e){var t;return je(e=T(t=Un(e),po).fold(Ie(t),function(e){return t.slice(0,e)}),Vn),e}function cv(e,t){rt(qd(t,e).reverse(),function(e){return $r(e)}).each(Vn)}function lv(e,t,n,r){return $r(n)?(Hd(n),Ul(n.dom)):(0===Ve(qt(r),function(e){return!$r(e)}).length&&$r(t)&&Zt(r,Ye.fromTag("br")),n=Fl(n.dom,Je.before(r.dom)),je(sv(t),function(e){Zt(r,e)}),cv(e,t),n)}function fv(e,t,n){var r;return $r(n)?(Vn(n),$r(t)&&Hd(t),Ul(t.dom)):(r=zl(n.dom),je(sv(t),function(e){jn(n,e)}),cv(e,t),r)}function dv(e,t){Sc(e,t.dom).map(function(e){return e.getNode()}).map(Ye.fromDom).filter(Or).each(Vn)}function mv(e,t,n){return dv(!0,t),dv(!1,n),(Be(r=n,o=t)?(o=qd(o,r),$e.from(o[o.length-1])):$e.none()).fold(Fe(fv,e,t,n),Fe(lv,e,t,n));var r,o}function gv(e,t,n,r){return t?mv(e,r,n):mv(e,n,r)}function pv(t,n){var o,i,e,r,a=Ye.fromDom(t.getBody()),u=(r=a.dom,e=n,((u=t.selection.getRng()).collapsed?(i=e,r=(e=uv(o=r,Je.fromRangeStart(u))).bind(function(e){return wl(i,o,e.position).bind(function(e){return uv(o,e).map(function(e){return t=o,n=i,M((r=e).position.getNode())&&!1===$r(r.block)?Sc(!1,r.block.dom).bind(function(e){return e.isEqual(r.position)?wl(n,t,e).bind(function(e){return uv(t,e)}):$e.some(r)}).getOr(r):r;var t,n,r})})}),xn(e,r,av).filter(function(e){return!1===I(e.from.block,e.to.block)&&Ht((n=e).from.block).bind(function(t){return Ht(n.to.block).filter(function(e){return I(t,e)})}).isSome()&&!1===F(e.from.block.dom)&&!1===F(e.to.block.dom);var n})):$e.none()).bind(function(e){return gv(a,n,e.from.block,e.to.block)}));return u.each(function(e){t.selection.setRng(e.toRange())}),u.isSome()}function hv(e,t){return t=Ye.fromDom(t),e=Fe(I,e),gr(t,Co,e).isSome()}function vv(e,t){return!e.selection.isCollapsed()&&(a=Ye.fromDom(e.getBody()),u=e.selection.getRng(),s=Fl((i=a).dom,Je.fromRangeStart(u)).isNone(),c=Ml(i.dom,Je.fromRangeEnd(u)).isNone(),!hv(i,u.startContainer)&&!hv(i,u.endContainer)&&s&&c?((i=e).setContent(""),i.selection.setCursorLocation(),!0):(n=a,r=e.selection,o=r.getRng(),xn(ov(n,Ye.fromDom(o.startContainer)),ov(n,Ye.fromDom(o.endContainer)),function(e,t){return!1===I(e,t)&&(o.deleteContents(),gv(n,!0,e,t).each(function(e){r.setRng(e.toRange())}),!0)}).getOr(!1)));var n,r,o,i,a,u,s,c}function bv(e,t,n,r,o){return $e.from(t._selectionOverrides.showCaret(e,n,r,o))}function yv(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?$e.none():$e.some(((t=(e=t).ownerDocument.createRange()).selectNode(e),t))}function Cv(e,t,n){var t=Fs(1,e.getBody(),t),r=(t=Je.fromRangeStart(t)).getNode();return $s(r)?bv(1,e,r,!t.isAtEnd(),!1):$s(r=t.getNode(!0))?bv(1,e,r,!1,!1):$s(r=e.dom.getParent(t.getNode(),function(e){return gb(e)||mb(e)}))?bv(1,e,r,!1,n):$e.none()}function xv(e,t,n){return t.collapsed?Cv(e,t,n).getOr(t):t}function wv(e){return xg(e)||vg(e)}function Sv(e){return wg(e)||bg(e)}function Ev(n,r,e,t,o,i){return bv(t,n,i.getNode(!o),o,!0).each(function(e){var t;(r.collapsed?(t=r.cloneRange(),o?t.setEnd(e.startContainer,e.startOffset):t.setStart(e.endContainer,e.endOffset),t):r).deleteContents(),n.selection.setRng(e)}),t=n.dom,j(i=e)&&0===i.data.length&&t.remove(i),!0}function kv(e,t){var n,r,o,i,a,u=e.selection.getRng();return!!(j(u.commonAncestorContainer)&&(n=t?Ws.Forwards:Ws.Backwards,a=bc(e.getBody()),r=t?wv:Sv,i=nv(t,(a=Fe(js,t?a.next:a.prev))(o=zs(n,e.getBody(),u))))&&Vs(o,i))&&(r(i)?Ev(e,u,o.getNode(),n,t,i):!!((a=a(i))&&r(a)&&Vs(i,a))&&Ev(e,u,o.getNode(),n,t,a))}function Nv(c,l,f){return wl(l,c,f).bind(function(e){return u=e.getNode(),Co(Ye.fromDom(u))||bo(Ye.fromDom(u))||(r=c,a=e,Us(!(o=l),i=f).fold(function(){return Us(o,a).fold(Ue,s)},s))?$e.none():l&&F(e.getNode())||!1===l&&F(e.getNode(!0))?(u=c,t=f,n=e.getNode(!1===l),ov(Ye.fromDom(u),Ye.fromDom(t.getNode())).map(function(e){return $r(e)?pb.remove(e.dom):pb.moveToElement(n)}).orThunk(function(){return $e.some(pb.moveToElement(n))})):l&&wg(f)||!1===l&&xg(f)?$e.some(pb.moveToPosition(e)):$e.none();var t,n,r,o,i,a,u;function s(e){return Tr(Ye.fromDom(e))&&!Ps(i,a,r)}})}function _v(e,t){return $e.from(Gl(e.getBody(),t))}function Av(u,s){var e=u.selection.getNode();return _v(u,e).filter(F).fold(function(){return t=u.getBody(),i=Fs((n=s)?1:-1,t,u.selection.getRng()),i=Je.fromRangeStart(i),a=Ye.fromDom(t),(!1===n&&wg(i)?$e.some(pb.remove(i.getNode(!0))):n&&xg(i)?$e.some(pb.remove(i.getNode())):!1===n&&xg(i)&&Qd(a,i)?_g(a,i).map(function(e){return pb.remove(e.getNode())}):n&&wg(i)&&Jd(a,i)?Ag(a,i).map(function(e){return pb.remove(e.getNode())}):(r=t,t=(o=i).getNode(!1===(a=e=n)),i=a?"after":"before",W(t)&&t.getAttribute("data-mce-caret")===i?(a=o.getNode(!1===(n=e)),(n&&F(a.nextSibling)?$e.some(pb.moveToElement(a.nextSibling)):!1===n&&F(a.previousSibling)?$e.some(pb.moveToElement(a.previousSibling)):$e.none()).fold(function(){return Nv(r,e,o)},$e.some)):Nv(r,e,o).bind(function(e){return t=r,n=o,e.fold(function(e){return $e.some(pb.remove(e))},function(e){return $e.some(pb.moveToElement(e))},function(e){return Ps(n,e,t)?$e.none():$e.some(pb.moveToPosition(e))});var t,n}))).exists(function(e){return e.fold(function(e){return o._selectionOverrides.hideFakeCaret(),wm(o,i,Ye.fromDom(e)),!0},(r=i=s,function(e){return e=r?Je.before(e):Je.after(e),n.selection.setRng(e.toRange()),!0}),(t=n=o=u,function(e){return t.selection.setRng(e.toRange()),!0}));var t,n,r,o,i});var r,e,o,t,n,i,a},ze)}function Rv(e,t){var n=e.selection.getNode();return!(!F(n)||Qn(n))&&_v(e,n.parentNode).filter(F).fold(function(){return je(uu(Ye.fromDom(e.getBody()),".mce-offscreen-selection"),Vn),wm(e,t,Ye.fromDom(e.selection.getNode())),iv(e),!0},ze)}function Dv(e){var t,n=e.dom,r=e.selection,e=Gl(e.getBody(),r.getNode());return Jn(e)&&n.isBlock(e)&&n.isEmpty(e)&&(t=n.create("br",{"data-mce-bogus":"1"}),n.setHTML(e,""),e.appendChild(t),r.setRng(Je.before(t).toRange())),!0}function Tv(e,t){return(e.selection.isCollapsed()?Av:Rv)(e,t)}function Ov(e,t){return!!e.selection.isCollapsed()&&(n=e,r=t,e=Je.fromRangeStart(n.selection.getRng()),wl(r,n.getBody(),e).filter(function(e){return(r?pg:hg)(e)}).bind(function(e){return $e.from(Ls(r?0:-1,e))}).exists(function(e){return n.selection.select(e),!0}));var n,r}function Bv(e){return hb(e)&&e.data[0]===Eo}function Pv(e){return hb(e)&&e.data[e.data.length-1]===Eo}function Lv(e){return e.ownerDocument.createTextNode(Eo)}function Iv(e,t){return(e?function(e){var t;return hb(e.previousSibling)?(Pv(e.previousSibling)||e.previousSibling.appendData(Eo),e.previousSibling):hb(e)?(Bv(e)||e.insertData(0,Eo),e):(t=Lv(e),e.parentNode.insertBefore(t,e),t)}:function(e){var t;return hb(e.nextSibling)?(Bv(e.nextSibling)||e.nextSibling.insertData(0,Eo),e.nextSibling):hb(e)?(Pv(e)||e.appendData(Eo),e):(t=Lv(e),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t)})(t)}function Mv(e,t){return j(e.container())?Iv(t,e.container()):Iv(t,e.getNode())}function Fv(e,t){return(t=t.get())&&e.container()===t&&Pr(t)}function Uv(t,e){return e.fold(function(e){return qs(t.get()),e=vb(e),t.set(e),$e.some(Je(e,e.length-1))},function(e){return Ul(e).map(function(e){return Fv(e,t)?Je(t.get(),1):(qs(t.get()),e=Mv(e,!0),t.set(e),Je(e,1))})},function(e){return zl(e).map(function(e){return Fv(e,t)?Je(t.get(),t.get().length-1):(qs(t.get()),e=Mv(e,!1),t.set(e),Je(e,e.length-1))})},function(e){return qs(t.get()),e=bb(e),t.set(e),$e.some(Je(e,1))})}function zv(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return $e.none()}function Hv(e,t){return Bs(t,e)||e}function jv(e,t,n){var r=fb(n),o=Hv(t,r.container());return tv(e,o,r).fold(function(){return Ml(o,r).bind(Fe(tv,e,o)).map(function(e){return yb.before(e)})},$e.none)}function Vv(e,t){return null===kc(e,t)}function qv(e,t,n){return tv(e,t,n).filter(Fe(Vv,t))}function $v(e,t,n){var r=db(n);return qv(e,t,r).bind(function(e){return Fl(e,r).isNone()?$e.some(yb.start(e)):$e.none()})}function Wv(e,t,n){var r=fb(n);return qv(e,t,r).bind(function(e){return Ml(e,r).isNone()?$e.some(yb.end(e)):$e.none()})}function Kv(e,t,n){var r=db(n),o=Hv(t,r.container());return tv(e,o,r).fold(function(){return Fl(o,r).bind(Fe(tv,e,o)).map(function(e){return yb.after(e)})},$e.none)}function Xv(e){return!1===(e=Cb(e),"rtl"===Ge.DOM.getStyle(e,"direction",!0)||(e=e.textContent,lb.test(e)))}function Yv(e,t,n){return zv([jv,$v,Wv,Kv],[e,t,n]).filter(Xv)}function Gv(e){return e.fold(Ie("before"),Ie("start"),Ie("end"),Ie("after"))}function Jv(e){return e.fold(yb.before,yb.before,yb.after,yb.after)}function Qv(e){return e.fold(yb.start,yb.start,yb.end,yb.end)}function Zv(i,e,a,t,n,u){return xn(tv(e,a,t),tv(e,a,n),function(e,t){return e!==t&&(o=t,r=Bs(e,n=a),o=Bs(o,n),r)&&r===o?yb.after(i?e:t):u;var n,r,o}).getOr(u)}function eb(e,n){return e.fold(ze,function(e){return t=n,!(Gv(e)===Gv(t)&&Cb(e)===Cb(t));var t})}function tb(e,t){return e?t.fold(u($e.some,yb.start),$e.none,u($e.some,yb.after),$e.none):t.fold($e.none,u($e.some,yb.before),$e.none,u($e.some,yb.end))}function nb(e,a,u,s){var t=nv(e,s),c=Yv(a,u,t);return Yv(a,u,t).bind(Fe(tb,e)).orThunk(function(){return n=a,r=u,o=c,i=nv(t=e,s),wl(t,r,i).map(Fe(nv,t)).fold(function(){return o.map(Jv)},function(e){return Yv(n,r,e).map(Fe(Zv,t,n,r,i,e)).filter(Fe(eb,o))}).filter(Xv);var t,n,r,o,i})}function rb(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error||r.log).apply(r,ye([e],t,!1))}function ob(t,e){var n=t.editorManager.baseURL+"/skins/content",r="content"+t.editorManager.suffix+".css",o=!0===t.inline;return He(e,function(e){return/^[a-z0-9\-]+$/i.test(e)&&!o?n+"/"+e+"/"+r:t.documentBaseURI.toAbsolute(e)})}var ib=0,ab=Xe.each,ub=Ge.DOM,sb=[9,27,Qe.HOME,Qe.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Qe.DOWN,Qe.UP,Qe.LEFT,Qe.RIGHT].concat(Ke.browser.isFirefox()?[224]:[]),cb="data-mce-placeholder",lb=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,fb=Fe(nv,!0),db=Fe(nv,!1),mb=Jn,gb=F,pb=ar([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),hb=j,vb=Fe(Iv,!0),bb=Fe(Iv,!1),yb=ar([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Cb=function(e){return e.fold(G,G,G,G)};function xb(e,t,n){var r=e?1:-1;return t.setRng(Je(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0}function wb(e,t){return e===Ws.Backwards?B(t):t}function Sb(e,t,n,r){for(var o,i=bc(n),a=r,u=[];a;){var s,c,c=i,s=a;if(!(c=t===Ws.Forwards?c.next(s):c.prev(s)))break;if(M(c.getNode(!1)))return t===Ws.Forwards?{positions:wb(t,u).concat([c]),breakType:Rb.Br,breakAt:$e.some(c)}:{positions:wb(t,u),breakType:Rb.Br,breakAt:$e.some(c)};if(c.isVisible()){if(e(a,c))return s=a,s=M((o=c).getNode(t===Ws.Forwards))?Rb.Br:!1===Ps(s,o)?Rb.Block:Rb.Wrap,{positions:wb(t,u),breakType:s,breakAt:$e.some(c)};u.push(c)}a=c}return{positions:wb(t,u),breakType:Rb.Eol,breakAt:$e.none()}}function Eb(n,r,o,e){return r(o,e).breakAt.map(function(e){var t=r(o,e).positions;return n===Ws.Backwards?t.concat(e):[e].concat(t)}).getOr([])}function kb(e,o){return nt(e,function(e,r){return e.fold(function(){return $e.some(r)},function(n){return xn(L(n.getClientRects()),L(r.getClientRects()),function(e,t){return e=Math.abs(o-e.left),Math.abs(o-t.left)<=e?r:n}).or(e)})},$e.none())}function Nb(t,e){return L(e.getClientRects()).bind(function(e){return kb(t,e.left)})}function _b(t){function e(e){return He(e,function(e){return(e=hu(e)).node=t,e})}var n;return W(t)?e(t.getClientRects()):j(t)?((n=t.ownerDocument.createRange()).setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())):void 0}function Ab(e){return O(e,_b)}Fe(nb,!1),Fe(nb,!0);var Rb={Br:0,0:"Br",Block:1,1:"Block",Wrap:2,2:"Wrap",Eol:3,3:"Eol"},Db=Fe(Sb,Je.isAbove,-1),Tb=Fe(Sb,Je.isBelow,1),Ob=Fe(Eb,-1,Db),Bb=Fe(Eb,1,Tb);function Pb(o,i,a,e,u,t){function n(e){var t=Ab([e]);-1===o&&(t=t.reverse());for(var n=0;n<t.length;n++){var r=t[n];if(!a(r,l)){if(0<c.length&&i(r,fe(c))&&s++,r.line=s,u(r))return!0;c.push(r)}}}var s=0,c=[],l=fe(t.getClientRects());return l&&(n(t=t.getNode()),function(e,t,n,r){for(;r=Os(r,e,jr,t);)if(n(r))return}(o,e,n,t)),c}function Lb(t){return function(e){return e.line>t}}function Ib(t){return function(e){return e.line===t}}function Mb(e,t){return Math.abs(e.left-t)}function Fb(e,t){return Math.abs(e.right-t)}function Ub(e,t){return e>=t.left&&e<=t.right}function zb(e,t){return e>=t.top&&e<=t.bottom}function Hb(e,o,i){return void 0===i&&(i=ze),ce(e,function(e,t){var n,r;return Ub(o,t)?i(t)?t:e:Ub(o,e)?i(e)?e:t:(n=Math.min(Mb(e,o),Fb(e,o)),(r=Math.min(Mb(t,o),Fb(t,o)))===n&&oe(t,"node")&&N0(t.node)||r<n?t:e)})}function jb(e,t,n,r,o){var i=_0(r,e,jr,t,!o);do{if(!i||n(i))return}while(i=_0(i,e,jr,t))}function Vb(e,t){e.selection.setRng(t),Of(e,e.selection.getRng())}function qb(e,t,n){return $e.some(xv(e,t,n))}function $b(e,t,n,r,o,i){var a=t===Ws.Forwards,u=bc(e.getBody()),u=Fe(js,a?u.next:u.prev),r=a?r:o;return!n.collapsed&&i(o=wu(n))?bv(t,e,o,t===Ws.Backwards,!1):r(i=zs(t,e.getBody(),n))?yv(e,i.getNode(!a)):(o=nv(a,u(i)),i=zr(n),o?r(o)?bv(t,e,o.getNode(!a),a,!1):(u=u(o))&&r(u)&&Vs(o,u)?bv(t,e,u.getNode(!a),a,!1):i?qb(e,o.toRange(),!1):$e.none():i?$e.some(n):$e.none())}function Wb(t,e,n,r,o,i){var a=zs(e,t.getBody(),n),u=fe(a.getClientRects()),s=e===S0.Down;if(!u)return $e.none();var c=Ve((s?k0:E0)(t.getBody(),Lb(1),a),Ib(1)),l=Hb(c,u=u.left);if(l&&i(l.node))return i=Math.abs(u-l.left),f=Math.abs(u-l.right),bv(e,t,l.node,i<f,!1);if(l=r(a)?a.getNode():o(a)?a.getNode(!0):wu(n)){var f=Hb(Ve(i=function(e,t,n,r){function o(e){return fe(e.getClientRects())}var i,a,u,t=bc(t),s=[],c=0,l=1===e?(i=t.next,a=Cu,u=yu,Je.after(r)):(i=t.prev,a=yu,u=Cu,Je.before(r)),f=o(l);do{if(l.isVisible()){var d=o(l);if(!u(d,f)){if(0<s.length&&a(d,fe(s))&&c++,(d=hu(d)).position=l,d.line=c,n(d))return s;s.push(d)}}}while(l=i(l));return s}(e,t.getBody(),Lb(1),l),Ib(1)),u);if(f)return qb(t,f.position.toRange(),!1);if(f=fe(Ve(i,Ib(0))))return qb(t,f.position.toRange(),!1)}return 0===c.length?x0(t,s).filter(s?o:r).map(function(e){return xv(t,e.toRange(),!1)}):$e.none()}function Kb(t,e,n){return x0(t,e).filter(n).exists(function(e){return t.selection.setRng(e.toRange()),!0})}function Xb(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)}function Yb(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")}function Gb(t,e,n){return Uv(e,n).map(function(e){return Xb(t,e),n})}function Jb(e,t,n){return!!xs(e)&&(o=t,t=n,n=(r=e).getBody(),e=Je.fromRangeStart(r.selection.getRng()),nb(t,Fe(ev,r),n,e).bind(function(e){return Gb(r,o,e)}).isSome());var r,o}function Qb(e,t,n){return!!xs(t)&&(r=t.selection.getRng(),r=e?Je.fromRangeEnd(r):Je.fromRangeStart(r),!!y(t.selection.getSel().modify))&&(e&&Mr(r)?xb(!0,t.selection,r):!(e||!Fr(r))&&xb(!1,t.selection,r));var r}function Zb(t,n,r){var e;return!!xs(t)&&(e=x0(t,n).getOrThunk(function(){var e=t.selection.getRng();return n?Je.fromRangeEnd(e):Je.fromRangeStart(e)}),Yv(Fe(ev,t),t.getBody(),e).exists(function(e){return e=Jv(e),Uv(r,e).exists(function(e){return Xb(t,e),!0})}))}function ey(t,n){return function(e){return Uv(n,e).exists(function(e){return Xb(t,e),!0})}}function ty(r,o,i,a){var u=r.getBody(),s=Fe(ev,r);r.undoManager.ignore(function(){var e,t,n;r.selection.setRng((e=i,t=a,(n=document.createRange()).setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n)),r.execCommand("Delete"),Yv(s,u,Je.fromRangeStart(r.selection.getRng())).map(Qv).map(ey(r,o))}),r.nodeChanged()}function ny(e,t,n){var r,o,i,a,u,s,c,l;return!(!e.selection.isCollapsed()||!xs(e))&&(r=Je.fromRangeStart(e.selection.getRng()),i=t,a=n,u=r,t=(o=e).getBody(),s=Bs(u.container(),t)||t,c=Fe(ev,o),(l=Yv(c,s,u)).bind(function(e){return a?e.fold(Ie($e.some(Qv(e))),$e.none,Ie($e.some(Jv(e))),$e.none):e.fold($e.none,Ie($e.some(Jv(e))),$e.none,Ie($e.some(Qv(e))))}).map(ey(o,i)).getOrThunk(function(){var t=wc(a,s,u),e=t.bind(function(e){return Yv(c,s,e)});return xn(l,e,function(){return tv(c,s,u).exists(function(e){return!!xn(Ul(r=e),zl(r),function(e,t){var e=nv(!0,e),n=nv(!1,t);return Ml(r,e).forall(function(e){return e.isEqual(n)})}).getOr(!0)&&(wm(o,a,Ye.fromDom(e)),!0);var r})}).orThunk(function(){return e.bind(function(e){return t.map(function(e){return a?ty(o,i,u,e):ty(o,i,e,u),!0})})}).getOr(!1)}))}function ry(e){return 1===Yt(e)}function oy(e,t){return!!e.selection.isCollapsed()&&(u=e,s=t,e=Ye.fromDom(u.getBody()),t=Ye.fromDom(u.selection.getStart()),ut(c=Ve(T(n=qd(t,e),po).fold(Ie(n),function(e){return n.slice(0,e)}),ry)).exists(function(e){var t,n,r=Je.fromRangeStart(u.selection.getRng()),o=s,i=r,a=e.dom;return!(!xn(Ul(a),zl(a),function(e,t){var n=nv(!0,e),r=nv(!1,t),e=nv(!1,i);return o?Ml(a,e).exists(function(e){return e.isEqual(r)&&i.isEqual(n)}):Fl(a,e).exists(function(e){return e.isEqual(n)&&i.isEqual(r)})}).getOr(!0)||Ec((r=e).dom)&&tg(r.dom)||(r=s,0===(n=He(Ve(c,Fe(sg,t=u)),function(e){return e.dom})).length?wm(t,r,e):(r=e.dom,n=ug(n,(e=rg(!1)).dom),Zt(Ye.fromDom(r),e),Vn(Ye.fromDom(r)),e=Je(n,0),t.selection.setRng(e.toRange())),0))}));var u,s,n,c}function iy(e,t,n){return e._selectionOverrides.hideFakeCaret(),wm(e,t,Ye.fromDom(n)),!0}function ay(e,t){return e.selection.isCollapsed()?(n=e,o=(r=t)?vg:bg,i=r?Ws.Forwards:Ws.Backwards,a=zs(i,n.getBody(),n.selection.getRng()),o(a)?iy(n,r,a.getNode(!r)):$e.from(nv(r,a)).filter(function(e){return o(e)&&Vs(a,e)}).exists(function(e){return iy(n,r,e.getNode(!r))})):(i=t,e=(t=e).selection.getNode(),!!Zn(e)&&iy(t,i,e));var n,r,o,i,a}function uy(e){return e=parseInt(e,10),isNaN(e)?0:e}function sy(e,t){return(e||"table"===$(t)?"margin":"padding")+("rtl"===Rn(t,"direction")?"-right":"-left")}function cy(e){var n,t=w0(e);return!e.mode.isReadOnly()&&(1<t.length||(n=e,ot(t,function(e){var t=Dn(e,sy(hs(n),e)).map(uy).getOr(0);return"false"!==n.dom.getContentEditable(e.dom)&&0<t})))}function ly(e){return vo(e)||bo(e)}function fy(e,u){var s=e.dom,t=e.selection,n=e.formatter,r=e.getParam("indentation","40px","string"),c=/[a-z%]+$/i.exec(r)[0],l=parseInt(r,10),f=hs(e),r=ls(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==r||s.getParent(t.getNode(),s.isBlock)||n.apply("div"),je(w0(e),function(e){var t,n=s,r=u,o=l,i=c,e=e.dom,a=sy(f,Ye.fromDom(e));"outdent"===r?(t=Math.max(0,uy(e.style[a])-o),n.setStyle(e,a,t?t+i:"")):(t=uy(e.style[a])+o+i,n.setStyle(e,a,t))})}function dy(e,t){if(e.selection.isCollapsed()&&cy(e)){var n=e.dom,r=e.selection.getRng(),o=Je.fromRangeStart(r);if(null!==(r=n.getParent(r.startContainer,n.isBlock))&&Sg(Ye.fromDom(r),o))return fy(e,"outdent"),!0}return!1}function my(e,t){e.getDoc().execCommand(t,!1,null)}function gy(e){return void 0===e.touches||1!==e.touches.length?$e.none():$e.some(e.touches[0])}function py(e,t){return re(e,t.nodeName)}function hy(e){var t,n,r,o=e.dom,i=e.selection,a=(g=e.schema).getBlockElements(),u=i.getStart(),s=e.getBody(),c=ls(e);if(u&&W(u)&&c){var l=s.nodeName.toLowerCase();if(g.isValidChild(l,c.toLowerCase())&&(f=a,g=s,l=u,!Z(Vd(Ye.fromDom(l),Ye.fromDom(g)),function(e){return py(f,e.dom)}))){for(var f,d,m,g=(l=i.getRng()).startContainer,p=l.startOffset,h=l.endContainer,v=l.endOffset,b=Yf(e),u=s.firstChild;u;)d=a,j(m=u)||W(m)&&!py(d,m)&&!Bc(m)?(d=a,!j(m=u)||0!==m.nodeValue.length&&(!/^\s+$/.test(m.nodeValue)||m.nextSibling&&!py(d,m.nextSibling))?(t||(t=o.create(c,fs(e)),u.parentNode.insertBefore(t,u),r=!0),u=(n=u).nextSibling,t.appendChild(n)):(u=(n=u).nextSibling,o.remove(n))):(t=null,u=u.nextSibling);r&&b&&(l.setStart(g,p),l.setEnd(h,v),i.setRng(l),e.nodeChanged())}}}function vy(e,t){t.hasAttribute("data-mce-caret")&&(Ur(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))}function by(e,t){var n=vr(Ye.fromDom(e.getBody()),"*[data-mce-caret]").map(function(e){return e.dom}).getOrNull();if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void vy(e,n)):void(Ir(n)&&(vy(e,n),e.undoManager.add()))}function yy(e,t,n){var r,o=bc(e.getBody()),o=Fe(js,1===t?o.next:o.prev);n.collapsed&&""!==ls(e)&&(r=e.dom.getParent(n.startContainer,"PRE"))&&!o(Je.fromRangeStart(n))&&(o=e.dom.create(ls(e)),(!Ke.ie||11<=Ke.ie)&&(o.innerHTML='<br data-mce-bogus="1">'),n=o,1===t?e.$(r).after(n):e.$(r).before(n),e.selection.select(n,!0),e.selection.collapse())}function Cy(t,e){return n=t,r=e?Ws.Forwards:Ws.Backwards,o=n.selection.getRng(),$b(n,r,o,xg,wg,D0).orThunk(function(){return yy(n,r,o),$e.none()}).exists(function(e){return Vb(t,e),!0});var n,r,o}function xy(t,e){return r=e?1:-1,o=(n=t).selection.getRng(),Wb(n,r,o,function(e){return xg(e)||yg(e)},function(e){return wg(e)||Cg(e)},D0).orThunk(function(){return yy(n,r,o),$e.none()}).exists(function(e){return Vb(t,e),!0});var n,r,o}function wy(e,t){return Kb(e,t,t?wg:xg)}function Sy(e){return tt(["figcaption"],$(e))}function Ey(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t}function ky(e,t,n){(n?jn:tn)(e,t)}function Ny(e,t){return!!e.selection.isCollapsed()&&(a=e,u=t,s=Ye.fromDom(a.getBody()),c=Je.fromRangeStart(a.selection.getRng()),l=ls(a),f=fs(a),e=c,t=Fe(I,s),pr(Ye.fromDom(e.container()),po,t).filter(Sy).exists(function(){var e,t,n,r,o,i=c;return!!(u?(r=s.dom,Tb):(r=s.dom,Db))(r,i).breakAt.isNone()&&(o=s,r=f,i=u,e=""===(e=l)?(t=i,ky(o,n=Ye.fromTag("br"),t),Ey(n)):(t=o,n=i,o=r,i=Ye.fromTag(e),r=Ye.fromTag("br"),kn(i,o),jn(i,r),ky(t,i,n),Ey(r)),a.selection.setRng(e),!0)}));var a,u,s,c,l,f}function Ze(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}}function _y(e,t){return rt((n=t,O(He(e,function(e){return We({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Le},e)}),function(e){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey?[e]:[]})),function(e){return e.action()});var n}function Ay(t,e){var e=e?Ws.Forwards:Ws.Backwards,n=t.selection.getRng();return $b(t,e,n,vg,bg,Zn).exists(function(e){return Vb(t,e),!0})}function Ry(t,e){var e=e?1:-1,n=t.selection.getRng();return Wb(t,e,n,vg,bg,Zn).exists(function(e){return Vb(t,e),!0})}function Dy(e,t){return Kb(e,t,t?bg:vg)}function Ty(e,t,n,r,o){var i,n=uu(Ye.fromDom(n),"td,th,caption").map(function(e){return e.dom}),e=Ve((i=e,O(n,function(e){var t={left:(t=hu(e.getBoundingClientRect())).left- -1,top:t.top- -1,right:t.right+-2,bottom:t.bottom+-2,width:t.width+-1,height:t.height+-1};return[{x:t.left,y:i(t),cell:e},{x:t.right,y:i(t),cell:e}]})),function(e){return t(e,o)}),a=r,u=o;return nt(e,function(e,r){return e.fold(function(){return $e.some(r)},function(e){var t=Math.sqrt(Math.abs(e.x-a)+Math.abs(e.y-u)),n=Math.sqrt(Math.abs(r.x-a)+Math.abs(r.y-u));return $e.some(n<t?r:e)})},$e.none()).map(function(e){return e.cell})}function Oy(e,t,n){var r,o,i=e(t,n);return i.breakType===Rb.Wrap&&0===i.positions.length||!M(n.getNode())&&i.breakType===Rb.Br&&1===i.positions.length?(r=e,o=t,!i.breakAt.exists(function(e){return r(o,e).breakAt.isSome()})):i.breakAt.isNone()}function By(t,e,n,r){var o,i,a,u=t.selection.getRng(),s=e?1:-1;return!(!Rs()||(o=e,i=n,a=Je.fromRangeStart(u),!Sc(!o,i).exists(function(e){return e.isEqual(a)}))||(bv(s,t,n,!e,!1).each(function(e){Vb(t,e)}),0))}function Py(u,s,c){var e=c.getNode(!!s),e=W(e)&&"TABLE"===e.nodeName?$e.some(e):$e.none(),t=!1===s;e.fold(function(){return Vb(u,c.toRange())},function(a){return Sc(t,u.getBody()).filter(function(e){return e.isEqual(c)}).fold(function(){return Vb(u,c.toRange())},function(e){var n,r,o=s,i=a,t=c;(r=ls(n=u))?n.undoManager.transact(function(){var e=Ye.fromTag(r),t=(kn(e,fs(n)),jn(e,Ye.fromTag("br")),(o?en:Zt)(Ye.fromDom(i),e),n.dom.createRng());t.setStart(e.dom,0),t.setEnd(e.dom,0),Vb(n,t)}):Vb(n,t.toRange())})})}function Ly(e,t,n,r){var o,i,a,u,s,c,l,f,d,m,g=e.selection.getRng(),g=Je.fromRangeStart(g),p=e.getBody();return t||!B0(r,g)?!(!t||!P0(r,g)||(o=p,d=i=n,Py(e,t,ut((m=a=g).getClientRects()).bind(function(e){return O0(d,e.left,e.top)}).bind(function(e){return Nb(Ul(t=e).map(function(e){return[e].concat(Tb(t,e).positions)}).getOr([]),m);var t}).orThunk(function(){return L(a.getClientRects()).bind(function(e){return kb(Bb(o,Je.after(i)),e.left)})}).getOr(Je.after(i))),0)):(u=p,l=s=n,Py(e,t,L((f=c=g).getClientRects()).bind(function(e){return T0(l,e.left,e.top)}).bind(function(e){return Nb(zl(t=e).map(function(e){return Db(t,e).positions.concat(e)}).getOr([]),f);var t}).orThunk(function(){return L(c.getClientRects()).bind(function(e){return kb(Ob(u,Je.before(s)),e.left)})}).getOr(Je.before(s))),!0)}function Iy(n,r,o){return $e.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(function(t){return $e.from(n.dom.getParent(t,"table")).map(function(e){return o(n,r,e,t)})}).getOr(!1)}function My(e,t){return Iy(e,t,By)}function Fy(e,t){return Iy(e,t,Ly)}function Uy(e,t){var n,r,o=t,i=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(t){/^(LI|DT|DD)$/.test(t.nodeName)&&(r=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild))&&/^(UL|OL|DL)$/.test(r.nodeName)&&t.insertBefore(i.doc.createTextNode(So),t.firstChild);var u=i.createRng();if(t.normalize(),t.hasChildNodes()){for(var s=new Ar(t,t);n=s.current();){if(j(n)){u.setStart(n,0),u.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}o=n,n=s.next()}n||(u.setStart(o,0),u.setEnd(o,0))}else M(t)?t.nextSibling&&i.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),Of(e,u)}}function zy(e){return $e.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))}function Hy(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t}function jy(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)}function Vy(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e}function qy(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!W(r);)r=r[n?"nextSibling":"previousSibling"];return r===t}function $y(e){e.innerHTML='<br data-mce-bogus="1">'}function Wy(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t}function Ky(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)}function Xy(e,t,n){return!1===j(t)?n:e?1===n&&t.data.charAt(n-1)===Eo?0:n:n===t.data.length-1&&t.data.charAt(n)===Eo?t.data.length:n}function Yy(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}function Gy(e,t){var n,r,o,i=ls(e);i&&i.toLowerCase()===t.tagName.toLowerCase()&&(n=t,t=fs(i=e),r=i.dom,$e.from(t.style).map(r.parseStyle).each(function(e){var t=Tn(Ye.fromDom(n)),t=We(We({},t),e);r.setStyles(n,t)}),xn($e.from(t.class).map(function(e){return e.split(/\s+/)}),$e.from(n.className).map(function(e){return Ve(e.split(/\s+/),function(e){return""!==e})}),function(t,e){e=Ve(e,function(e){return!tt(t,e)}),e=ye(ye([],t,!0),e,!0),r.setAttrib(n,"class",e.join(" "))}),o=["style","class"],i=te(t,function(e,t){return!tt(o,t)}),r.setAttribs(n,i))}function Jy(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Of(e,r)}function Qy(e,t){var n=Ye.fromTag("br");Zt(Ye.fromDom(t),n),e.undoManager.add()}function Zy(e,t){n=e.getBody(),o=Je.after(r=t),M(o.getNode())||Ml(n,Je.after(r)).map(function(e){return M(e.getNode())}).getOr(!1)||en(Ye.fromDom(t),Ye.fromTag("br"));var n,r,o=Ye.fromTag("br");en(Ye.fromDom(t),o),Jy(e,o.dom,!1),e.undoManager.add()}function e0(e){return e&&"A"===e.nodeName&&"href"in e}function t0(e){return e.fold(Ue,e0,e0,Ue)}function n0(e,t){t.fold(Le,Fe(Qy,e),Fe(Zy,e),Le)}function r0(e,t){var n,r,o,i,a,u,s,c,l,l=Fe(ev,r=e),n=Je.fromRangeStart(r.selection.getRng());(l=Yv(l,r.getBody(),n).filter(t0)).isSome()?l.each(Fe(n0,e)):(r=t,l=(n=e).selection,cf(t=n.dom,a=l.getRng()).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}),l=a.startOffset,1===(u=a.startContainer).nodeType&&u.hasChildNodes()&&(c=l>u.childNodes.length-1,u=u.childNodes[Math.min(l,u.childNodes.length-1)]||u,l=c&&3===u.nodeType?u.nodeValue.length:0),e=(c=(s=t.getParent(u,t.isBlock))?t.getParent(s.parentNode,t.isBlock):null)?c.nodeName.toUpperCase():"",r=!(!r||!r.ctrlKey),"LI"!==e||r||(s=c),u&&3===u.nodeType&&l>=u.nodeValue.length&&!function(e){for(var t,n=new Ar(u,s),r=e.getNonEmptyElements();t=n.next();)if(r[t.nodeName.toLowerCase()]||0<t.length)return 1}(n.schema)&&(o=t.create("br"),a.insertNode(o),a.setStartAfter(o),a.setEndAfter(o),i=!0),o=t.create("br"),Yu(t,a,o),Jy(n,o,i),n.undoManager.add())}function o0(e,t){return zy(e).filter(function(e){return 0<t.length&&Te(Ye.fromDom(e),t)}).isSome()}function i0(e,t){return o0(e,e.getParam("no_newline_selector",""))}function a0(n){return function(e,t){return""===ls(e)===n}}function u0(n){return function(e,t){return zy(e).filter(function(e){return bo(Ye.fromDom(e))}).isSome()===n}}function s0(n,r){return function(e,t){return zy(e).fold(Ie(""),function(e){return e.nodeName.toUpperCase()})===n.toUpperCase()===r}}function c0(e){return s0("pre",e)}function l0(n){return function(e,t){return e.getParam("br_in_pre",!0)===n}}function f0(e,t){return o0(e,e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))}function d0(e,t){return t}function m0(e){var t=ls(e),n=function(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")}function g0(e,t){return function(n,r){return nt(e,function(e,t){return e&&t(n,r)},!0)?$e.some(t):$e.none()}}function p0(R,D){var e=R,t=D;zv([g0([i0],L0.none()),g0([s0("summary",!0)],L0.br()),g0([c0(!0),l0(!1),d0],L0.br()),g0([c0(!0),l0(!1)],L0.block()),g0([c0(!0),l0(!0),d0],L0.block()),g0([c0(!0),l0(!0)],L0.br()),g0([u0(!0),d0],L0.br()),g0([u0(!0)],L0.block()),g0([a0(!0),d0,m0],L0.block()),g0([a0(!0)],L0.br()),g0([f0],L0.br()),g0([a0(!1),d0],L0.br()),g0([m0],L0.block())],[e,!(!t||!t.shiftKey)]).getOr(L0.none()).fold(function(){r0(R,D)},function(){var a=R,e=D;function t(e){var t,n=f,r=c.getTextInlineElements(),o=e||"TABLE"===v||"HR"===v?s.create(e||m):p.cloneNode(!1),i=o;if(!1===a.getParam("keep_styles",!0))s.setAttrib(o,"style",null),s.setAttrib(o,"class",null);else for(;!r[n.nodeName]||Ec(n)||Bc(n)||(t=n.cloneNode(!1),s.setAttrib(t,"id",""),o.hasChildNodes()?t.appendChild(o.firstChild):i=t,o.appendChild(t)),(n=n.parentNode)&&n!==_;);return Gy(a,o),$y(i),o}function n(e){var t,n,r=Xy(e,f,d);if(!j(f)||!(e?0<r:r<f.nodeValue.length)){if((f.parentNode!==p||!i||e)&&(!e||!W(f)||f!==p.firstChild)){if(Wy(f,"TABLE")||Wy(f,"HR"))return i&&!e||!i&&e;var o=new Ar(f,p);for(j(f)&&(e&&0===r?o.prev():e||r!==f.nodeValue.length||o.next());t=o.current();){if(W(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),l[n])&&"br"!==n)return}else if(j(t)&&!Vr(t.nodeValue))return;e?o.prev():o.next()}}return 1}}function r(){u=/^(H[1-6]|PRE|FIGURE)$/.test(v)&&"HGROUP"!==b?t(m):t(),a.getParam("end_container_on_empty_block",!1)&&Ky(s,h)&&s.isEmpty(p)?u=s.split(h,p):s.insertAfter(u,p),Uy(a,u)}var u,i,s=a.dom,c=a.schema,l=c.getNonEmptyElements(),o=a.selection.getRng(),f=(cf(s,o).each(function(e){o.setStart(e.startContainer,e.startOffset),o.setEnd(e.endContainer,e.endOffset)}),o.startContainer),d=o.startOffset,m=ls(a),g=!(!e||!e.shiftKey),e=!(!e||!e.ctrlKey);W(f)&&f.hasChildNodes()&&(i=d>f.childNodes.length-1,f=f.childNodes[Math.min(d,f.childNodes.length-1)]||f,d=i&&j(f)?f.nodeValue.length:0);var p,h,v,b,y,C,x,w,S,E,k,N,_=Yy(s,f);if(_)if((m&&!g||!m&&g)&&(f=function(e,t,n,r){var o,i,a,u,s=m||"P",c=e.dom,l=Yy(c,n),f=c.getParent(n,c.isBlock);if(!f||!Ky(c,f)){if(l=((f=f||l)===e.getBody()||(l=f)&&/^(TD|TH|CAPTION)$/.test(l.nodeName)?f:f.parentNode).nodeName.toLowerCase(),!f.hasChildNodes())return Gy(e,o=c.create(s)),f.appendChild(o),t.setStart(o,0),t.setEnd(o,0),o;for(a=n;a.parentNode!==f;)a=a.parentNode;for(;a&&!c.isBlock(a);)a=(i=a).previousSibling;if(i&&e.schema.isValidChild(l,s.toLowerCase())){for(Gy(e,o=c.create(s)),i.parentNode.insertBefore(o,i),a=i;a&&!c.isBlock(a);)u=a.nextSibling,o.appendChild(a),a=u;t.setStart(n,r),t.setEnd(n,r)}}return n}(a,o,f,d)),h=(p=s.getParent(f,s.isBlock))?s.getParent(p.parentNode,s.isBlock):null,v=p?p.nodeName.toUpperCase():"","LI"!==(b=h?h.nodeName.toUpperCase():"")||e||(h=(p=h).parentNode,v=b),/^(LI|DT|DD)$/.test(v)&&s.isEmpty(p))g=t,e=h,C=p,x=m,N=(y=a).dom,E=y.selection.getRng(),e!==y.getBody()&&(w=(x=jy(w=e)&&jy(w.parentNode)?"LI":x)?g(x):N.create("BR"),qy(e,C,!0)&&qy(e,C,!1)?Hy(e,"LI")?(g=Vy(e),N.insertAfter(w,g),(null==(S=(k=e).parentNode)?void 0:S.firstChild)===k?N.remove(g):N.remove(e)):N.replace(w,e):(qy(e,C,!0)?Hy(e,"LI")?(N.insertAfter(w,Vy(e)),w.appendChild(N.doc.createTextNode(" ")),w.appendChild(e)):e.parentNode.insertBefore(w,e):qy(e,C,!1)?N.insertAfter(w,Vy(e)):(e=Vy(e),(S=E.cloneRange()).setStartAfter(C),S.setEndAfter(e),k=S.extractContents(),"LI"===x&&k.firstChild&&"LI"===k.firstChild.nodeName?(w=k.firstChild,N.insertAfter(k,e)):(N.insertAfter(k,e),N.insertAfter(w,e))),N.remove(C)),Uy(y,w));else if(!m||p!==a.getBody()){if(m=m||"P",Br(p))u=Ur(p),s.isEmpty(p)&&$y(p),Gy(a,u),Uy(a,u);else if(n())r();else if(n(!0))u=p.parentNode.insertBefore(t(),p),Uy(a,Wy(p,"HR")?u:p);else{(E=(g=o).cloneRange()).setStart(g.startContainer,Xy(!0,g.startContainer,g.startOffset)),E.setEnd(g.endContainer,Xy(!1,g.endContainer,g.endOffset)),(S=E.cloneRange()).setEndAfter(p),x=S.extractContents(),je(Ou(Ye.fromDom(x),In),function(e){(e=e.dom).nodeValue=No(e.nodeValue)});for(var A=x;j(A)&&(A.nodeValue=A.nodeValue.replace(/^[\r\n]+/,"")),A=A.firstChild;);u=x.firstChild,s.insertAfter(x,p),function(e,t){var n,r,o=u,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;W(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(n=i.length;n--;)(!(o=i[n]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue||(r=o)&&"A"===r.nodeName&&e.isEmpty(r))&&e.remove(o)}}(s,l),k=s,(e=p).normalize(),(N=e.lastChild)&&!/^(left|right)$/gi.test(k.getStyle(N,"float",!0))||k.add(e,"br"),s.isEmpty(p)&&$y(p),u.normalize(),s.isEmpty(u)?(s.remove(u),r()):(Gy(a,u),Uy(a,u))}s.setAttrib(u,"id",""),a.fire("NewBlock",{newBlock:u})}},Le)}function h0(e){return e.stopImmediatePropagation()}function v0(e){return e.keyCode===Qe.PAGE_UP||e.keyCode===Qe.PAGE_DOWN}function b0(e,t,n){n&&!e.get()?t.on("NodeChange",h0,!0):!n&&e.get()&&t.off("NodeChange",h0),e.set(n)}function y0(n,r){var e=r.container(),t=r.offset();return j(e)?(e.insertData(t,n),$e.some(Je(e,t+n.length))):Hs(r).map(function(e){var t=Ye.fromText(n);return(r.isAtEnd()?en:Zt)(e,t),Je(t.dom,n.length)})}function C0(e){var t,n,r,o,i,a,u=Je.fromRangeStart(e.selection.getRng()),s=Ye.fromDom(e.getBody());return!!e.selection.isCollapsed()&&(r=Fe(ev,e),o=Je.fromRangeStart(e.selection.getRng()),Yv(r,e.getBody(),o).bind((n=s,function(e){return e.fold(function(e){return Fl(n.dom,Je.before(e))},function(e){return Ul(e)},function(e){return zl(e)},function(e){return Ml(n.dom,Je.after(e))})})).bind((i=s,a=u,function(e){return r=i,(!rm(e)&&(Fl((t=r).dom,n=e).isNone()||Ml(t.dom,n).isNone()||Sg(t,n)||Eg(t,n)||Qd(t,n)||Jd(t,n)||tm(r,e)||nm(r,e))?F0:U0)(a);var t,n,r})).exists((t=e,function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0})))}function x0(e,t){var n,r=e.selection.getRng(),e=e.getBody();return t?(n=Je.fromRangeEnd(r),ut(Tb(e,n).positions)):(n=Je.fromRangeStart(r),L(Db(e,n).positions))}function w0(e){return Ve(He(e.selection.getSelectedBlocks(),Ye.fromDom),function(e){return!ly(e)&&!Ht(e).exists(ly)&&pr(e,function(e){return Jn(e.dom)||F(e.dom)}).exists(function(e){return Jn(e.dom)})})}var S0,E0=Fe(Pb,(S0={Up:-1,"-1":"Up",Down:1,1:"Down"}).Up,yu,Cu),k0=Fe(Pb,S0.Down,Cu,yu),N0=F,_0=Os,A0=Fe(Qb,!0),R0=Fe(Qb,!1),D0=F,T0=Fe(Ty,function(e){return e.bottom},function(e,t){return e.y<t}),O0=Fe(Ty,function(e){return e.top},function(e,t){return e.y>t}),B0=Fe(Oy,Db),P0=Fe(Oy,Tb),L0=ar([{br:[]},{block:[]},{none:[]}]),I0=Rt().browser,M0=Rt(),F0=Fe(y0,So),U0=Fe(y0," "),z0=(H0.prototype.nodeChanged=function(e){var t,n,r=this.editor.selection;this.editor.initialized&&r&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(n=this.editor.getBody(),(r=r.getStart(!0)||n).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,n)||(r=n),t=[],this.editor.dom.getParent(r,function(e){return e===n||void t.push(e)}),(e=e||{}).element=r,e.parents=t,this.editor.fire("NodeChange",e))},H0.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;0<=t&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},H0);function H0(n){this.lastPath=[],this.editor=n;var r,t=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(e){var t={startContainer:(t=n.selection.getRng()).startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};"nodechange"!==e.type&&nf(t,r)||n.fire("SelectionChange"),r=t}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var e=n.selection.getStart(!0);!e||!Ke.range&&n.selection.isCollapsed()||gl(n)&&!t.isSameElementPath(e)&&n.dom.isChildOf(e,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(e){!e.isDefaultPrevented()&&gl(n)&&("IMG"===n.selection.getNode().nodeName?Nr.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}function j0(e){return W(e)&&ho(Ye.fromDom(e))}function V0(e){var t=e.getBoundingClientRect(),n=(e=e.ownerDocument).documentElement,e=e.defaultView;return{top:t.top+e.pageYOffset-n.clientTop,left:t.left+e.pageXOffset-n.clientLeft}}function q0(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function $0(e){function t(){g.on(function(e){e.dragging&&r.fire("dragend")}),lC(g)}function n(l){return s.on(function(e){var t,n,r,o,i,a,u,s,c=Math.max(Math.abs(l.screenX-e.screenX),Math.abs(l.screenY-e.screenY));if(!e.dragging&&10<c){if(f.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,f.focus()}e.dragging&&(c=e,a={pageX:(u=l,t=(o=f).inline?V0(o.getBody()):{left:0,top:0},r=(n=o).getBody(),n=n.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0},(i={pageX:(r=o,(r=(o=u).target.ownerDocument===r.getDoc()?{left:o.pageX,top:o.pageY}:(u=V0(r.getContentAreaContainer()),a=r.getBody(),s=r.getDoc().documentElement,i={left:a.scrollLeft,top:a.scrollTop},a={left:a.scrollLeft||s.scrollLeft,top:a.scrollTop||s.scrollTop},s=r.inline?i:a,{left:o.pageX-u.left+s.left,top:o.pageY-u.top+s.top})).left-t.left+n.left),pageY:r.top-t.top+n.top}).pageX-c.relX),pageY:i.pageY+5},o=e.ghost,u=f.getBody(),o.parentNode!==u&&u.appendChild(o),s=e.ghost,r=e.width,t=e.height,n=e.maxX,c=e.maxY,u=0,s.style.left=(o=a).pageX+"px",s.style.top=o.pageY+"px",c<o.pageY+t&&(u=o.pageY+t-c),s.style.width=r-(n<o.pageX+r?o.pageX+r-n:0)+"px",s.style.height=t-u+"px",d(l.clientX,l.clientY))})}var r,o,a,i,u,s,f,d,c=eu(),l=Ge.DOM,m=document,g=(s=i=c,f=u=e,d=Nr.throttle(function(e,t){f._selectionOverrides.hideFakeCaret(),f.selection.placeCaretAt(e,t)},0),f.on("remove",d.stop),o=c);(r=a=e).on("mousedown",function(e){var t,n,r,o;0===e.button&&(o=rt(u.dom.getParents(e.target),function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}}(fC,dC)).getOr(null),t=u.getBody(),fC(r=o))&&r!==t&&(r=u.dom.getPos(o),t=u.getBody(),n=u.getDoc().documentElement,i.set({element:o,dragging:!1,screenX:e.screenX,screenY:e.screenY,maxX:(u.inline?t.scrollWidth:n.offsetWidth)-2,maxY:(u.inline?t.scrollHeight:n.offsetHeight)-2,relX:e.pageX-r.x,relY:e.pageY-r.y,width:o.offsetWidth,height:o.offsetHeight,ghost:(n=(t=o).offsetWidth,e=o.offsetHeight,r=u.dom,t=t.cloneNode(!0),r.setStyles(t,{width:n,height:e}),r.setAttrib(t,"data-mce-selected",null),o=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}),r.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:e}),r.setStyles(t,{margin:0,boxSizing:"border-box"}),o.appendChild(t),o)}))}),e.on("mousemove",n),e.on("mouseup",function(i){o.on(function(e){var t,n,r,o;e.dragging&&((o=3===(o=(n=a).selection.getSel().getRangeAt(0).startContainer).nodeType?o.parentNode:o)===(r=e.element)||n.dom.isChildOf(o,r)||fC(o)||((n=e.element.cloneNode(!0)).removeAttribute("data-mce-selected"),t=n,a.fire("drop",{clientX:i.clientX,clientY:i.clientY}).isDefaultPrevented())||a.undoManager.transact(function(){q0(e.element),a.insertContent(a.dom.getOuterHTML(t)),a._selectionOverrides.hideFakeCaret()}),a.fire("dragend"))}),lC(o)}),l.bind(m,"mousemove",n),l.bind(m,"mouseup",t),e.on("remove",function(){l.unbind(m,"mousemove",n),l.unbind(m,"mouseup",t)}),e.on("keydown",function(e){e.keyCode===Qe.ESC&&t()})}function W0(e,t){return Gl(e.getBody(),t)}function K0(l){function f(e){return e!==_&&(gC(e)||Zn(e))&&k.isChildOf(e,_)}function d(e){return xg(e)||wg(e)||vg(e)||bg(e)}function m(e){e&&E.setRng(e)}function g(e,t,n,r){return void 0===r&&(r=!0),l.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(r&&E.scrollIntoView(t,-1===e),A.show(n,t))}function t(e){return Lr(e)||lo(e)||fo(e)}function s(e){return t(e.startContainer)||t(e.endContainer)}function p(e,t){if(e)if(e.collapsed){if(!s(e)){var n=zs(a=t?1:-1,_,e);if(Ds(u=n.getNode(!t)))return g(a,u,!!t&&!n.isAtEnd(),!1);if(Ds(u=n.getNode(t)))return g(a,u,!t&&!n.isAtEnd(),!1)}}else{var r,o,i,a=e.startContainer,u=e.startOffset,t=e.endOffset;if(3===a.nodeType&&0===u&&gC(a.parentNode)&&(a=a.parentNode,u=k.nodeIndex(a),a=a.parentNode),1===a.nodeType&&t===u+1&&a===e.endContainer&&f(n=a.childNodes[u]))return e=(t=n).cloneNode(!0),(a=l.fire("ObjectSelected",{target:t,targetClone:e})).isDefaultPrevented()?null:(u=t,a=a.targetClone,o=l.$,0===(n=vr(Ye.fromDom(l.getBody()),"#"+R).fold(function(){return o([])},function(e){return o([e.dom])})).length&&(n=o('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",R)).appendTo(l.getBody()),i=k.createRng(),a===e&&Ke.ie?(n.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(a),i.setStartAfter(n[0].firstChild.firstChild),i.setEndAfter(a)):(n.empty().append(So).append(a).append(So),i.setStart(n[0].firstChild,1),i.setEnd(n[0].lastChild,0)),n.css({top:k.getPos(u,l.getBody()).y}),n[0].focus(),(e=E.getSel()).removeAllRanges(),e.addRange(i),a=i,r=Ye.fromDom(t),je(uu(Ye.fromDom(l.getBody()),"*[data-mce-selected]"),function(e){I(r,e)||An(e,D)}),k.getAttrib(t,D)||t.setAttribute(D,"1"),c=t,v(),a)}return null}function h(){c&&c.removeAttribute(D),vr(Ye.fromDom(l.getBody()),"#"+R).each(Vn),c=null}function v(){A.hide()}var c,n,e,r,o,i,a,u,b,y,C,x,w,S,E=l.selection,k=l.dom,N=k.isBlock,_=l.getBody(),A=(a=l,u=_,b=N,y=function(){return Yf(l)},w=eu(),S=0<(a=ls(a)).length?a:"p",{show:function(e,t){var n,r,o,i;return O(),ac(t)?null:(b(t)?(o=e,(n=(i=t).ownerDocument.createElement(S)).setAttribute("data-mce-caret",o?"before":"after"),n.setAttribute("data-mce-bogus","all"),n.appendChild(((r=document.createElement("br")).setAttribute("data-mce-bogus","1"),r)),r=i.parentNode,o?r.insertBefore(n,i):i.nextSibling?r.insertBefore(n,i.nextSibling):r.appendChild(n),x=n,o=As(u,t,e),X(x).css("top",o.top),i=X('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(We({},o)).appendTo(u)[0],w.set({caret:i,element:t,before:e}),e&&X(i).addClass("mce-visual-caret-before"),C=Nr.setInterval(function(){y()?X("div.mce-visual-caret",u).toggleClass("mce-visual-caret-hidden"):X("div.mce-visual-caret",u).addClass("mce-visual-caret-hidden")},500),(r=t.ownerDocument.createRange()).setStart(x,0),r.setEnd(x,0)):(x=function(e,t){var n=e.ownerDocument.createTextNode(Eo),r=e.parentNode;if(t){if(o=e.previousSibling,Ao(o)){if(Lr(o))return o;if(fo(o))return o.splitText(o.data.length-1)}r.insertBefore(n,e)}else{var o=e.nextSibling;if(Ao(o)){if(Lr(o))return o;if(lo(o))return o.splitText(1),o}e.nextSibling?r.insertBefore(n,e.nextSibling):r.appendChild(n)}return n}(t,e),r=t.ownerDocument.createRange(),$s(x.nextSibling)?(r.setStart(x,0),r.setEnd(x,0)):(r.setStart(x,1),r.setEnd(x,1))),r)},hide:O,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){w.on(function(e){var t=As(u,e.element,e.before);X(e.caret).css(We({},t))})},destroy:function(){return Nr.clearInterval(C)}}),R="sel-"+k.uniqueId(),D="data-mce-selected",T=E.getRng;function O(){for(var e=uu(Ye.fromDom(u),"*[contentEditable=false],video,audio,embed,object"),t=0;t<e.length;t++){var n,r=e[t].dom,o=r.previousSibling;fo(o)&&(1===(n=o.data).length?o.parentNode.removeChild(o):o.deleteData(n.length-1,1)),lo(o=r.nextSibling)&&(1===(n=o.data).length?o.parentNode.removeChild(o):o.deleteData(0,1))}x&&(qs(x),x=null),w.on(function(e){X(e.caret).remove(),w.clear()}),C&&(Nr.clearInterval(C),C=void 0)}return Ke.ceFalse&&!Np(l)&&(l.on("mouseup",function(e){var t=T();t.collapsed&&ch(l,e.clientX,e.clientY)&&Cv(l,t,!1).each(m)}),l.on("click",function(e){var t=W0(l,e.target);t&&(gC(t)&&(e.preventDefault(),l.focus()),mC(t))&&k.isChildOf(t,E.getNode())&&h()}),l.on("blur NewBlock",h),l.on("ResizeWindow FullscreenStateChanged",A.reposition),l.on("tap",function(e){var t=e.target,n=W0(l,t);gC(n)?(e.preventDefault(),yv(l,n).each(p)):f(t)&&yv(l,t).each(p)},!0),l.on("mousedown",function(e){var t,n,r,o,i,a,u=e.target;function s(e){return!bn(e.node)&&!Zn(e.node)}function c(t,e){return e=Ve(Ab([e]),function(e){return!t(e,o)}),i=i.concat(e),0===e.length}u!==_&&"HTML"!==u.nodeName&&!k.isChildOf(u,_)||!1===ch(l,e.clientX,e.clientY)||((t=W0(l,u))?gC(t)?(e.preventDefault(),yv(l,t).each(p)):(h(),mC(t)&&e.shiftKey||Jl(e.clientX,e.clientY,E.getRng())||(v(),E.placeCaretAt(e.clientX,e.clientY))):f(u)?yv(l,u).each(p):!1===Ds(u)&&(h(),v(),t=_,n=e.clientX,r=e.clientY,a=Ab(Ve(st(t.getElementsByTagName("*")),Ds)),r=(r=(r=Hb(a=Ve(a,Fe(zb,r)),n,s))&&Hb((a=t,void 0===(t=s(o=r))&&(t=!0),(i=[]).push(o),jb(S0.Up,a,Fe(c,yu),o.node,t),jb(S0.Down,a,Fe(c,Cu),o.node,t),i),n,s))&&Ds(r.node)?{node:(a=r).node,before:Mb(a,t=n)<Fb(a,t)}:null)&&(n=r.node,t=k.getParent(a=u,N),u=k.getParent(n,N),!Y(t)&&(a!==u&&k.isChildOf(t,u)&&!1===gC(W0(l,t))||!k.isChildOf(u,t)&&(n=u,k.getParent(t,N)!==k.getParent(n,N))&&(!Y(u=(a=t).firstChild)&&(u=Je.before(u),M(u.getNode())&&1===a.childNodes.length?!d(u):(a=bc(a).next(u))&&!d(a))))||(e.preventDefault(),m(g(1,r.node,r.before,!1)),l.getBody().focus())))}),l.on("keypress",function(e){Qe.modifierPressed(e)||gC(E.getNode())&&e.preventDefault()}),l.on("GetSelectionRange",function(e){var t=e.range;c&&(c.parentNode?((t=t.cloneRange()).selectNode(c),e.range=t):c=null)}),l.on("SetSelectionRange",function(e){e.range=(i=e.range,t=l.schema.getShortEndedElements(),n=k.createRng(),a=i.startContainer,r=i.startOffset,o=i.endContainer,i=i.endOffset,re(t,a.nodeName.toLowerCase())?0===r?n.setStartBefore(a):n.setStartAfter(a):n.setStart(a,r),re(t,o.nodeName.toLowerCase())?0===i?n.setEndBefore(o):n.setEndAfter(o):n.setEnd(o,i),n);var t,n,r,o,i,a=p(e.range,e.forward);a&&(e.range=a)}),l.on("AfterSetSelectionRange",function(e){var t=(e=e.range).startContainer.parentNode;s(e)||"mcepastebin"===t.id||v(),k.hasClass(t,"mce-offscreen-selection")||h()}),l.on("copy",function(e){var t,n=e.clipboardData;e.isDefaultPrevented()||!e.clipboardData||Ke.ie||(t=(t=k.get(R))&&t.getElementsByTagName("*")[0])&&(e.preventDefault(),n.clearData(),n.setData("text/html",t.outerHTML),n.setData("text/plain",t.outerText||t.innerText))}),$0(a=l),(o=a).on("drop",function(e){var t=void 0!==e.clientX?o.getDoc().elementFromPoint(e.clientX,e.clientY):null;!fC(t)&&"false"!==o.dom.getContentEditableParent(t)||e.preventDefault()}),a.getParam("block_unsupported_drop",!0,"boolean")&&(i=a).on("init",function(){Nr.setEditorTimeout(i,L,0)}),e=tu(function(){var e;!n.removed&&n.getBody().contains(document.activeElement)&&(e=n.selection.getRng()).collapsed&&(e=xv(n,e,!1),n.selection.setRng(e))},0),(n=l).on("focus",function(){e.throttle()}),n.on("blur",function(){e.cancel()}),(r=l).on("init",function(){r.on("focusin",function(e){var t,e=e.target;Zn(e)&&(t=Gl(r.getBody(),e),t=F(t)?t:e,r.selection.getNode()!==t)&&yv(r,t).each(function(e){return r.selection.setRng(e)})})})),{showCaret:g,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Ur(e),m(T()),E.scrollIntoView(e))},hideFakeCaret:v,destroy:function(){A.destroy(),c=null}};function B(e){var t;e.isDefaultPrevented()||(t=e.dataTransfer)&&(tt(t.types,"Files")||0<t.files.length)&&(e.preventDefault(),"drop"===e.type)&&Fh(i,"Dropped file type is not supported")}function P(e){qf(i,e.target)&&B(e)}function L(){var t=Ge.DOM,n=i.dom,r=document,o=i.inline?i.getBody():i.getDoc(),e=["drop","dragover"];je(e,function(e){t.bind(r,e,P),n.bind(o,e,B)}),i.on("remove",function(){je(e,function(e){t.unbind(r,e,P),n.unbind(o,e,B)})})}}function X0(e){return te(e,function(e){return!1===v(e)})}function Y0(e){return X0({block_elements:(e=e.settings).block_elements,boolean_attributes:e.boolean_attributes,custom_elements:e.custom_elements,extended_valid_elements:e.extended_valid_elements,invalid_elements:e.invalid_elements,invalid_styles:e.invalid_styles,move_caret_before_on_enter_elements:e.move_caret_before_on_enter_elements,non_empty_elements:e.non_empty_elements,schema:e.schema,self_closing_elements:e.self_closing_elements,short_ended_elements:e.short_ended_elements,special:e.special,text_block_elements:e.text_block_elements,text_inline_elements:e.text_inline_elements,valid_children:e.valid_children,valid_classes:e.valid_classes,valid_elements:e.valid_elements,valid_styles:e.valid_styles,verify_html:e.verify_html,whitespace_elements:e.whitespace_elements,padd_empty_block_inline_children:e.format_empty_lines})}function G0(e){var t=e.settings,n=e.editorUpload.blobCache;return X0({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:e.inline?e.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:n,document:e.getDoc(),images_dataimg_filter:t.images_dataimg_filter})}function J0(e){return(e.inline?e.ui:e.dom).styleSheetLoader}function Q0(e){function t(){o.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(i)}function n(){e.removed?t():e.on("remove",t)}var r,o=J0(e),i=vs(e),a=e.contentCSS;0<e.contentStyles.length&&(r="",Xe.each(e.contentStyles,function(e){r+=e+"\r\n"}),e.dom.addStyle(r));var u,s,c,l,f,d,m,g=kr.all((u=e,s=a,c=i,g=[new kr(function(e,t){return J0(u).loadAll(s,e,t)})],u.inline?g:g.concat([new kr(function(e,t){return u.ui.styleSheetLoader.loadAll(c,e,t)})]))).then(n).catch(n);return e.settings.content_style&&(f=(l=e).settings.content_style,d=Ye.fromDom(l.getBody()),d=Jt(Hn(d)),En(m=Ye.fromTag("style"),"type","text/css"),jn(m,Ye.fromText(f)),jn(d,m),l.on("remove",function(){Vn(m)})),g}function Z0(e){var t,n,o;!0!==e.removed&&(Np(t=e)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),(t=e).bindPendingEventDelegates(),t.initialized=!0,t.fire("Init"),t.focus(!0),e=(o=t).dom.getRoot(),o.inline||gl(o)&&o.selection.getStart(!0)!==e||Ul(e).each(function(e){var t,n,r=bn(r=e.getNode())?Ul(r).getOr(e):e;Ke.browser.isIE()?(e=o,n=r.toRange(),t=Ye.fromDom(e.getBody()),n=(Uf(e)?$e.from(n):$e.none()).map(zf).filter(Ff(t)),e.bookmark=n.isSome()?n:e.bookmark):o.selection.setRng(r.toRange())}),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),(n=t).settings.auto_focus)&&Nr.setEditorTimeout(n,function(){var e=!0===n.settings.auto_focus?n:n.editorManager.get(n.settings.auto_focus);e.destroyed||e.focus()},100)}function eC(t,e){var u,I,M,o,i,a,n,s,r,F,c,U,l,f,d,z,H,m,g=t.settings,p=t.getElement(),h=t.getDoc();function j(t){return function(e){return s.selection?t(e):[]}}function V(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e}function q(e,t,n){return e=V(e,'src="'+t+'"','src="'+n+'"'+(n===Ke.transparentSrc?' data-mce-placeholder="1"':"")),V(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function $(t,n){je(s.undoManager.data,function(e){"fragmented"===e.type?e.fragments=He(e.fragments,function(e){return q(e,t,n)}):e.content=q(e.content,t,n)})}function W(t){return r=r||$h(s,d),m().then(j(function(u){var e=He(u,function(e){return e.blobInfo});return r.upload(e,qh(s)).then(j(function(e){var a=[];return 0<(e=He(e,function(e,t){var n,r,o,i=u[t].blobInfo,t=u[t].image;return e.status&&s.getParam("images_replace_blob_uris",!0,"boolean")?(f.removeByUri(t.src),Np(s)||(n=t,r=e.url,o=s.convertURL(r,"src"),$(n.src,r),s.$(n).attr({src:s.getParam("images_reuse_filename",!1,"boolean")?r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime():r,"data-mce-src":o}))):e.error&&(e.error.options.remove&&($(t.getAttribute("src"),Ke.transparentSrc),a.push(t)),n=e.error.message,Fh(s,Za.translate(["Failed to upload image: {0}",n]))),{element:t,status:e.status,uploadUri:e.url,blobInfo:i}})).length&&H.fireIfChanged(),0<a.length&&(Np(s)?console.error("Removing images on failed uploads is currently unsupported for RTC"):s.undoManager.transact(function(){je(a,function(e){s.dom.remove(e),f.removeByUri(e.src)})})),t&&t(e),e}))}))}function K(e){if(ds(s))return W(e)}function X(t){return!1!==ot(z,function(e){return e(t)})&&(0!==t.getAttribute("src").indexOf("data:")||s.getParam("images_dataimg_filter",ze,"function")(t))}function Y(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=d.getResultUri(n);return t?'src="'+t+'"':(t=(t=f.getByUri(n))||nt(s.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null))?'src="data:'+t.blob().type+";base64,"+t.base64()+'"':e})}function v(e){return rt(l,e).getOrUndefined()}function G(e){var t,n,r;if(e.blob&&e.base64)return t=e.id||Vh("blobid"),n=e.name||t,r=e.blob,{id:Ie(t),name:Ie(n),filename:Ie(e.filename||n+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[r.type.toLowerCase()]||"dat")),blob:Ie(r),base64:Ie(e.base64),blobUri:Ie(e.blobUri||URL.createObjectURL(r)),uri:Ie(e.uri)};throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")}function J(t){return v(function(e){return e.id()===t})}g.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(h.open(),h.write(t.iframeHTML),h.close()),t.inline&&(pC.addClass(p,"mce-content-body"),t.contentDocument=h=document,t.contentWindow=window,t.bodyElement=p,t.contentAreaContainer=p),(e=t.getBody()).disabled=!0,t.readonly=!!g.readonly,t.readonly||(t.inline&&"static"===pC.getStyle(e,"position",!0)&&(e.style.position="relative"),e.contentEditable=t.getParam("content_editable_state",!0)),e.disabled=!1,t.editorUpload=(l=[],f={create:function(e,t,n,r,o){if(Me(e))return G({id:e,name:r,filename:o,blob:t,base64:n});if(et(e))return G(e);throw new Error("Unknown input type")},add:function(e){J(e.id())||l.push(e)},get:J,getByUri:function(t){return v(function(e){return e.blobUri()===t})},getByData:function(t,n){return v(function(e){return e.base64()===t&&e.blob().type===n})},findFirst:v,removeByUri:function(t){l=Ve(l,function(e){return e.blobUri()!==t||void URL.revokeObjectURL(e.blobUri())})},destroy:function(){je(l,function(e){URL.revokeObjectURL(e.blobUri())}),l=[]}},d=jh(),z=[],U=Xa(null),(c=s=t).on("change AddUndo",function(e){U.set(We({},e.level))}),H={fireIfChanged:function(){var t=c.undoManager.data;ut(t).filter(function(e){return!xp(U.get(),e)}).each(function(e){c.setDirty(!0),c.fire("change",{level:e,lastLevel:at(t,t.length-2).getOrNull()})})}},m=function(){return(F=F||(r=d,c=f,o={},{findAll:function(e,n){return n=n||ze,e=He(Ve(e?st(e.getElementsByTagName("img")):[],function(e){var t=e.src;return Ke.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&t&&t!==Ke.transparentSrc&&(0===t.indexOf("blob:")?!r.isUploaded(t)&&n(e):0===t.indexOf("data:")&&n(e))}),function(s){var e;return void 0!==o[s.src]?new kr(function(t){o[s.src].then(function(e){return"string"==typeof e?e:void t({image:s,blobInfo:e.blobInfo})})}):(e=new kr(function(e,t){var r,o,i,a=c,u=e,n=t;0!==(r=s).src.indexOf("blob:")?(t=(e=Wp(r.src)).data,e=e.type,o=t,(i=a.getByData(o,e))?u({image:r,blobInfo:i}):Xp(r.src).then(function(e){i=a.create(Yp(),e,o),a.add(i),u({image:r,blobInfo:i})},function(e){n(e)})):(i=a.getByUri(r.src))?u({image:r,blobInfo:i}):Xp(r.src).then(function(t){var n=t;new kr(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n)}).then(function(e){o=Wp(e).data,i=a.create(Yp(),t,o),a.add(i),u({image:r,blobInfo:i})})},function(e){n(e)})}).then(function(e){return delete o[e.image.src],e}).catch(function(e){return delete o[s.src],e}),o[s.src]=e)}),kr.all(e)}})).findAll(s.getBody(),X).then(j(function(e){return e=Ve(e,function(e){return"string"!=typeof e||void Fh(s,e)}),Np(s)||je(e,function(e){$(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}));var r,c,o},s.on("SetContent",function(){(ds(s)?K:m)()}),s.on("RawSaveContent",function(e){e.content=Y(e.content)}),s.on("GetContent",function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=Y(e.content))}),s.on("PostRender",function(){s.parser.addNodeFilter("img",function(e){je(e,function(e){var t=e.attr("src");f.getByUri(t)||(t=d.getResultUri(t))&&e.attr("src",t)})})}),{blobCache:f,addFilter:function(e){z.push(e)},uploadImages:W,uploadImagesAuto:K,scanForImages:m,destroy:function(){f.destroy(),d.destroy(),F=r=null}}),t.schema=no(Y0(t)),t.dom=Ge(h,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:g.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:t.getParam("content_css_cors",!1,"boolean"),referrerPolicy:gs(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=((p=Qp(G0(u=t),u.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,o=e.length,i=u.dom,a="data-mce-"+t;o--;)(r=(n=e[o]).attr(t))&&!n.attr(a)&&0!==r.indexOf("data:")&&0!==r.indexOf("blob:")&&("style"===t?((r=i.serializeStyle(i.parseStyle(r),n.name)).length||(r=null),n.attr(a,r),n.attr(t,r)):"tabindex"===t?(n.attr(a,r),n.attr(t,null)):n.attr(a,u.convertURL(r,t,n.name)))}),p.addNodeFilter("script",function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}}),u.settings.preserve_cdata&&p.addNodeFilter("#cdata",function(e){for(var t=e.length;t--;){var n=e[t];n.type=8,n.name="#comment",n.value="[CDATA["+u.dom.encode(n.value)+"]]"}}),p.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t=e.length,n=u.schema.getNonEmptyElements();t--;){var r=e[t];r.isEmpty(n)&&0===r.getAll("br").length&&(r.append(new md("br",1)).shortEnded=!0)}}),p),t.serializer=eh((h=(e=t).settings,We(We(We({},G0(e)),Y0(e)),X0({url_converter:h.url_converter,url_converter_scope:h.url_converter_scope,element_format:h.element_format,entities:h.entities,entity_encoding:h.entity_encoding,indent:h.indent,indent_after:h.indent_after,indent_before:h.indent_before}))),t),t.selection=$p(t.dom,t.getWin(),t.serializer,t),t.annotator=yl(t),t.formatter=Yh(t),t.undoManager=Jh(t),t._nodeChangeDispatcher=new z0(t),t._selectionOverrides=K0(t),o=t,i=eu(),a=Xa(!1),n=nu(function(e){o.fire("longpress",We(We({},e),{type:"longpress"})),a.set(!0)},400),o.on("touchstart",function(t){gy(t).each(function(e){n.cancel(),e={x:e.clientX,y:e.clientY,target:t.target},n.throttle(t),a.set(!1),i.set(e)})},!0),o.on("touchmove",function(e){n.cancel(),gy(e).each(function(r){i.on(function(e){var t=r,n=Math.abs(t.clientX-e.x),t=Math.abs(t.clientY-e.y);(5<n||5<t)&&(i.clear(),a.set(!1),o.fire("longpresscancel"))})})},!0),o.on("touchend touchcancel",function(t){n.cancel(),"touchcancel"!==t.type&&i.get().filter(function(e){return e.target.isEqualNode(t.target)}).each(function(){a.get()?t.preventDefault():o.fire("tap",We(We({},t),{type:"tap"}))})},!0),(M=g=t).on("click",function(e){M.dom.getParent(e.target,"details")&&e.preventDefault()}),(p=g).parser.addNodeFilter("details",function(e){je(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),p.serializer.addNodeFilter("details",function(e){je(e,function(e){var t=e.attr("data-mce-open");e.attr("open",Me(t)?t:null),e.attr("data-mce-open",null)})}),Np(t)||(I=t).on("click",function(e){var t,n,r,o;3<=e.detail&&(n=(e=I).selection.getRng(),r=Je.fromRangeStart(n),o=Je.fromRangeEnd(n),Je.isElementPosition(r)&&j0(t=r.container())&&Ul(t).each(function(e){return n.setStart(e.container(),e.offset())}),Je.isElementPosition(o)&&j0(t=r.container())&&zl(t).each(function(e){return n.setEnd(e.container(),e.offset())}),e.selection.setRng(jm(n)))});var b,y,Q,C,x,w,S,Z,E,ee,te,ne,k,re,oe,ie,N,ae,ue,se,ce,le,_,A,fe,de,me,R,D,ge,pe,he,T,O,B,ve,be,ye=Np(e=t)?Xa(null):(B=h=e,ve=Xa(null),be=Fe(ev,B),B.on("NodeChange",function(e){var n,r,o,t,i,a,u,s,c,l,f,d;!xs(B)||Ke.browser.isIE()&&e.initial||(t=be,s=B.dom,a=e.parents,je(it(s=Ve(He(uu(Ye.fromDom(s.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(e){return e.dom}),t),a=Ve(a,t)),Fe(Yb,!1)),je(it(a,s),Fe(Yb,!0)),t=ve,(a=B).selection.isCollapsed()&&!0!==a.composing&&t.get()&&(s=Je.fromRangeStart(a.selection.getRng()),Je.isTextPosition(s))&&!1===(Mr(i=s)||Fr(i))&&(Xb(a,(i=t.get(),a=s,Je.isTextPosition(a)?(s=a,nc(u=i)&&s.container()===u?(l=Es((d=u).data.substr(0,(c=s).offset())),f=Es(d.data.substr(c.offset())),0<(l.text+f.text).length?(ks(d),Je(d,c.offset()-l.count)):c):Ns(u,s)):(f=i,((d=a).container()===f.parentNode?_s:Ns)(f,d)))),t.set(null)),n=be,r=B,o=ve,l=e.parents,r.selection.isCollapsed()&&je(Ve(l,n),function(e){var t=Je.fromRangeStart(r.selection.getRng());Yv(n,r.getBody(),t).bind(function(e){return Gb(r,o,e)})}))}),g=ve,h.on("keyup compositionstart",Fe(by,h)),se=g,(ue=h).on("keydown",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(t=ue,n=se,r=e,e=Rt().os,_y([{keyCode:Qe.RIGHT,action:Ze(Cy,t,!0)},{keyCode:Qe.LEFT,action:Ze(Cy,t,!1)},{keyCode:Qe.UP,action:Ze(xy,t,!1)},{keyCode:Qe.DOWN,action:Ze(xy,t,!0)},{keyCode:Qe.RIGHT,action:Ze(My,t,!0)},{keyCode:Qe.LEFT,action:Ze(My,t,!1)},{keyCode:Qe.UP,action:Ze(Fy,t,!1)},{keyCode:Qe.DOWN,action:Ze(Fy,t,!0)},{keyCode:Qe.RIGHT,action:Ze(Ay,t,!0)},{keyCode:Qe.LEFT,action:Ze(Ay,t,!1)},{keyCode:Qe.UP,action:Ze(Ry,t,!1)},{keyCode:Qe.DOWN,action:Ze(Ry,t,!0)},{keyCode:Qe.RIGHT,action:Ze(Jb,t,n,!0)},{keyCode:Qe.LEFT,action:Ze(Jb,t,n,!1)},{keyCode:Qe.RIGHT,ctrlKey:!e.isOSX(),altKey:e.isOSX(),action:Ze(A0,t,n)},{keyCode:Qe.LEFT,ctrlKey:!e.isOSX(),altKey:e.isOSX(),action:Ze(R0,t,n)},{keyCode:Qe.UP,action:Ze(Ny,t,!1)},{keyCode:Qe.DOWN,action:Ze(Ny,t,!0)}],r).each(function(e){r.preventDefault()}))}),ae=g,(N=h).on("keydown",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=ae,n=e,_y([{keyCode:Qe.BACKSPACE,action:Ze(dy,e=N,!1)},{keyCode:Qe.BACKSPACE,action:Ze(Tv,e,!1)},{keyCode:Qe.DELETE,action:Ze(Tv,e,!0)},{keyCode:Qe.BACKSPACE,action:Ze(kv,e,!1)},{keyCode:Qe.DELETE,action:Ze(kv,e,!0)},{keyCode:Qe.BACKSPACE,action:Ze(ny,e,t,!1)},{keyCode:Qe.DELETE,action:Ze(ny,e,t,!0)},{keyCode:Qe.BACKSPACE,action:Ze(Hm,e,!1)},{keyCode:Qe.DELETE,action:Ze(Hm,e,!0)},{keyCode:Qe.BACKSPACE,action:Ze(Ov,e,!1)},{keyCode:Qe.DELETE,action:Ze(Ov,e,!0)},{keyCode:Qe.BACKSPACE,action:Ze(ay,e,!1)},{keyCode:Qe.DELETE,action:Ze(ay,e,!0)},{keyCode:Qe.BACKSPACE,action:Ze(vv,e,!1)},{keyCode:Qe.DELETE,action:Ze(vv,e,!0)},{keyCode:Qe.BACKSPACE,action:Ze(pv,e,!1)},{keyCode:Qe.DELETE,action:Ze(pv,e,!0)},{keyCode:Qe.BACKSPACE,action:Ze(oy,e,!1)},{keyCode:Qe.DELETE,action:Ze(oy,e,!0)}],n).each(function(e){n.preventDefault()}))}),N.on("keyup",function(e){var t;!1===e.isDefaultPrevented()&&_y([{keyCode:Qe.BACKSPACE,action:Ze(Dv,t=N)},{keyCode:Qe.DELETE,action:Ze(Dv,t)}],e)}),(ie=h).on("keydown",function(e){var t,n;e.keyCode===Qe.ENTER&&(t=ie,(n=e).isDefaultPrevented()||(n.preventDefault(),(e=t.undoManager).typing&&(e.typing=!1,e.add()),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),p0(t,n)})))}),(oe=h).on("keydown",function(e){var t;!1===e.isDefaultPrevented()&&(t=e,_y([{keyCode:Qe.SPACEBAR,action:Ze(C0,oe)}],t).each(function(e){t.preventDefault()}))}),k=ne=h,re=tu(function(){k.composing||cm(k)},0),I0.isIE()&&(k.on("keypress",function(e){re.throttle()}),k.on("remove",function(e){re.cancel()})),ne.on("input",function(e){!1===e.isComposing&&cm(ne)}),te=g,(ee=h).on("keydown",function(e){var t,n;!1===e.isDefaultPrevented()&&(t=te,n=e,_y([{keyCode:Qe.END,action:Ze(wy,e=ee,!0)},{keyCode:Qe.HOME,action:Ze(wy,e,!1)},{keyCode:Qe.END,action:Ze(Dy,e,!0)},{keyCode:Qe.HOME,action:Ze(Dy,e,!1)},{keyCode:Qe.END,action:Ze(Zb,e,!0,t)},{keyCode:Qe.HOME,action:Ze(Zb,e,!1,t)}],n).each(function(e){n.preventDefault()}))}),S=h,Z=g,M0.os.isOSX()||(E=Xa(!1),S.on("keydown",function(e){v0(e)&&b0(E,S,!0)}),S.on("keyup",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(r=e,_y([{keyCode:Qe.PAGE_UP,action:Ze(Zb,t=S,!1,n=Z)},{keyCode:Qe.PAGE_DOWN,action:Ze(Zb,t,!0,n)}],r)),v0(e)&&E.get()&&(b0(E,S,!1),S.nodeChanged())})),g),e=((w=t).addCommand("delete",function(){var e,t=ye;dy(e=w)||Tv(e,!1)||kv(e,!1)||ny(e,t,!1)||pv(e,!1)||Hm(e)||Ov(e,!1)||ay(e,!1)||vv(e)||oy(e,!1)||(my(e,"Delete"),iv(e))}),w.addCommand("forwardDelete",function(){var e,t=ye;Tv(e=w,!0)||kv(e,!0)||ny(e,t,!0)||pv(e,!0)||Hm(e)||Ov(e,!0)||ay(e,!0)||vv(e)||oy(e,!0)||my(e,"ForwardDelete")}),ls(p=t)&&p.on("NodeChange",Fe(hy,p)),y=(b=t).dom,Q=ls(b),C=b.getParam("placeholder",ec.getAttrib(b.getElement(),"placeholder"),"string"),x=function(e,t){var n,r,o,i,a;Qh(i=e)&&(a=i.keyCode,!Zh(i))&&(Qe.metaKeyPressed(i)||i.altKey||112<=a&&a<=123||tt(sb,a))||(i=b.getBody(),n=!(Qh(e)&&!(Zh(e)||"keyup"===e.type&&229===e.keyCode)||(e=y,a=Q,!$r(Ye.fromDom(n=i),!1))||(r=""===a,(o=n.firstElementChild)&&(e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")||(r?e.isBlock(o):a!==o.nodeName.toLowerCase())))),""!==y.getAttrib(i,cb)==n&&!t)||(y.setAttrib(i,cb,n?C:null),y.setAttrib(i,"aria-placeholder",n?C:null),b.fire("PlaceholderToggle",{state:n}),b.on(n?"keydown":"keyup",x),b.off(n?"keyup":"keydown",x))},C&&b.on("init",function(e){x(e,!0),b.on("change SetContent ExecCommand",x),b.on("paste",function(e){return Nr.setEditorTimeout(b,function(){return x(e)})})}),qe((le=ce=t).plugins,"rtc").bind(function(e){return $e.from(e.setup)}).fold(function(){return le.rtcInstance=kp(ce),$e.none()},function(e){var t,n;return le.rtcInstance=(t=Ie(null),n=Ie(""),{undoManager:{beforeChange:Le,add:t,undo:t,redo:t,clear:Le,reset:Le,hasUndo:Ue,hasRedo:Ue,transact:t,ignore:Le,extra:Le},formatter:{match:Ue,matchAll:Ie([]),matchNode:Ie(void 0),canApply:Ue,closest:n,apply:Le,remove:Le,toggle:Le,formatChanged:Ie({unbind:Le})},editor:{getContent:n,setContent:n,insertContent:Le,addVisual:Le},selection:{getContent:n},raw:{getModel:Ie($e.none())}}),$e.some(function(){return e().then(function(e){return le.rtcInstance=(i=e.undoManager,a=e.formatter,n=e.editor,r=e.selection,t=e.raw,{undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:function(e,t,n){return i.transact(n)},ignore:function(e,t){return i.ignore(t)},extra:function(e,t,n,r){return i.extra(n,r)}},formatter:{match:function(e,t,n,r){return a.match(e,o(t),r)},matchAll:a.matchAll,matchNode:a.matchNode,canApply:function(e){return a.canApply(e)},closest:function(e){return a.closest(e)},apply:function(e,t,n){return a.apply(e,o(t))},remove:function(e,t,n,r){return a.remove(e,o(t))},toggle:function(e,t,n){return a.toggle(e,o(t))},formatChanged:function(e,t,n,r,o){return a.formatChanged(t,n,r,o)}},editor:{getContent:function(e,t){return n.getContent(e)},setContent:function(e,t){return n.setContent(e,t)},insertContent:function(e,t){return n.insertContent(e)},addVisual:n.addVisual},selection:{getContent:function(e,t){return r.getContent(t)}},raw:{getModel:function(){return $e.some(t.getRawModel())}}}),e.rtc.isRemote;function o(e){return et(e)?e:{}}var i,a,n,r,t})})}));function P(e,t){try{A.getDoc().execCommand(e,!1,t)}catch(e){}}function L(e){return e.isDefaultPrevented()}function Ce(){A.shortcuts.add("meta+a",null,"SelectAll")}function xe(){A.inline||R.bind(A.getDoc(),"mousedown mouseup",function(e){var t;e.target===A.getDoc().documentElement&&(t=D.getRng(),A.getBody().focus(),"mousedown"===e.type?Lr(t.startContainer)||D.placeCaretAt(e.clientX,e.clientY):D.setRng(t))})}function we(){Range.prototype.getClientRects||A.on("mousedown",function(e){var t;L(e)||"HTML"!==e.target.nodeName||((t=A.getBody()).blur(),Nr.setEditorTimeout(A,function(){t.focus()}))})}function Se(){A.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==R.getContentEditableParent(t)&&(e.preventDefault(),A.selection.select(t),A.nodeChanged()),"A"===t.nodeName&&R.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),D.select(t))})}function Ee(){A.on("keydown",function(e){if(!L(e)&&e.keyCode===de&&D.isCollapsed()&&0===D.getRng().startOffset){var t=D.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function ke(){A.getParam("readonly")||A.on("BeforeExecCommand mousedown",function(){P("StyleWithCSS",!1),P("enableInlineTableEditing",!1),bs(A)||P("enableObjectResizing",!1)})}function Ne(){A.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function _e(){A.inline||A.on("keydown",function(){document.activeElement===document.body&&A.getWin().focus()})}function Ae(){A.inline||(A.contentStyles.push("body {min-height: 150px}"),A.on("click",function(e){"HTML"===e.target.nodeName&&(11<Ke.ie?A.getBody().focus():(e=A.selection.getRng(),A.getBody().focus(),A.selection.setRng(e),A.selection.normalize(),A.nodeChanged()))}))}function Re(){Ke.mac&&A.on("keydown",function(e){!Qe.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),A.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})}function De(){A.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),A.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function Te(){A.on("init",function(){A.dom.bind(A.getBody(),"submit",function(e){e.preventDefault()})})}function Oe(){var e=R.getAttribs(D.getStart().cloneNode(!1));return function(){var t=D.getStart();t!==A.getBody()&&(R.setAttrib(t,"style",null),fe(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function Be(){return!D.isCollapsed()&&R.getParent(D.getStart(),R.isBlock)!==R.getParent(D.getEnd(),R.isBlock)}function Pe(e){var t=R.create("body"),e=e.cloneContents();return t.appendChild(e),D.serializer.serialize(t,{format:"html"})}T=(_=t).settings,h=_.getDoc(),g=_.getBody(),_.fire("PreInit"),T.browser_spellcheck||T.gecko_spellcheck||(h.body.spellcheck=!1,pC.setAttrib(g,"spellcheck","false")),_.quirks=(A=_,fe=Xe.each,de=Qe.BACKSPACE,me=Qe.DELETE,R=A.dom,D=A.selection,h=A.parser,ge=Ke.gecko,p=Ke.ie,O=Ke.webkit,pe="data:text/mce-internal,",he=p?"Text":"URL",p=Le,Np(A)?(O&&(xe(),Se(),Te(),Ce(),Ke.iOS)&&(_e(),Ae(),De()),ge&&(we(),ke(),Ne(),Re())):(A.on("keydown",function(e){if(!L(e)&&e.keyCode===Qe.BACKSPACE){var t=(e=D.getRng()).startContainer,n=e.startOffset,r=R.getRoot(),o=t;if(e.collapsed&&0===n){for(;o&&o.parentNode&&o.parentNode.firstChild===o&&o.parentNode!==r;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(A.formatter.toggle("blockquote",null,o),(e=R.createRng()).setStart(t,0),e.setEnd(t,0),D.setRng(e))}}}),A.on("keydown",function(e){var t,n,r=e.keyCode;L(e)||r!==me&&r!==de||(r=A.selection.isCollapsed(),t=A.getBody(),r&&!R.isEmpty(t))||!r&&(r=Pe(A.selection.getRng()),(n=R.createRng()).selectNode(A.getBody()),r!==Pe(n))||(e.preventDefault(),A.setContent(""),t.firstChild&&R.isBlock(t.firstChild)?A.selection.setCursorLocation(t.firstChild,0):A.selection.setCursorLocation(t,0),A.nodeChanged())}),Ke.windowsPhone||A.on("keyup focusin mouseup",function(e){Qe.modifierPressed(e)||D.normalize()},!0),O&&(xe(),Se(),ls(A)&&A.on("init",function(){P("DefaultParagraphSeparator",ls(A))}),Te(),Ee(),h.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),(Ke.iOS?(_e(),Ae(),De):Ce)()),11<=Ke.ie&&(Ae(),Ee()),Ke.ie&&(Ce(),P("AutoUrlDetect",!1),A.on("dragstart",function(e){var t;e.dataTransfer&&(A.selection.isCollapsed()&&"IMG"===e.target.tagName&&D.select(e.target),0<(t=A.selection.getContent()).length)&&(t=pe+escape(A.id)+","+escape(t),e.dataTransfer.setData(he,t))}),A.on("drop",function(e){var t;L(e)||(t=e.dataTransfer&&(t=e.dataTransfer.getData(he))&&0<=t.indexOf(pe)?(t=t.substr(pe.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null)&&t.id!==A.id&&(e.preventDefault(),e=tf(e.x,e.y,A.getDoc()),D.setRng(e),e=t.html,A.queryCommandSupported("mceInsertClipboardContent")?A.execCommand("mceInsertClipboardContent",!1,{content:e,internal:!0}):A.execCommand("mceInsertContent",!1,e))})),ge&&(A.on("keydown",function(e){var t,n;!L(e)&&e.keyCode===de&&A.getBody().getElementsByTagName("hr").length&&D.isCollapsed()&&0===D.getRng().startOffset&&(n=(t=D.getNode()).previousSibling,"HR"===t.nodeName?(R.remove(t),e.preventDefault()):n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(R.remove(n),e.preventDefault()))}),we(),A.on("keypress",function(e){var t;if(!L(e)&&(8===e.keyCode||46===e.keyCode)&&Be())return t=Oe(),A.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),R.bind(A.getDoc(),"cut",function(e){var t;!L(e)&&Be()&&(t=Oe(),Nr.setEditorTimeout(A,function(){t()}))}),ke(),A.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||fe(R.select("a"),function(e){var t=e.parentNode,n=R.getRoot();if(t.lastChild===e){for(;t&&!R.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}R.add(t,"br",{"data-mce-bogus":1})}})}),Ne(),Re(),Ee())),{refreshContentEditable:p,isHidden:function(){var e;return!(!ge||A.removed||(e=A.selection.getSel())&&e.rangeCount&&0!==e.rangeCount)}}),_.fire("PostRender"),void 0!==(O=_.getParam("directionality",Za.isRtl()?"rtl":void 0))&&(g.dir=O),T.protect&&_.on("BeforeSetContent",function(t){Xe.each(T.protect,function(e){t.content=t.content.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),_.on("SetContent",function(){_.addVisual(_.getBody())}),_.on("compositionstart compositionend",function(e){_.composing="compositionstart"===e.type}),e.fold(function(){Q0(t).then(function(){return Z0(t)})},function(e){t.setProgressState(!0),Q0(t).then(function(){e().then(function(e){t.setProgressState(!1),Z0(t)},function(e){t.notificationManager.open({type:"error",text:String(e)}),Z0(t)})})})}function tC(e){return e.replace(/^\-/,"")}function nC(e){return{editorContainer:e,iframeContainer:e,api:{}}}function rC(e){e.fire("ScriptsLoaded"),n=e,i=Xe.trim(ms(n)),r=n.ui.registry.getAll().icons,q(We(We({},Rh.get("default").icons),Rh.get(i).icons),function(e,t){re(r,t)||n.ui.registry.addIcon(t,e)}),s=Cs(i=e),Me(s)?(i.settings.theme=tC(s),g=Lh.get(s),i.theme=new g(i,Lh.urls[s]),i.theme.init&&i.theme.init(i,Lh.urls[s]||i.documentBaseUrl.replace(/\/$/,""),i.$)):i.theme={},o=[],Xe.each(ws(t=e).split(/[ ,]/),function(e){bC(t,o,tC(e))}),s=(g=e).getElement(),g.orgDisplay=s.style.display;var n,r,t,o,i=Me(Cs(g))?g.theme.renderUI():y(Cs(g))?(v=(s=g).getElement(),(h=Cs(s)(s,v)).editorContainer.nodeType&&(h.editorContainer.id=h.editorContainer.id||s.id+"_parent"),h.iframeContainer&&h.iframeContainer.nodeType&&(h.iframeContainer.id=h.iframeContainer.id||s.id+"_iframecontainer"),h.height=h.iframeHeight||v.offsetHeight,h):(v=(s=g).getElement(),s.inline?nC(null):(h=v,g=vC.create("div"),vC.insertAfter(g,h),nC(g))),a=e,u=$e.from(i.api).getOr({}),s={show:$e.from(u.show).getOr(Le),hide:$e.from(u.hide).getOr(Le),disable:$e.from(u.disable).getOr(Le),isDisabled:$e.from(u.isDisabled).getOr(Ue),enable:function(){a.mode.isReadOnly()||$e.from(u.enable).map(x)}};a.ui=We(We({},a.ui),s);var c,l,f,d,m,g,p,h,v={editorContainer:i.editorContainer,iframeContainer:i.iframeContainer};e.editorContainer=v.editorContainer||null,(h=e).contentCSS=h.contentCSS.concat(ob(h,(i=(s=h).getParam("content_css"),Me(i)?He(i.split(","),vt):Q(i)?i:!1===i||s.inline?[]:["default"])),ob(h,vs(h))),e.inline?eC(e):(c=i=e,e=s=v,g=c.translate("Rich Text Area"),h=c.id,e.height,v=c.getParam("iframe_attrs",{}),kn(f=Ye.fromTag("iframe"),v),kn(f,{id:h+"_ifr",frameBorder:"0",allowTransparency:"true",title:g}),iu(f,"tox-edit-area__iframe"),(p=f.dom).onload=function(){p.onload=null,c.fire("load")},l=c,v=p,g=!(document.domain===window.location.hostname||!Ke.browser.isIE()||(h=Vh("mce"),l[h]=function(){eC(l)},h='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+l.id+'");document.write(ed.iframeHTML);document.close();ed.'+h+"(true);})()",hC.setAttrib(v,"src",h),0)),c.contentAreaContainer=e.iframeContainer,c.iframeElement=p,c.iframeHTML=(v=(f=c).getParam("doctype","<!DOCTYPE html>")+"<html><head>",f.getParam("document_base_url","")!==f.documentBaseUrl&&(v+='<base href="'+f.documentBaseURI.getURI()+'" />'),v+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',h=ss(f,"body_id","tinymce"),d=ss(f,"body_class",""),m=f.translate(f.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")),cs(f)&&(v+='<meta http-equiv="Content-Security-Policy" content="'+cs(f)+'" />'),v+('</head><body id="'+h+'" class="mce-content-body '+d+'" data-id="'+f.id)+'" aria-label="'+m+'"><br></body></html>'),hC.add(e.iframeContainer,p),v=g,s.editorContainer&&(hC.get(s.editorContainer).style.display=i.orgDisplay,i.hidden=hC.isHidden(s.editorContainer)),i.getElement().style.display="none",hC.setAttrib(i.id,"aria-hidden","true"),v||eC(i))}function oC(e){return"-"===e.charAt(0)}function iC(t,e,n){return $e.from(e).filter(function(e){return 0<e.length&&!Rh.has(e)}).map(function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons"+n+".js",name:$e.some(e)}})}function aC(i){return function(o,e){return $e.from(e).map(Ye.fromDom).filter(Ln).bind(function(e){return n=i,t=o,r=e.dom,Ym(Ye.fromDom(r),function(e){return Dn(t=e,n).orThunk(function(){return"font"===$(t)?qe(CC,n).bind(function(e){return _n(t,e)}):$e.none()});var t},function(e){return I(Ye.fromDom(t),e)}).or((r=e.dom,$e.from(Ge.DOM.getStyle(r,i,!0))));var n,t,r}).getOr("")}}function uC(e){return Ul(e.getBody()).map(function(e){return e=e.container(),j(e)?e.parentNode:e})}function sC(e,t){return t=s($e.some,t),n=e,$e.from(n.selection.getRng()).bind(function(e){var t=n.getBody();return e.startContainer===t&&0===e.startOffset?$e.none():$e.from(n.selection.getStart(!0))}).orThunk(Fe(uC,e)).map(Ye.fromDom).filter(Ln).bind(t);var n}function cC(e,t){var n,r;return/^[0-9.]+$/.test(t)&&1<=(n=parseInt(t,10))&&n<=7?(r=Xe.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large")),(e=Xe.explode(e.getParam("font_size_classes","")))?e[n-1]||t:r[n-1]||t):t}function lC(e){e.on(function(e){q0(e.ghost)}),e.clear()}var fC=F,dC=Jn,mC=Jn,gC=F,pC=Ge.DOM,hC=Ge.DOM,vC=Ge.DOM,bC=function(t,n,e){var r=Ph.get(e),o=Ph.urls[e]||t.documentBaseUrl.replace(/\/$/,"");if(e=Xe.trim(e),r&&-1===Xe.inArray(n,e)&&(Xe.each(Ph.dependencies(e),function(e){bC(t,n,e)}),!t.plugins[e]))try{var i=new r(t,o,t.$);(t.plugins[e]=i).init&&(i.init(t,o),n.push(e))}catch(r){i=e,o=r,Ql(e=t,"PluginLoadError",{message:i=Za.translate(["Failed to initialize plugin: {0}",i])}),rb(i,o),Fh(e,i)}},yC=Ge.DOM,CC={"font-size":"size","font-family":"face"},xC=aC("font-size"),wC=u(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},aC("font-family")),SC=Xe.each,EC=Xe.map,kC=Xe.inArray,NC=(_C.prototype.execCommand=function(t,n,r,e){var o,i,a=!1,u=this;if(!u.editor.removed){if("mcefocus"!==t.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus?Vf(i=u.editor).each(function(e){return i.selection.setRng(e)}):u.editor.focus()),(e=u.editor.fire("BeforeExecCommand",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;var s=t.toLowerCase();if(o=u.commands.exec[s])return o(s,n,r),u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(SC(this.editor.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!(a=!0)}),a)return a;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{a=u.editor.getDoc().execCommand(t,n,r)}catch(e){}return!!a&&(u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},_C.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},_C.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},_C.prototype.addCommands=function(e,n){void 0===n&&(n="exec");var r=this;SC(e,function(t,e){SC(e.toLowerCase().split(","),function(e){r.commands[n][e]=t})})},_C.prototype.addCommand=function(e,o,i){var a=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,t,n,r){return o.call(i||a.editor,t,n,r)}},_C.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},_C.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},_C.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},_C.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},_C.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},_C.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},_C.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t),this.editor.nodeChanged()},_C.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},_C.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},_C.prototype.setupCommands=function(i){var r=this;function e(t){return function(){var e=(e=i.selection).isCollapsed()?[i.dom.getParent(e.getNode(),i.dom.isBlock)]:e.getSelectedBlocks(),e=EC(e,function(e){return!!i.formatter.matchNode(e,t)});return-1!==kC(e,!0)}}this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Le,"mceEndUndoLevel,mceAddUndoLevel":function(){i.undoManager.add()},mceFocus:function(e,t,n){i.removed||(n?fd:function(t){var e=t.selection,n=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===Yf(t)&&Vf(t).each(function(e){t.selection.setRng(e),r=e}),o=t,e=e.getNode();var o,e=o.dom.getParent(e,function(e){return"true"===o.dom.getContentEditable(e)});if(t.$.contains(n,e))return Xf(e),Kf(t,r),fd(t);t.inline||(Ke.opera||Xf(n),t.getWin().focus()),(Ke.gecko||t.inline)&&(Xf(n),Kf(t,r)),fd(t)})(i)},"Cut,Copy,Paste":function(e){var t,n=i.getDoc();try{r.execNativeCommand(e)}catch(e){t=!0}!(t="paste"===e&&!n.queryCommandEnabled(e)||t)&&n.queryCommandSupported(e)||(t=i.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),Ke.mac&&(t=t.replace(/Ctrl\+/g,"⌘+")),i.notificationManager.open({text:t,type:"error"}))},unlink:function(){var e;i.selection.isCollapsed()?(e=i.dom.getParent(i.selection.getStart(),"a"))&&i.dom.remove(e,!0):i.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),SC("left,center,right,justify".split(","),function(e){t!==e&&i.formatter.remove("align"+e)}),"none"!==t&&r.toggleFormat("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t;r.execNativeCommand(e),(e=i.dom.getParent(i.selection.getNode(),"ol,ul"))&&(t=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName))&&(r.storeSelection(),i.dom.split(t,e),r.restoreSelection())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){r.toggleFormat(e)},"ForeColor,HiliteColor":function(e,t,n){r.toggleFormat(e,{value:n})},FontName:function(e,t,n){var r,n=cC(r=i,n);r.formatter.toggle("fontname",{value:He(n.split(/\s*,\s*/),function(e){return-1===e.indexOf(" ")||ht(e,'"')||ht(e,"'")?e:"'"+e+"'"}).join(",")}),r.nodeChanged()},FontSize:function(e,t,n){var r;(r=i).formatter.toggle("fontsize",{value:cC(r,n)}),r.nodeChanged()},LineHeight:function(e,t,n){var r;(r=i).formatter.toggle("lineheight",{value:String(n)}),r.nodeChanged()},Lang:function(e,t,n){r.toggleFormat(e,{value:n.code,customValue:n.customCode})},RemoveFormat:function(e){i.formatter.remove(e)},mceBlockQuote:function(){r.toggleFormat("blockquote")},FormatBlock:function(e,t,n){return r.toggleFormat(n||"p")},mceCleanup:function(){var e=i.selection.getBookmark();i.setContent(i.getContent()),i.selection.moveToBookmark(e)},mceRemoveNode:function(e,t,n){(n=n||i.selection.getNode())!==i.getBody()&&(r.storeSelection(),i.dom.remove(n,!0),r.restoreSelection())},mceSelectNodeDepth:function(e,t,n){var r=0;i.dom.getParent(i.selection.getNode(),function(e){if(1===e.nodeType&&r++===n)return i.selection.select(e),!1},i.getBody())},mceSelectNode:function(e,t,n){i.selection.select(n)},mceInsertContent:function(e,t,n){var r,o=i,n="string"==typeof n?{content:n,details:{}}:(r=Xe.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:r});_p(o).editor.insertContent(n.content,n.details)},mceInsertRawHTML:function(e,t,n){i.selection.setContent("tiny_mce_marker");var r=i.getContent();i.setContent(r.replace(/tiny_mce_marker/g,function(){return n}))},mceInsertNewLine:function(e,t,n){p0(i,n)},mceToggleFormat:function(e,t,n){r.toggleFormat(n)},mceSetContent:function(e,t,n){i.setContent(n)},"Indent,Outdent":function(e){fy(i,e)},mceRepaint:Le,InsertHorizontalRule:function(){i.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){i.hasVisual=!i.hasVisual,i.addVisual()},mceReplaceContent:function(e,t,n){i.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,i.selection.getContent({format:"text"})))},mceInsertLink:function(e,t,n){"string"==typeof n&&(n={href:n});var r=i.dom.getParent(i.selection.getNode(),"a");n.href=n.href.replace(/ /g,"%20"),r&&n.href||i.formatter.remove("link"),n.href&&i.formatter.apply("link",n,r)},selectAll:function(){var e,t=i.dom.getParent(i.selection.getStart(),Jn);t&&((e=i.dom.createRng()).selectNodeContents(t),i.selection.setRng(e))},mceNewDocument:function(){i.setContent("")},InsertLineBreak:function(e,t,n){return r0(i,n),!0}}),r.addCommands({JustifyLeft:e("alignleft"),JustifyCenter:e("aligncenter"),JustifyRight:e("alignright"),JustifyFull:e("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return r.isFormatMatch(e)},mceBlockQuote:function(){return r.isFormatMatch("blockquote")},Outdent:function(){return cy(i)},"InsertUnorderedList,InsertOrderedList":function(e){var t=i.dom.getParent(i.selection.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),r.addCommands({Undo:function(){i.undoManager.undo()},Redo:function(){i.undoManager.redo()}}),r.addQueryValueHandler("FontName",function(){return sC(t=i,function(e){return wC(t.getBody(),e.dom)}).getOr("");var t},this),r.addQueryValueHandler("FontSize",function(){return sC(t=i,function(e){return xC(t.getBody(),e.dom)}).getOr("");var t},this),r.addQueryValueHandler("LineHeight",function(){return sC(t=i,function(n){var e=Ye.fromDom(t.getBody());return Ym(n,function(e){return Dn(e,"line-height")},Fe(I,e)).getOrThunk(function(){var e=parseFloat(Rn(n,"line-height")),t=parseFloat(Rn(n,"font-size"));return String(e/t)})}).getOr("");var t},this)},_C);function _C(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}function AC(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}}function RC(e,t){e.dom.contentEditable=t?"true":"false"}function DC(e){return e.readonly}function TC(t){t.parser.addAttributeFilter("contenteditable",function(e){DC(t)&&je(e,function(e){e.attr(OC,e.attr("contenteditable")),e.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(OC,function(e){DC(t)&&je(e,function(e){e.attr("contenteditable",e.attr(OC))})}),t.serializer.addTempAttr(OC)}var OC="data-mce-contenteditable",BC=Xe.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),PC=(LC.isNative=function(e){return!!BC[e.toLowerCase()]},LC.prototype.fire=function(e,t){var n=e.toLowerCase(),r=ao(n,t||{},this.scope),o=(this.settings.beforeFire&&this.settings.beforeFire(r),this.bindings[n]);if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(!u.removed){if(u.once&&this.off(n,u.func),r.isImmediatePropagationStopped())return r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}}return r},LC.prototype.on=function(e,t,n,r){if(t=!1===t?Ue:t){var o={func:t,removed:!1};r&&Xe.extend(o,r);for(var i=e.toLowerCase().split(" "),a=i.length;a--;){var u=i[a],s=this.bindings[u];s||(s=[],this.toggleEvent(u,!0)),s=n?ye([o],s,!0):ye(ye([],s,!0),[o],!1),this.bindings[u]=s}}return this},LC.prototype.off=function(e,t){var n=this;if(e)for(var r=e.toLowerCase().split(" "),o=r.length;o--;){var i,a=r[o],u=this.bindings[a];if(!a)return q(this.bindings,function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]}),this;u&&(t?(u=(i=A(u,function(e){return e.func===t})).fail,this.bindings[a]=u,je(i.pass,function(e){e.removed=!0})):u.length=0,u.length||(this.toggleEvent(e,!1),delete this.bindings[a]))}else q(this.bindings,function(e,t){n.toggleEvent(t,!1)}),this.bindings={};return this},LC.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},LC.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},LC);function LC(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ue}function IC(n){return n._eventDispatcher||(n._eventDispatcher=new PC({scope:n,toggleEvent:function(e,t){PC.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher}function MC(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:(t=ys(e))?(e.eventRoot||(e.eventRoot=VC.select(t)[0]),e.eventRoot):e.getBody()}function FC(e,t,n){var r,o,i,a;e.hidden||DC(e)?DC(e)&&(r=e,"click"!==(o=n).type||Qe.metaKeyPressed(o)||(i=Ye.fromDom(o.target),a=r,br(i,"a",function(e){return I(e,Ye.fromDom(a.getBody()))}).bind(function(e){return _n(e,"href")}).each(function(e){var t;o.preventDefault(),/^#/.test(e)?(t=r.dom.select(e+',[name="'+(ht(t=e,"#")?t.substring("#".length):t)+'"]')).length&&r.selection.scrollIntoView(t[0],!0):window.open(e,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))):e.fire(t,n)}function UC(i,a){var e,t;i.delegates||(i.delegates={}),i.delegates[a]||i.removed||(t=MC(i,a),ys(i)?(jC||(jC={},i.editorManager.on("removeEditor",function(){i.editorManager.activeEditor||jC&&(q(jC,function(e,t){i.dom.unbind(MC(i,t))}),jC=null)})),jC[a]||(jC[a]=e=function(e){for(var t=e.target,n=i.editorManager.get(),r=n.length;r--;){var o=n[r].getBody();o!==t&&!VC.isChildOf(t,o)||FC(n[r],a,e)}},VC.bind(t,a,e))):(VC.bind(t,a,e=function(e){FC(i,a,e)}),i.delegates[a]=e))}function zC(e,t,n,r){var o,i,a,u,s,c,l,f,d,m=n[t.get()],n=n[r];try{n.activate()}catch(e){return void console.error("problem while activating editor mode "+r+":",e)}m.deactivate(),m.editorReadOnly!==n.editorReadOnly&&(m=e,n=n.editorReadOnly,f=Ye.fromDom(m.getBody()),d=n,au(i=f,a="mce-content-readonly")&&!1===d?(s=a,ou(u=i)?u.dom.classList.remove(s):(c=s,0<(l=Ve(ru(s=u,"class"),function(e){return e!==c})).length?En(s,"class",l.join(" ")):An(s,"class")),0===(ou(l=u)?l.dom.classList:ru(l,"class")).length&&An(l,"class")):d&&iu(i,a),n?(m.selection.controlSelection.hideResizeRect(),m._selectionOverrides.hideFakeCaret(),$e.from(m.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")}),RC(f,!(m.readonly=!0)),je(uu(f,'*[contenteditable="true"]'),function(e){En(e,OC,"true"),RC(e,!1)})):(RC(f,!(m.readonly=!1)),je(uu(f,"*["+OC+'="true"]'),function(e){An(e,OC),RC(e,!0)}),AC(m,"StyleWithCSS",!1),AC(m,"enableInlineTableEditing",!1),AC(m,"enableObjectResizing",!1),(Yf(s=m)||(o=s,Pf(Hn(Ye.fromDom(o.getElement()))).filter(function(e){return!(void 0!==(t=e.dom.classList)&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body")))&&qf(o,e.dom);var t}).isSome()))&&m.focus(),m.selection.setRng(m.selection.getRng()),m.nodeChanged())),t.set(r),e.fire("SwitchMode",{mode:r})}function HC(e){var t,n={},r=(WC(KC(e.toLowerCase(),"+"),function(e){e in YC?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=XC[e]||e.toUpperCase().charCodeAt(0))}),[n.keyCode]);for(t in YC)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,Ke.mac?n.ctrl=!0:n.shift=!0),n.meta&&(Ke.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n}var jC,Ot={fire:function(e,t,n){if(this.removed&&"remove"!==e&&"detach"!==e)return t;var r=IC(this).fire(e,t);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(e,r,!1),o=o.parent();return r},on:function(e,t,n){return IC(this).on(e,t,n)},off:function(e,t){return IC(this).off(e,t)},once:function(e,t){return IC(this).once(e,t)},hasEventListeners:function(e){return IC(this).has(e)}},VC=Ge.DOM,qC=We(We({},Ot),{bindPendingEventDelegates:function(){var t=this;Xe.each(t._pendingNativeEvents,function(e){UC(t,e)})},toggleNativeEvent:function(e,t){var n=this;"focus"===e||"blur"===e||n.removed||(t?n.initialized?UC(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(MC(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var n=this,e=n.getBody(),t=n.dom;n.delegates&&(q(n.delegates,function(e,t){n.dom.unbind(MC(n,t),t,e)}),delete n.delegates),!n.inline&&e&&t&&(e.onload=null,t.unbind(n.getWin()),t.unbind(n.getDoc())),t&&(t.unbind(e),t.unbind(n.getContainer()))}}),$C=["design","readonly"],WC=Xe.each,KC=Xe.explode,XC={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},YC=Xe.makeMap("alt,ctrl,shift,meta,access"),GC=(JC.prototype.add=function(e,t,n,r){var o=this,i=o.normalizeCommandFunc(n);return WC(KC(Xe.trim(e)),function(e){e=o.createShortcut(e,t,i,r),o.shortcuts[e.id]=e}),!0},JC.prototype.remove=function(e){return e=this.createShortcut(e),!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},JC.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return"string"==typeof n?function(){t.editor.execCommand(n,!1,null)}:Xe.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},JC.prototype.createShortcut=function(e,t,n,r){return(e=Xe.map(KC(e,">"),HC))[e.length-1]=Xe.extend(e[e.length-1],{func:n,scope:r||this.editor}),Xe.extend(e[0],{desc:this.editor.translate(t),subpatterns:e.slice(1)})},JC.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},JC.prototype.isFunctionKey=function(e){return"keydown"===e.type&&112<=e.keyCode&&e.keyCode<=123},JC.prototype.matchShortcut=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},JC.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},JC);function JC(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var n=this;e.on("keyup keypress keydown",function(t){!n.hasModifier(t)&&!n.isFunctionKey(t)||t.isDefaultPrevented()||(WC(n.shortcuts,function(e){if(n.matchShortcut(t,e))return n.pendingPatterns=e.subpatterns.slice(0),"keydown"===t.type&&n.executeShortcutAction(e),!0}),n.matchShortcut(t,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&"keydown"===t.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}var QC=Ge.DOM,ZC=Xe.extend,e1=Xe.each,t1=Xe.resolve,n1=Ke.ie,r1=(t.prototype.render=function(){var t,e,n,c,l,r,o,f,i,a,u=this,s=u.id;function d(){var r,o,t,n,e,i,a=f,u=ps(e=c),s=e.getParam("language_url","","string");!1===Za.hasCode(u)&&"en"!==u&&(i=""!==s?s:e.editorManager.baseURL+"/langs/"+u+".js",a.add(i,Le,void 0,function(){Uh(e,"LanguageLoadError",zh("language",i,u))})),t=f,je(function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}([iC(n=c,"default",l),$e.from(n.getParam("icons_url","","string")).filter(function(e){return 0<e.length}).map(function(e){return{url:e,name:$e.none()}}).orThunk(function(){return iC(n,ms(n),"")})]),function(e){t.add(e.url,Le,void 0,function(){Uh(n,"IconsLoadError",zh("icons",e.url,e.name.getOrUndefined()))})}),r=c,o=l,Xe.each(r.getParam("external_plugins"),function(e,t){Ph.load(t,e,Le,void 0,function(){Hh(r,e,t)}),r.settings.plugins+=" "+t}),Xe.each(ws(r).split(/[ ,]/),function(e){var t,n;(e=Xe.trim(e))&&!Ph.urls[e]&&(oC(e)?(e=e.substr(1,e.length),t=Ph.dependencies(e),Xe.each(t,function(e){var t=Ph.createUrl({prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"},e);Ph.load(t.resource,t,Le,void 0,function(){Hh(r,t.prefix+t.resource+t.suffix,t.resource)})})):(n={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"},Ph.load(e,n,Le,void 0,function(){Hh(r,n.prefix+n.resource+n.suffix,e)})))}),f.loadQueue(function(){c.removed||rC(c)},c,function(){c.removed||rC(c)})}Za.setCode(ps(u)),ai.Event.domLoaded?u.getElement()&&Ke.contentEditable&&(t=Ye.fromDom(u.getElement()),e=nt(t.dom.attributes,function(e,t){return e[t.name]=t.value,e},{}),u.on("remove",function(){_(t.dom.attributes,function(e){An(t,e.name)}),kn(t,e)}),u.ui.styleSheetLoader=_r.forElement(t,{contentCssCors:(i=u).getParam("content_css_cors"),referrerPolicy:gs(i)}),u.getParam("inline")?u.inline=!0:(u.orgVisibility=u.getElement().style.visibility,u.getElement().style.visibility="hidden"),(n=u.getElement().form||yC.getParent(s,"form"))&&(u.formElement=n,u.getParam("hidden_input")&&!Wn(u.getElement())&&(yC.insertAfter(yC.create("input",{type:"hidden",name:s}),s),u.hasHiddenInput=!0),u.formEventDelegate=function(e){u.fire(e.type,e)},yC.bind(n,"submit reset",u.formEventDelegate),u.on("reset",function(){u.resetContent()}),!u.getParam("submit_patch")||n.submit.nodeType||n.submit.length||n._mceOldSubmit||(n._mceOldSubmit=n.submit,n.submit=function(){return u.editorManager.triggerSave(),u.setDirty(!1),n._mceOldSubmit(n)})),u.windowManager=Ih(u),u.notificationManager=lh(u),"xml"===u.getParam("encoding")&&u.on("GetContent",function(e){e.save&&(e.content=yC.encode(e.content))}),u.getParam("add_form_submit_trigger")&&u.on("submit",function(){u.initialized&&u.save()}),u.getParam("add_unload_trigger")&&(u._beforeUnload=function(){!u.initialized||u.destroyed||u.isHidden()||u.save({format:"raw",no_events:!0,set_dirty:!1})},u.editorManager.on("BeforeUnload",u._beforeUnload)),u.editorManager.add(u),l=(c=u).suffix,f=Wa.ScriptLoader,i=f,s=l,a=Cs(r=c),Me(a)?(oC(a)||re(Lh.urls,a)||((o=r.getParam("theme_url"))?Lh.load(a,r.documentBaseURI.toAbsolute(o)):Lh.load(a,"themes/"+a+"/theme"+s+".js")),i.loadQueue(function(){Lh.waitFor(a,d)})):d()):yC.bind(window,"ready",function e(){yC.unbind(window,"ready",e),u.render()})},t.prototype.focus=function(e){this.execCommand("mceFocus",!1,e)},t.prototype.hasFocus=function(){return Yf(this)},t.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this.settings[e];if(o)return this.callbackLookup&&(r=this.callbackLookup[e])&&(o=r.func,r=r.scope),"string"==typeof o&&(r=(r=o.replace(/\.\w+$/,""))?t1(r):0,o=t1(o),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:o,scope:r}),o.apply(r||this,t)},t.prototype.translate=function(e){return Za.translate(e)},t.prototype.getParam=function(e,t,n){return a=e in this.settings?this.settings[e]:t,"hash"===n?(i={},"string"==typeof(o=a)?je(0<o.indexOf("=")?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(e){1<(e=e.split("=")).length?i[Xe.trim(e[0])]=Xe.trim(e[1]):i[Xe.trim(e[0])]=Xe.trim(e[0])}):i=o,i):"string"===n?ah(Me,this,e).getOr(t):"number"===n?ah(b,this,e).getOr(t):"boolean"===n?ah(g,this,e).getOr(t):"object"===n?ah(et,this,e).getOr(t):"array"===n?ah(Q,this,e).getOr(t):"string[]"===n?ah((r=Me,function(e){return Q(e)&&ot(e,r)}),this,e).getOr(t):"function"===n?ah(y,this,e).getOr(t):a;var r,o,i,a},t.prototype.hasPlugin=function(e,t){return!(!tt(ws(this).split(/[ ,]/),e)||t&&void 0===Ph.get(e))},t.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},t.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},t.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},t.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},t.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},t.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},t.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},t.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},t.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},t.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(QC.show(this.getContainer()),QC.hide(this.id)),this.load(),this.fire("show"))},t.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(n1&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(QC.hide(e.getContainer()),QC.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},t.prototype.load=function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=Wn(n)?n.value:n.innerHTML,t=this.setContent(t,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=null,t):void 0},t.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,Wn(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=QC.getParent(r.id,"form"))&&e1(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},t.prototype.setContent=function(e,t){return th(this,e,t)},t.prototype.getContent=function(e){return t=(e=void 0===e?{}:e).format||"html",_p(this).editor.getContent(e,t);var t},t.prototype.insertContent=function(e,t){t&&(e=ZC({content:e},t)),this.execCommand("mceInsertContent",!1,e)},t.prototype.resetContent=function(e){void 0===e?th(this,this.startContent,{format:"raw"}):th(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},t.prototype.getContainer=function(){return this.container||(this.container=QC.get(this.editorContainer||this.id+"_parent")),this.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=QC.get(this.id)),this.targetElm},t.prototype.getWin=function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},t.prototype.getDoc=function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},t.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},t.prototype.convertURL=function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):this.documentBaseURI.toAbsolute(e,r.remove_script_host)},t.prototype.addVisual=function(e){w(this).editor.addVisual(e)},t.prototype.remove=function(){var e,t,n,r,o;(e=this).removed||(t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement(),r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&yh.remove(o.nextSibling),e.fire("remove"),e.editorManager.remove(e),!e.inline&&r&&yh.setStyle(e.id,"display",e.orgDisplay),e.fire("detach"),yh.remove(e.getContainer()),nh(t),nh(n),e.destroy())},t.prototype.destroy=function(e){var t,n=(t=this).selection,r=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),nh(n),nh(r)),(n=(e=t).formElement)&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),yh.unbind(n,"submit reset",e.formEventDelegate)),(r=t).contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null,r.selection&&(r.selection=r.selection.win=r.selection.dom=r.selection.dom.doc=null),t.destroyed=!0):t.remove())},t.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t);function t(e,t,n){var r,o,i,a,u,s,c,l,f,d,m,g,p,h,v=this;function b(n,r){return function(e,t){return n[e.toLowerCase()]=We(We({},t),{type:r})}}function y(e){return re(g,e)}this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,ZC(this,qC),this.settings=(d=this.documentBaseUrl,f=n.defaultSettings,l=Eh,d={id:e,theme:"silver",toolbar_mode:ih(t,"floating"),plugins:"",document_base_url:d,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:this.convertURL,url_converter_scope:this},d=We(We({},d),l?Ah:{}),!1!==(l=function(e,t,n,r,o){var i,a=e?{mobile:(a={resize:!1,toolbar_mode:ih(o.mobile||{},"scrolling"),toolbar_sticky:!1},We(We(We({},Ah),a),t?{menubar:!1}:{}))}:{},t=(i=["mobile"],ee(Ch(a,o),function(e,t){return tt(i,t)},H(t={}),H(a={})),{sections:Ie((o={t:t,f:a}).t),settings:Ie(o.f)}),u=Xe.extend(n,r,t.settings(),e&&oh(t,"mobile")?(void 0===u&&(u={}),a=qe(t.sections(),"mobile").getOr({}),Xe.extend({},u,a)):{},{validate:!0,external_plugins:(o=r,n=t.settings().external_plugins||{},o&&o.external_plugins?Xe.extend({},o.external_plugins,n):n)}),o=e,n=t,e=u,t=rh((t=r).forced_plugins),s=(a=u=rh(e.plugins),r=(r=oh(r=n,"mobile")?r.sections().mobile:{}).plugins?rh(r.plugins):u,o=(u=o)&&(s=(o=n).sections(),oh(o,"mobile"))&&"mobile"===s.mobile.theme?Ve(r,Fe(tt,_h)):u&&oh(n,"mobile")?r:a,[].concat(rh(t)).concat(rh(o)));if(Ke.browser.isIE()&&tt(s,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Xe.extend(e,{plugins:s.join(" ")})}(kh||Nh,kh,d,f,t)).deprecation_warnings&&(d=l,m=f=t,f=Ve(xh,function(e){return re(m,e)}),!1!==(t=m.forced_root_block)&&""!==t||f.push("forced_root_block (false only)"),t=P(f),g=Xe.makeMap(d.plugins," "),p=0<(f=P(ye(ye([],Ve(wh,y),!0),O(Sh,function(e){return y(e)?[e+" (moving to premium)"]:[]}),!0))).length,h=0<t.length,d="mobile"===d.theme,p||h||d)&&(d=d?"\n\nThemes:\n- mobile":"",p=p?"\n\nPlugins:\n- "+f.join("\n- "):"",f=h?"\n\nSettings:\n- "+t.join("\n- "):"",console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+d+p+f)),l),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Wa.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ge.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Ga.languageLoad=this.settings.language_load,Ga.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new xd(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new GC(this),this.editorCommands=new NC(this),this.settings.cache_suffix&&(Ke.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(a={},(h={addButton:b(r={},"button"),addGroupToolbarButton:b(r,"grouptoolbarbutton"),addToggleButton:b(r,"togglebutton"),addMenuButton:b(r,"menubutton"),addSplitButton:b(r,"splitbutton"),addMenuItem:b(o={},"menuitem"),addNestedMenuItem:b(o,"nestedmenuitem"),addToggleMenuItem:b(o,"togglemenuitem"),addAutocompleter:b(i={},"autocompleter"),addContextMenu:b(u={},"contextmenu"),addContextToolbar:b(s={},"contexttoolbar"),addContextForm:b(s,"contextform"),addSidebar:b(c={},"sidebar"),addIcon:function(e,t){return a[e.toLowerCase()]=t},getAll:function(){return{buttons:r,menuItems:o,icons:a,popups:i,contextMenus:u,contextToolbars:s,sidebars:c}}}).addAutocompleter),addButton:h.addButton,addContextForm:h.addContextForm,addContextMenu:h.addContextMenu,addContextToolbar:h.addContextToolbar,addIcon:h.addIcon,addMenuButton:h.addMenuButton,addMenuItem:h.addMenuItem,addNestedMenuItem:h.addNestedMenuItem,addSidebar:h.addSidebar,addSplitButton:h.addSplitButton,addToggleButton:h.addToggleButton,addGroupToolbarButton:h.addGroupToolbarButton,addToggleMenuItem:h.addToggleMenuItem,getAll:h.getAll},styleSheetLoader:void 0,show:Le,hide:Le,enable:Le,disable:Le,isDisabled:Ue},S=Xa("design"),E=Xa({design:{activate:Le,deactivate:Le,editorReadOnly:!1},readonly:{activate:Le,deactivate:Le,editorReadOnly:!0}}),(x=C=this).serializer?TC(x):x.on("PreInit",function(){TC(x)}),(w=C).on("ShowCaret",function(e){DC(w)&&e.preventDefault()}),w.on("ObjectSelected",function(e){DC(w)&&e.preventDefault()});var C,x,w,S,E,t={isReadOnly:function(){return DC(C)},set:function(e){var t=C,n=E.get(),r=S,o=e;if(o!==r.get()){if(!re(n,o))throw new Error("Editor mode '"+o+"' is invalid");t.initialized?zC(t,r,n,o):t.on("init",function(){return zC(t,r,n,o)})}},get:function(){return S.get()},register:function(e,t){E.set(function(e,t,n){if(tt($C,t))throw new Error("Cannot override default mode "+t);return We(We({},e),((e={})[t]=We(We({},n),{deactivate:function(){try{n.deactivate()}catch(e){console.error("problem while deactivating editor mode "+t+":",e)}}}),e))}(E.get(),e,t))}};this.mode=t,this.setMode=t.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=X.overrideDefaults(function(){return{context:v.inline?v.getBody():v.getDoc(),element:v.getBody()}})}function o1(t){var n=t.type;l1(v1.get(),function(e){switch(n){case"scroll":e.fire("ScrollWindow",t);break;case"resize":e.fire("ResizeWindow",t)}})}function i1(e){e!==m1&&(e?X(window).on("resize scroll",o1):X(window).off("resize scroll",o1),m1=e)}function a1(t){var e=p1;delete g1[t.id];for(var n=0;n<g1.length;n++)if(g1[n]===t){g1.splice(n,1);break}return p1=Ve(p1,function(e){return t!==e}),v1.activeEditor===t&&(v1.activeEditor=0<p1.length?p1[0]:null),v1.focusedEditor===t&&(v1.focusedEditor=null),e.length!==p1.length}var u1,s1=Ge.DOM,c1=Xe.explode,l1=Xe.each,f1=Xe.extend,d1=0,m1=!1,g1=[],p1=[],h1="CSS1Compat"!==document.compatMode,v1=We(We({},Ot),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:X,majorVersion:"5",minorVersion:"10.5",releaseDate:"2022-05-25",editors:g1,i18n:Za,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t="",n=xd.getDocumentBaseUrl(document.location),r=(/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),window.tinymce||window.tinyMCEPreInit);if(r)e=r.base||r.baseURL,t=r.suffix;else{for(var o,i=document.getElementsByTagName("script"),a=0;a<i.length;a++)if(""!==(o=i[a].src||"")){var u=o.substring(o.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){-1!==u.indexOf(".min")&&(t=".min"),e=o.substring(0,o.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!==(o=document.currentScript.src).indexOf(".min")&&(t=".min"),e=o.substring(0,o.lastIndexOf("/")))}this.baseURL=new xd(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new xd(this.baseURL),this.suffix=t,this.on("AddEditor",Fe($f,this)),this.on("RemoveEditor",Fe(Wf,this))},overrideDefaults:function(e){(t=e.base_url)&&this._setBaseUrl(t);var t=e.suffix;e.suffix&&(this.suffix=t),void 0!==(t=(this.defaultSettings=e).plugin_base_urls)&&q(t,function(e,t){Ga.PluginManager.urls[t]=e})},init:function(a){function u(e){var t=e.id;return t||(t=qe(e,"name").filter(function(e){return!s1.get(e)}).getOrThunk(s1.uniqueId),e.setAttribute("id",t)),t}function s(e,t){return t.constructor===RegExp?t.test(e.className):s1.hasClass(e,t)}var n,c=this,l=Xe.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),f=function(e){n=e},t=function(){function n(e,t,n){e=new r1(e,t,c),i.push(e),e.on("init",function(){++o===r.length&&f(i)}),e.targetElm=e.targetElm||n,e.render()}var r,e,o=0,i=[];s1.unbind(window,"ready",t),(e=a.onpageload)&&e.apply(c,[]),r=X.unique(function(t){var n=[];if(Ke.browser.isIE()&&Ke.browser.version.major<11)return rb("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(h1)return rb("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(t.types)l1(t.types,function(e){n=n.concat(s1.select(e.selector))});else{if(t.selector)return s1.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":var e=t.elements||"";0<e.length&&l1(c1(e),function(t){var e=s1.get(t);e?n.push(e):l1(document.forms,function(e){l1(e.elements,function(e){e.name===t&&(t="mce_editor_"+d1++,s1.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":l1(s1.select("textarea"),function(e){t.editor_deselector&&s(e,t.editor_deselector)||t.editor_selector&&!s(e,t.editor_selector)||n.push(e)})}}return n}(a)),a.types?l1(a.types,function(t){Xe.each(r,function(e){return!s1.is(e,t.selector)||(n(u(e),f1({},a,t),e),!1)})}):(Xe.each(r,function(e){(e=c.get(e.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(a1(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)}),0===(r=Xe.grep(r,function(e){return!c.get(e.id)})).length?f([]):l1(r,function(e){var t=e;a.inline&&t.tagName.toLowerCase()in l?rb("Could not initialize inline editor on invalid inline target element",e):n(u(e),a,e)}))};return c.settings=a,s1.bind(window,"ready",t),new kr(function(t){n?t(n):f=function(e){t(e)}})},get:function(t){return 0===arguments.length?p1.slice(0):Me(t)?rt(p1,function(e){return e.id===t}).getOr(null):b(t)&&p1[t]||null},add:function(e){var n=this;return g1[e.id]===e||(null===n.get(e.id)&&("length"!==e.id&&(g1[e.id]=e),g1.push(e),p1.push(e)),i1(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),u1)||(u1=function(e){var t=n.fire("BeforeUnload");if(t.returnValue)return e.preventDefault(),e.returnValue=t.returnValue,t.returnValue},window.addEventListener("beforeunload",u1)),e},createEditor:function(e,t){return this.add(new r1(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!Me(e))return n=e,l(r.get(n.id))?null:(a1(n)&&r.fire("RemoveEditor",{editor:n}),0===p1.length&&window.removeEventListener("beforeunload",u1),n.remove(),i1(0<p1.length),n);l1(s1.select(e),function(e){(n=r.get(e.id))&&r.remove(n)})}else for(t=p1.length-1;0<=t;t--)r.remove(p1[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new r1(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():this.execCommand("mceAddEditor",!1,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){l1(p1,function(e){e.save()})},addI18n:function(e,t){Za.add(e,t)},translate:function(e){return Za.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new xd(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new xd(this.baseURL)}});function b1(e,t,n){var r=t.x,o=t.y,i=e.w,e=e.h,a=t.w,t=t.h;return"b"===(n=(n||"").split(""))[0]&&(o+=t),"r"===n[1]&&(r+=a),"c"===n[0]&&(o+=_1(t/2)),"c"===n[1]&&(r+=_1(a/2)),"b"===n[3]&&(o-=e),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=_1(e/2)),"c"===n[4]&&(r-=_1(i/2)),C1(r,o,i,e)}function y1(){}function C1(e,t,n,r){return{x:e,y:t,w:n,h:r}}v1.setup();var x1,w1,S1,E1,k1=Math.min,N1=Math.max,_1=Math.round,Bt={inflate:function(e,t,n){return C1(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:b1,findBestRelativePosition:function(e,t,n,r){for(var o,i=0;i<r.length;i++)if((o=b1(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n=N1(e.x,t.x),r=N1(e.y,t.y),o=k1(e.x+e.w,t.x+t.w),e=k1(e.y+e.h,t.y+t.h);return o-n<0||e-r<0?null:C1(n,r,o-n,e-r)},clamp:function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,e=e.y+e.h,a=t.x+t.w,u=t.y+t.h,s=N1(0,t.x-r),t=N1(0,t.y-o),a=N1(0,i-a),u=N1(0,e-u);return r+=s,o+=t,n&&(i+=s,e+=t,r-=a,o-=u),C1(r,o,(i-=a)-r,(e-=u)-o)},create:C1,fromClientRect:function(e){return C1(e.left,e.top,e.width,e.height)}},Dt=(x1={},w1={},{load:function(s,c){var e,l='Script at URL "'+c+'" failed to load',f='Script at URL "'+c+"\" did not call `tinymce.Resource.add('"+s+"', data)` within 1 second";return void 0!==x1[s]?x1[s]:(e=new kr(function(e,t){void 0===n&&(n=1e3),r=!1,o=null,e=u(e);var n,r,o,i,i=u(t),a={start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r||null!==o||(o=setTimeout(function(){return i.apply(null,e)},n))},resolve:e,reject:i};function u(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r||(r=!0,null!==o&&(clearTimeout(o),o=null),n.apply(null,e))}}w1[s]=a.resolve,Wa.ScriptLoader.loadScript(c,function(){return a.start(f)},function(){return a.reject(l)})}),x1[s]=e)},add:function(e,t){void 0!==w1[e]&&(w1[e](t),delete w1[e]),x1[e]=kr.resolve(t)}}),A1=Xe.each,R1=Xe.extend;y1.extend=S1=function(n){function r(){var e,t,n;if(!E1&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)}function t(){return this}var o=this.prototype,i=(E1=!0,new this);return E1=!1,n.Mixins&&(A1(n.Mixins,function(e){for(var t in e)"init"!==t&&(n[t]=e[t])}),o.Mixins)&&(n.Mixins=o.Mixins.concat(n.Mixins)),n.Methods&&A1(n.Methods.split(","),function(e){n[e]=t}),n.Properties&&A1(n.Properties.split(","),function(e){var t="_"+e;n[e]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),n.Statics&&A1(n.Statics,function(e,t){r[t]=e}),n.Defaults&&o.Defaults&&(n.Defaults=R1({},o.Defaults,n.Defaults)),q(n,function(e,t){var n,r;"function"==typeof e&&o[t]?i[t]=(n=t,r=e,function(){var e=this._super,t=(this._super=o[n],r.apply(this,arguments));return this._super=e,t}):i[t]=e}),r.prototype=i,(r.constructor=r).extend=S1,r};var D1,T1,O1=Math.min,B1=Math.max,P1=Math.round,L1={serialize:function(e){return e=JSON.stringify(e),Me(e)?e.replace(/[\u0080-\uFFFF]/g,function(e){return e=e.charCodeAt(0).toString(16),"\\u"+"0000".substring(e.length)+e}):e},parse:function(e){try{return JSON.parse(e)}catch(e){}}},e={callbacks:{},count:0,send:function(t){var n=this,r=Ge.DOM,o=(void 0!==t.count?t:n).count,i="tinymce_jsonp_"+o;n.callbacks[o]=function(e){r.remove(i),delete n.callbacks[o],t.callback(e)},r.add(r.doc.body,"script",{id:i,src:t.url,type:"text/javascript"}),n.count++}},I1=We(We({},Ot),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):Nr.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",I1.fire("beforeInitialize",{settings:e}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Xe.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=I1.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();Nr.setTimeout(r,10)}}),M1=Xe.extend,Tt=(F1.sendRPC=function(e){return(new F1).send(e)},F1.prototype.send=function(e){var n=e.error,r=e.success,o=M1(this.settings,e);o.success=function(e,t){(e=void 0===(e=L1.parse(e))?{error:"JSON Parse error."}:e).error?n.call(o.error_scope||o.scope,e.error,t):r.call(o.success_scope||o.scope,e.result)},o.error=function(e,t){n&&n.call(o.error_scope||o.scope,e,t)},o.data=L1.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),o.content_type="application/json",I1.send(o)},F1);function F1(e){this.settings=M1({},e),this.count=0}try{var U1,z1="__storage_test__";(U1=window.localStorage).setItem(z1,z1),U1.removeItem(z1)}catch(o){D1={},T1=[],Pt={getItem:function(e){return D1[e]||null},setItem:function(e,t){T1.push(e),D1[e]=String(t)},key:function(e){return T1[e]},removeItem:function(t){T1=T1.filter(function(e){return e===t}),delete D1[t]},clear:function(){T1=[],D1={}},length:0},Object.defineProperty(Pt,"length",{get:function(){return T1.length},configurable:!1,enumerable:!1}),U1=Pt}var z1={geom:{Rect:Bt},util:{Promise:kr,Delay:Nr,Tools:Xe,VK:Qe,URI:xd,Class:y1,EventDispatcher:PC,Observable:Ot,I18n:Za,XHR:I1,JSON:L1,JSONRequest:Tt,JSONP:e,LocalStorage:U1,Color:function(e){function t(e){if("object"==typeof e){if("r"in e)u=e.r,s=e.g,c=e.b;else if("v"in e){var t=e.h,n=e.s,r=e.v;if(t=(parseInt(t,10)||0)%360,n=parseInt(n,10)/100,r=parseInt(r,10)/100,n=B1(0,O1(n,1)),r=B1(0,O1(r,1)),0!==n){var t=t/60,o=r*n,i=o*(1-Math.abs(t%2-1)),n=r-o;switch(Math.floor(t)){case 0:u=o,s=i,c=0;break;case 1:u=i,s=o,c=0;break;case 2:u=0,s=o,c=i;break;case 3:u=0,s=i,c=o;break;case 4:u=i,s=0,c=o;break;case 5:u=o,s=0,c=i;break;default:u=s=c=0}u=P1(255*(u+n)),s=P1(255*(s+n)),c=P1(255*(c+n))}else u=s=c=P1(255*r)}}else(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(u=parseInt(t[1],10),s=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(u=parseInt(t[1],16),s=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(u=parseInt(t[1]+t[1],16),s=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16));return u=u<0?0:255<u?255:u,s=s<0?0:255<s?255:s,c=c<0?0:255<c?255:c,a}var a={},u=0,s=0,c=0;return e&&t(e),a.toRgb=function(){return{r:u,g:s,b:c}},a.toHsv=function(){return e=u,t=s,n=c,o=0,(i=O1(e/=255,O1(t/=255,n/=255)))===(a=B1(e,B1(t,n)))?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,{h:P1(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/((o=a)-i))),s:P1(100*r),v:P1(100*o)});var e,t,n,r,o,i,a},a.toHex=function(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+e(u)+e(s)+e(c)},a.parse=t,a},ImageUploader:function(n){var e=jh(),r=$h(n,e);return{upload:function(e,t){return r.upload(e,(t=void 0===t||t)?qh(n):void 0)}}}},dom:{EventUtils:ai,Sizzle:K,DomQuery:X,TreeWalker:Ar,TextSeeker:pu,DOMUtils:Ge,ScriptLoader:Wa,RangeUtils:df,Serializer:eh,StyleSheetLoader:wr,ControlSelection:Zl,BookmarkManager:Cl,Selection:$p,Event:ai.Event},html:{Styles:oo,Entities:Go,Node:md,Schema:no,SaxParser:Ed,DomParser:Qp,Writer:Rd,Serializer:Dd},Env:Ke,AddOnManager:Ga,Annotator:yl,Formatter:Yh,UndoManager:Jh,EditorCommands:NC,WindowManager:Ih,NotificationManager:lh,EditorObservable:qC,Shortcuts:GC,Editor:r1,FocusManager:cd,EditorManager:v1,DOM:Ge.DOM,ScriptLoader:Wa.ScriptLoader,PluginManager:Ph,ThemeManager:Lh,IconManager:Rh,Resource:Dt,trim:Xe.trim,isArray:Xe.isArray,is:Xe.is,toArray:Xe.toArray,makeMap:Xe.makeMap,each:Xe.each,map:Xe.map,grep:Xe.grep,inArray:Xe.inArray,extend:Xe.extend,create:Xe.create,walk:Xe.walk,createNS:Xe.createNS,resolve:Xe.resolve,explode:Xe.explode,_addCacheSuffix:Xe._addCacheSuffix,isOpera:Ke.opera,isWebKit:Ke.webkit,isIE:Ke.ie,isGecko:Ke.gecko,isMac:Ke.mac},Bt=Pt=Xe.extend(v1,z1),H1=(window.tinymce=Bt,window.tinyMCE=Bt,Pt);if("object"==typeof module)try{module.exports=H1}catch(H1){}}();
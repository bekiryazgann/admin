!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Stepper=e()}(this,function(){"use strict";function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,s=arguments[e];for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}).apply(this,arguments)}function o(t,e,n,s){var i,o,r,c=t[f];c._steps[e].classList.contains(d.ACTIVE)||c._stepsContents[e].classList.contains(d.ACTIVE)||(i=u("show.bs-stepper",{cancelable:!0,detail:{from:c._currentIndex,to:e,indexStep:e}}),t.dispatchEvent(i),o=c._steps.filter(function(t){return t.classList.contains(d.ACTIVE)}),r=c._stepsContents.filter(function(t){return t.classList.contains(d.ACTIVE)}),i.defaultPrevented)||(o.length&&o[0].classList.remove(d.ACTIVE),r.length&&(r[0].classList.remove(d.ACTIVE),t.classList.contains(d.VERTICAL)||c.options.animation||r[0].classList.remove(d.BLOCK)),a(t,c._steps[e],c._steps,n),l(t,c._stepsContents[e],c._stepsContents,r,s))}var i,t,n=window.Element.prototype.matches,r=function(t,e){return t.closest(e)},p=function(t,e){return new window.Event(t,e)},u=function(t,e){return new window.CustomEvent(t,e)},d=(window.Element.prototype.matches||(n=window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector),window.Element.prototype.closest||(r=function(t,e){if(document.documentElement.contains(t))do{if(n.call(t,e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType);return null}),window.Event&&"function"==typeof window.Event||(p=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,Boolean(e.bubbles),Boolean(e.cancelable)),n}),"function"!=typeof window.CustomEvent&&(i=window.Event.prototype.preventDefault,u=function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,(e=e||{bubbles:!1,cancelable:!1,detail:null}).bubbles,e.cancelable,e.detail),n.preventDefault=function(){this.cancelable&&(i.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}))},n}),{ACTIVE:"active",LINEAR:"linear",BLOCK:"dstepper-block",NONE:"dstepper-none",FADE:"fade",VERTICAL:"vertical"}),h="transitionend",f="bsStepper",a=function(e,t,n,s){n.forEach(function(t){t=t.querySelector(s.selectors.trigger);t.setAttribute("aria-selected","false"),e.classList.contains(d.LINEAR)&&t.setAttribute("disabled","disabled")}),t.classList.add(d.ACTIVE);n=t.querySelector(s.selectors.trigger);n.setAttribute("aria-selected","true"),e.classList.contains(d.LINEAR)&&n.removeAttribute("disabled")},l=function(e,n,t,s,i){var o,r,c=e[f],t=t.indexOf(n),a=u("shown.bs-stepper",{cancelable:!0,detail:{from:c._currentIndex,to:t,indexStep:t}});function l(){r=!0,o.removeEventListener(h,l)}n.classList.contains(d.FADE)?(n.classList.remove(d.NONE),c=(c=n)&&(t=window.getComputedStyle(c).transitionDuration,parseFloat(t))?(t=t.split(",")[0],1e3*parseFloat(t)):0,n.addEventListener(h,function t(){n.classList.add(d.BLOCK),n.removeEventListener(h,t),e.dispatchEvent(a),i()}),s.length&&s[0].classList.add(d.NONE),n.classList.add(d.ACTIVE),r=!1,t=c+5,(o=n).addEventListener(h,l),window.setTimeout(function(){r||o.dispatchEvent(p(h)),o.removeEventListener(h,l)},t)):(n.classList.add(d.ACTIVE),n.classList.add(d.BLOCK),e.dispatchEvent(a),i())},c={linear:!0,animation:!1,selectors:{steps:".step",trigger:".step-trigger",stepper:".bs-stepper"}};return(t=e.prototype)._setLinkListeners=function(){var e=this;this._steps.forEach(function(t){var i,t=t.querySelector(e.options.selectors.trigger);e.options.linear?(e._clickStepLinearListener=(e.options,function(t){t.preventDefault()}),t.addEventListener("click",e._clickStepLinearListener)):(e._clickStepNonLinearListener=(i=e.options,function(t){t.preventDefault();var t=r(t.target,i.selectors.steps),e=r(t,i.selectors.stepper),n=e[f],s=n._steps.indexOf(t);o(e,s,i,function(){n._currentIndex=s})}),t.addEventListener("click",e._clickStepNonLinearListener))})},t.next=function(){var t=this,e=this._currentIndex+1<=this._steps.length-1?this._currentIndex+1:this._steps.length-1;o(this._element,e,this.options,function(){t._currentIndex=e})},t.previous=function(){var t=this,e=0<=this._currentIndex-1?this._currentIndex-1:0;o(this._element,e,this.options,function(){t._currentIndex=e})},t.to=function(t){var e=this,t=t-1,n=0<=t&&t<this._steps.length?t:0;o(this._element,n,this.options,function(){e._currentIndex=n})},t.reset=function(){var t=this;o(this._element,0,this.options,function(){t._currentIndex=0})},t.destroy=function(){var e=this;this._steps.forEach(function(t){t=t.querySelector(e.options.selectors.trigger);e.options.linear?t.removeEventListener("click",e._clickStepLinearListener):t.removeEventListener("click",e._clickStepNonLinearListener)}),this._element[f]=void 0,this._element=void 0,this._currentIndex=void 0,this._steps=void 0,this._stepsContents=void 0,this._clickStepLinearListener=void 0,this._clickStepNonLinearListener=void 0},e;function e(t,e){var n=this;void 0===e&&(e={}),this._element=t,this._currentIndex=0,this._stepsContents=[],this.options=s({},c,{},e),this.options.selectors=s({},c.selectors,{},this.options.selectors),this.options.linear&&this._element.classList.add(d.LINEAR),this._steps=[].slice.call(this._element.querySelectorAll(this.options.selectors.steps)),this._steps.filter(function(t){return t.hasAttribute("data-target")}).forEach(function(t){n._stepsContents.push(n._element.querySelector(t.getAttribute("data-target")))}),t=this._stepsContents,this.options.animation&&t.forEach(function(t){t.classList.add(d.FADE),t.classList.add(d.NONE)}),this._setLinkListeners(),Object.defineProperty(this._element,f,{value:this,writable:!0}),this._steps.length&&o(this._element,this._currentIndex,this.options,function(){})}});
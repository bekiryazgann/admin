let productTable=$("#urun-tablosu").DataTable({ajax:{url:url+"api/products"},columns:[{data:"id",t:!1,render:function(t,e,a,i){return'<div class="form-check"> <input class="form-check-input dt-checkboxes" type="checkbox" value="" id="checkbox'+a.id+'" /><label class="form-check-label" for="checkbox'+a.id+'"></label></div>'},i:{l:'<div class="form-check"> <input class="form-check-input" type="checkbox" value="" id="checkboxSelectAll" /><label class="form-check-label" for="checkboxSelectAll"></label></div>'}},{data:"id"},{data:"image",render:function(t,e,a){return`<img class='img-fluid' src='${a.image}' alt='${a.name}' style="width: 80px"/>`}},{data:"code"},{data:"name"},{data:"category"},{data:"stock"},{data:"fee",render:function(t,e,a){return t+"₺"}},{data:"status",t:!1,render:function(t,e,a){let i="";return"1"===t?i="@trans(Aktif)":"2"===t?i="@trans(Pasif)":"3"===t&&(i="@trans(Stokta Yok)"),`<div class="text-end"><span class="badge badge-light-success text-center">${i}</span></div>`}},{data:"id",width:"12%",t:!1,render:function(t,e,a){return`<div class="d-flex justify-content-between align-items-center mx-auto" style="padding-bottom: 0;padding-right: 0; padding-left: 0;">
                            <div>
                                <a href="${url+"catalog/products/edit/"+a.realId}" class="btn btn-flat-primary btn-sm" id="brandEdit" data-key="${a.realId}">
                                    <i class="far fa-edit" style="font-size: 18px"></i>
                                </a>
                            </div>
                            <div>
                                <button type="button" class="btn btn-flat-primary btn-sm" id="productDelete" data-key="${a.realId}">
                                    <i class="far fa-trash" style="font-size: 18px"></i>
                                </button>
                            </div>
                        </div>`}}],...datatableOptions});$(document).on("click","#productDelete",function(){let e=$(this).data("key");Swal.fire({title:"Emin misiniz?",text:"Bunu geri alamazsınız!",icon:"warning",o:!0,u:"Sil",p:"Vazgeç",m:{h:"animate__animated animate__fadeIn"},k:{g:"btn btn-outline-primary",v:"btn btn-outline-danger ms-1"},$:!1}).then(function(t){t.value&&$.post(url+"api/productDelete",{id:e},function(t){t.error?toastr.error(t.error.message,t.error.title,{B:!0,S:!1,T:!1}):toastr.success(t.success.message,t.success.title,{B:!0,S:!1,T:!1}),productTable.draw()},"json")})});